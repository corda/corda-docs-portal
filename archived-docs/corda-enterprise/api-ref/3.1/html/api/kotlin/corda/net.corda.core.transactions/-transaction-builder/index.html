<HTML>
<HEAD>
<meta charset="UTF-8">
<title>TransactionBuilder - corda</title>
<link rel="stylesheet" href="../../../style.css">

<meta name="docsearch:language" content="en">
<meta name="docsearch:version" content="3.1">
<meta name="docsearch:project" content="corda-enterprise">
</head>
<BODY>
<a href="../../index.html">corda</a>&nbsp;/&nbsp;<a href="../index.html">net.corda.core.transactions</a>&nbsp;/&nbsp;<a href="./index.html">TransactionBuilder</a><br/>
<br/>
<h1>TransactionBuilder</h1>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">TransactionBuilder</span></code>
<p>A TransactionBuilder is a transaction class that's mutable (unlike the others which are all immutable). It is
intended to be passed around contracts that may edit it by adding new states/commands. Then once the states
and commands are right, this class can be used as a holding bucket to gather signatures from multiple parties.</p>
<p>The builder can be customised for specific transaction types, e.g. where additional processing is needed
before adding a state/command.</p>
<h3>Parameters</h3>
<p><a name="notary"></a>
<code>notary</code> - Notary used for the transaction. If null, this indicates the transaction DOES NOT have a notary.
When this is set to a non-null value, an output state can be added by just passing in a <a href="../../net.corda.core.contracts/-contract-state/index.html">ContractState</a> – a
<a href="../../net.corda.core.contracts/-transaction-state/index.html">TransactionState</a> with this notary specified will be generated automatically.</p>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="-init-.html">&lt;init&gt;</a></p>
</td>
<td>
<code><span class="identifier">TransactionBuilder</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.identity.Party)/notary">notary</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">)</span></code><code><span class="identifier">TransactionBuilder</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.identity.Party, java.util.UUID, kotlin.collections.MutableList((net.corda.core.contracts.StateRef)), kotlin.collections.MutableList((net.corda.core.crypto.SecureHash)), kotlin.collections.MutableList((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.MutableList((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), net.corda.core.contracts.TimeWindow, net.corda.core.contracts.PrivacySalt)/notary">notary</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">?</span>&nbsp;<span class="symbol">=</span>&nbsp;null<span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.identity.Party, java.util.UUID, kotlin.collections.MutableList((net.corda.core.contracts.StateRef)), kotlin.collections.MutableList((net.corda.core.crypto.SecureHash)), kotlin.collections.MutableList((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.MutableList((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), net.corda.core.contracts.TimeWindow, net.corda.core.contracts.PrivacySalt)/lockId">lockId</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html"><span class="identifier">UUID</span></a>&nbsp;<span class="symbol">=</span>&nbsp;(Strand.currentStrand() as? FlowStateMachine&lt;*&gt;)?.id?.uuid ?: UUID.randomUUID()<span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.identity.Party, java.util.UUID, kotlin.collections.MutableList((net.corda.core.contracts.StateRef)), kotlin.collections.MutableList((net.corda.core.crypto.SecureHash)), kotlin.collections.MutableList((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.MutableList((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), net.corda.core.contracts.TimeWindow, net.corda.core.contracts.PrivacySalt)/inputs">inputs</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html"><span class="identifier">MutableList</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-state-ref/index.html"><span class="identifier">StateRef</span></a><span class="symbol">&gt;</span>&nbsp;<span class="symbol">=</span>&nbsp;arrayListOf()<span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.identity.Party, java.util.UUID, kotlin.collections.MutableList((net.corda.core.contracts.StateRef)), kotlin.collections.MutableList((net.corda.core.crypto.SecureHash)), kotlin.collections.MutableList((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.MutableList((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), net.corda.core.contracts.TimeWindow, net.corda.core.contracts.PrivacySalt)/attachments">attachments</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html"><span class="identifier">MutableList</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a><span class="symbol">&gt;</span>&nbsp;<span class="symbol">=</span>&nbsp;arrayListOf()<span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.identity.Party, java.util.UUID, kotlin.collections.MutableList((net.corda.core.contracts.StateRef)), kotlin.collections.MutableList((net.corda.core.crypto.SecureHash)), kotlin.collections.MutableList((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.MutableList((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), net.corda.core.contracts.TimeWindow, net.corda.core.contracts.PrivacySalt)/outputs">outputs</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html"><span class="identifier">MutableList</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-transaction-state/index.html"><span class="identifier">TransactionState</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-contract-state/index.html"><span class="identifier">ContractState</span></a><span class="symbol">&gt;</span><span class="symbol">&gt;</span>&nbsp;<span class="symbol">=</span>&nbsp;arrayListOf()<span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.identity.Party, java.util.UUID, kotlin.collections.MutableList((net.corda.core.contracts.StateRef)), kotlin.collections.MutableList((net.corda.core.crypto.SecureHash)), kotlin.collections.MutableList((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.MutableList((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), net.corda.core.contracts.TimeWindow, net.corda.core.contracts.PrivacySalt)/commands">commands</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html"><span class="identifier">MutableList</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-command/index.html"><span class="identifier">Command</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">&gt;</span>&nbsp;<span class="symbol">=</span>&nbsp;arrayListOf()<span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.identity.Party, java.util.UUID, kotlin.collections.MutableList((net.corda.core.contracts.StateRef)), kotlin.collections.MutableList((net.corda.core.crypto.SecureHash)), kotlin.collections.MutableList((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.MutableList((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), net.corda.core.contracts.TimeWindow, net.corda.core.contracts.PrivacySalt)/window">window</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-time-window/index.html"><span class="identifier">TimeWindow</span></a><span class="symbol">?</span>&nbsp;<span class="symbol">=</span>&nbsp;null<span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$<init>(net.corda.core.identity.Party, java.util.UUID, kotlin.collections.MutableList((net.corda.core.contracts.StateRef)), kotlin.collections.MutableList((net.corda.core.crypto.SecureHash)), kotlin.collections.MutableList((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.MutableList((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), net.corda.core.contracts.TimeWindow, net.corda.core.contracts.PrivacySalt)/privacySalt">privacySalt</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-privacy-salt/index.html"><span class="identifier">PrivacySalt</span></a>&nbsp;<span class="symbol">=</span>&nbsp;PrivacySalt()<span class="symbol">)</span></code>
<p>A TransactionBuilder is a transaction class that's mutable (unlike the others which are all immutable). It is
intended to be passed around contracts that may edit it by adding new states/commands. Then once the states
and commands are right, this class can be used as a holding bucket to gather signatures from multiple parties.</p>
</td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="attachments.html">attachments</a></p>
</td>
<td>
<code><span class="keyword">val </span><span class="identifier">attachments</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html"><span class="identifier">MutableList</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<p><a href="commands.html">commands</a></p>
</td>
<td>
<code><span class="keyword">val </span><span class="identifier">commands</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html"><span class="identifier">MutableList</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-command/index.html"><span class="identifier">Command</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<p><a href="inputs.html">inputs</a></p>
</td>
<td>
<code><span class="keyword">val </span><span class="identifier">inputs</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html"><span class="identifier">MutableList</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-state-ref/index.html"><span class="identifier">StateRef</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<p><a href="lock-id.html">lockId</a></p>
</td>
<td>
<code><span class="keyword">var </span><span class="identifier">lockId</span><span class="symbol">: </span><a href="http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html"><span class="identifier">UUID</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="notary.html">notary</a></p>
</td>
<td>
<code><span class="keyword">var </span><span class="identifier">notary</span><span class="symbol">: </span><a href="../../net.corda.core.identity/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">?</span></code>
<p>Notary used for the transaction. If null, this indicates the transaction DOES NOT have a notary.
When this is set to a non-null value, an output state can be added by just passing in a <a href="../../net.corda.core.contracts/-contract-state/index.html">ContractState</a> – a
<a href="../../net.corda.core.contracts/-transaction-state/index.html">TransactionState</a> with this notary specified will be generated automatically.</p>
</td>
</tr>
<tr>
<td>
<p><a href="outputs.html">outputs</a></p>
</td>
<td>
<code><span class="keyword">val </span><span class="identifier">outputs</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html"><span class="identifier">MutableList</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-transaction-state/index.html"><span class="identifier">TransactionState</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-contract-state/index.html"><span class="identifier">ContractState</span></a><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<p><a href="privacy-salt.html">privacySalt</a></p>
</td>
<td>
<code><span class="keyword">var </span><span class="identifier">privacySalt</span><span class="symbol">: </span><a href="../../net.corda.core.contracts/-privacy-salt/index.html"><span class="identifier">PrivacySalt</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="window.html">window</a></p>
</td>
<td>
<code><span class="keyword">var </span><span class="identifier">window</span><span class="symbol">: </span><a href="../../net.corda.core.contracts/-time-window/index.html"><span class="identifier">TimeWindow</span></a><span class="symbol">?</span></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="add-attachment.html">addAttachment</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">addAttachment</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addAttachment(net.corda.core.crypto.SecureHash)/attachmentId">attachmentId</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="./index.html"><span class="identifier">TransactionBuilder</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="add-command.html">addCommand</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">addCommand</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addCommand(net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))/arg">arg</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-command/index.html"><span class="identifier">Command</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="./index.html"><span class="identifier">TransactionBuilder</span></a></code><br/>
<code><span class="keyword">fun </span><span class="identifier">addCommand</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addCommand(net.corda.core.contracts.CommandData, kotlin.Array((java.security.PublicKey)))/data">data</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-command-data.html"><span class="identifier">CommandData</span></a><span class="symbol">, </span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addCommand(net.corda.core.contracts.CommandData, kotlin.Array((java.security.PublicKey)))/keys">keys</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html"><span class="identifier">PublicKey</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="./index.html"><span class="identifier">TransactionBuilder</span></a></code><br/>
<code><span class="keyword">fun </span><span class="identifier">addCommand</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addCommand(net.corda.core.contracts.CommandData, kotlin.collections.List((java.security.PublicKey)))/data">data</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-command-data.html"><span class="identifier">CommandData</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addCommand(net.corda.core.contracts.CommandData, kotlin.collections.List((java.security.PublicKey)))/keys">keys</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html"><span class="identifier">PublicKey</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="./index.html"><span class="identifier">TransactionBuilder</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="add-input-state.html">addInputState</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">addInputState</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addInputState(net.corda.core.contracts.StateAndRef((net.corda.core.contracts.ContractState)))/stateAndRef">stateAndRef</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-state-and-ref/index.html"><span class="identifier">StateAndRef</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="./index.html"><span class="identifier">TransactionBuilder</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="add-output-state.html">addOutputState</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">addOutputState</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addOutputState(net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))/state">state</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-transaction-state/index.html"><span class="identifier">TransactionState</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="./index.html"><span class="identifier">TransactionBuilder</span></a></code><br/>
<code><span class="keyword">fun </span><span class="identifier">addOutputState</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addOutputState(net.corda.core.contracts.ContractState, kotlin.String, net.corda.core.identity.Party, kotlin.Int, net.corda.core.contracts.AttachmentConstraint)/state">state</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-contract-state/index.html"><span class="identifier">ContractState</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addOutputState(net.corda.core.contracts.ContractState, kotlin.String, net.corda.core.identity.Party, kotlin.Int, net.corda.core.contracts.AttachmentConstraint)/contract">contract</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-contract-class-name.html"><span class="identifier">ContractClassName</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addOutputState(net.corda.core.contracts.ContractState, kotlin.String, net.corda.core.identity.Party, kotlin.Int, net.corda.core.contracts.AttachmentConstraint)/notary">notary</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addOutputState(net.corda.core.contracts.ContractState, kotlin.String, net.corda.core.identity.Party, kotlin.Int, net.corda.core.contracts.AttachmentConstraint)/encumbrance">encumbrance</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">?</span>&nbsp;<span class="symbol">=</span>&nbsp;null<span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addOutputState(net.corda.core.contracts.ContractState, kotlin.String, net.corda.core.identity.Party, kotlin.Int, net.corda.core.contracts.AttachmentConstraint)/constraint">constraint</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-attachment-constraint/index.html"><span class="identifier">AttachmentConstraint</span></a>&nbsp;<span class="symbol">=</span>&nbsp;AutomaticHashConstraint<span class="symbol">)</span><span class="symbol">: </span><a href="./index.html"><span class="identifier">TransactionBuilder</span></a></code><code><span class="keyword">fun </span><span class="identifier">addOutputState</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addOutputState(net.corda.core.contracts.ContractState, kotlin.String, net.corda.core.contracts.AttachmentConstraint)/state">state</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-contract-state/index.html"><span class="identifier">ContractState</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addOutputState(net.corda.core.contracts.ContractState, kotlin.String, net.corda.core.contracts.AttachmentConstraint)/contract">contract</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-contract-class-name.html"><span class="identifier">ContractClassName</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$addOutputState(net.corda.core.contracts.ContractState, kotlin.String, net.corda.core.contracts.AttachmentConstraint)/constraint">constraint</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-attachment-constraint/index.html"><span class="identifier">AttachmentConstraint</span></a>&nbsp;<span class="symbol">=</span>&nbsp;AutomaticHashConstraint<span class="symbol">)</span><span class="symbol">: </span><a href="./index.html"><span class="identifier">TransactionBuilder</span></a></code>
<p>A default notary must be specified during builder construction to use this method</p>
</td>
</tr>
<tr>
<td>
<p><a href="attachments.html">attachments</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">attachments</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<p><a href="commands.html">commands</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">commands</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-command/index.html"><span class="identifier">Command</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<p><a href="copy.html">copy</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">copy</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="./index.html"><span class="identifier">TransactionBuilder</span></a></code>
<p>Creates a copy of the builder.</p>
</td>
</tr>
<tr>
<td>
<p><a href="input-states.html">inputStates</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">inputStates</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-state-ref/index.html"><span class="identifier">StateRef</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<p><a href="output-states.html">outputStates</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">outputStates</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-transaction-state/index.html"><span class="identifier">TransactionState</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<p><a href="set-privacy-salt.html">setPrivacySalt</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">setPrivacySalt</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$setPrivacySalt(net.corda.core.contracts.PrivacySalt)/privacySalt">privacySalt</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-privacy-salt/index.html"><span class="identifier">PrivacySalt</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="./index.html"><span class="identifier">TransactionBuilder</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="set-time-window.html">setTimeWindow</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">setTimeWindow</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$setTimeWindow(net.corda.core.contracts.TimeWindow)/timeWindow">timeWindow</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-time-window/index.html"><span class="identifier">TimeWindow</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="./index.html"><span class="identifier">TransactionBuilder</span></a></code>
<p>Sets the <a href="../../net.corda.core.contracts/-time-window/index.html">TimeWindow</a> for this transaction, replacing the existing <a href="../../net.corda.core.contracts/-time-window/index.html">TimeWindow</a> if there is one. To be valid, the
transaction must then be signed by the notary service within this window of time. In this way, the notary acts as
the Timestamp Authority.</p>
<code><span class="keyword">fun </span><span class="identifier">setTimeWindow</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$setTimeWindow(java.time.Instant, java.time.Duration)/time">time</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html"><span class="identifier">Instant</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$setTimeWindow(java.time.Instant, java.time.Duration)/timeTolerance">timeTolerance</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html"><span class="identifier">Duration</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="./index.html"><span class="identifier">TransactionBuilder</span></a></code>
<p>The <a href="../../net.corda.core.contracts/-time-window/index.html">TimeWindow</a> for the transaction can also be defined as <a href="set-time-window.html#net.corda.core.transactions.TransactionBuilder$setTimeWindow(java.time.Instant, java.time.Duration)/time">time</a> +/- <a href="set-time-window.html#net.corda.core.transactions.TransactionBuilder$setTimeWindow(java.time.Instant, java.time.Duration)/timeTolerance">timeTolerance</a>. The tolerance should be
chosen such that your code can finish building the transaction and sending it to the Timestamp Authority within
that window of time, taking into account factors such as network latency. Transactions being built by a group of
collaborating parties may therefore require a higher time tolerance than a transaction being built by a single
node.</p>
</td>
</tr>
<tr>
<td>
<p><a href="to-ledger-transaction.html">toLedgerTransaction</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">toLedgerTransaction</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$toLedgerTransaction(net.corda.core.node.ServiceHub)/services">services</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node/-service-hub/index.html"><span class="identifier">ServiceHub</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="../-ledger-transaction/index.html"><span class="identifier">LedgerTransaction</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="to-signed-transaction.html">toSignedTransaction</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">toSignedTransaction</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$toSignedTransaction(net.corda.core.node.services.KeyManagementService, java.security.PublicKey, net.corda.core.crypto.SignatureMetadata, net.corda.core.node.ServicesForResolution)/keyManagementService">keyManagementService</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node.services/-key-management-service/index.html"><span class="identifier">KeyManagementService</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$toSignedTransaction(net.corda.core.node.services.KeyManagementService, java.security.PublicKey, net.corda.core.crypto.SignatureMetadata, net.corda.core.node.ServicesForResolution)/publicKey">publicKey</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html"><span class="identifier">PublicKey</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$toSignedTransaction(net.corda.core.node.services.KeyManagementService, java.security.PublicKey, net.corda.core.crypto.SignatureMetadata, net.corda.core.node.ServicesForResolution)/signatureMetadata">signatureMetadata</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.crypto/-signature-metadata/index.html"><span class="identifier">SignatureMetadata</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$toSignedTransaction(net.corda.core.node.services.KeyManagementService, java.security.PublicKey, net.corda.core.crypto.SignatureMetadata, net.corda.core.node.ServicesForResolution)/services">services</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node/-services-for-resolution/index.html"><span class="identifier">ServicesForResolution</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="../-signed-transaction/index.html"><span class="identifier">SignedTransaction</span></a></code>
<p>Sign the built transaction and return it. This is an internal function for use by the service hub, please use
<a href="#">ServiceHub.signInitialTransaction</a> instead.</p>
</td>
</tr>
<tr>
<td>
<p><a href="to-wire-transaction.html">toWireTransaction</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">toWireTransaction</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$toWireTransaction(net.corda.core.node.ServicesForResolution)/services">services</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node/-services-for-resolution/index.html"><span class="identifier">ServicesForResolution</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="../-wire-transaction/index.html"><span class="identifier">WireTransaction</span></a></code>
<p>Generates a <a href="../-wire-transaction/index.html">WireTransaction</a> from this builder and resolves any <a href="../../net.corda.core.contracts/-automatic-hash-constraint/index.html">AutomaticHashConstraint</a> on contracts to
<a href="../../net.corda.core.contracts/-hash-attachment-constraint/index.html">HashAttachmentConstraint</a>.</p>
</td>
</tr>
<tr>
<td>
<p><a href="verify.html">verify</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">verify</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.TransactionBuilder$verify(net.corda.core.node.ServiceHub)/services">services</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node/-service-hub/index.html"><span class="identifier">ServiceHub</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="with-items.html">withItems</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">withItems</span><span class="symbol">(</span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.core.transactions.TransactionBuilder$withItems(kotlin.Array((kotlin.Any)))/items">items</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="./index.html"><span class="identifier">TransactionBuilder</span></a></code>
<p>A more convenient way to add items to this transaction that calls the add* methods for you based on type</p>
</td>
</tr>
</tbody>
</table>
<h3>Extension Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="../../net.corda.core.utilities/kotlin.-any/context-logger.html">contextLogger</a></p>
</td>
<td>
<code><span class="keyword">fun </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">.</span><span class="identifier">contextLogger</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Logger</span></code>
<p>When called from a companion object, returns the logger for the enclosing class.</p>
</td>
</tr>
</tbody>
</table>

<style>
    @import url("https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,500,600");
    #cookies-eu-banner {
        background-color: rgba(83, 88, 95, 0.9);
        border-radius: 3px;
        color: #fff;
        font-family: 'Source Sans Pro', sans-serif;
        font-size: 13px;
        font-weight: 400;
        left: 3px;
        position: fixed;
        padding: 6px;
        right: 3px;
        text-align: center;
        top: 100px;
        z-index: 1000;
    }
    
    #cookies-eu-banner h3,
    #cookies-eu-banner p {
        color: #fff;
        font-size: 18px;
        letter-spacing: 0;
    }
    
    #cookies-eu-banner h3 {
        font-size: 24px;
        font-style: normal;
        font-weight: 400;
        line-height: 1.2;
        margin: 9px 0 0;
        text-transform: uppercase;
    }
    
    #cookies-eu-banner p {
        margin-bottom: 10px;
        padding: 8px 36px 0;
        text-align: justify;
        line-height: 1.4em;
    }
    
    #cookies-eu-banner fieldset {
        min-width: 0;
        padding: 0;
        margin: 0;
        border: 0;
    }
    
    #cookies-eu-banner legend {
        color: inherit;
        display: block;
        font-size: 18px;
        line-height: inherit;
        max-width: 100%;
        margin-bottom: 16px;
        padding: 0;
        white-space: normal;
        width: 100%;
    }
    
    #cookies-eu-banner a {
        color: #62AAF1;
    }
    
    #cookies-eu-banner .cookies-button-group {
        display: flex;
        justify-content: center;
    }
    
    #cookies-eu-accept,
    #cookies-eu-accept-all {
        background-color: #ec1d24;
        border: none;
        border-radius: 6px;
        color: #fff;
        font-size: 12px;
        font-weight: 600;
        margin: 0 10px 10px;
        max-height: 40px;
        height: 40px;
        line-height: 1.1;
        text-decoration: none;
        width: 150px;
    }
    
    .cookies-checkbox {
        display: inline-block;
        margin: 5px 10px;
    }
    
    .cookies-checkbox label {
        font-size: 16px;
        margin-left: 3px;
    }
    
    @media screen and (min-width: 768px) {
        #cookies-eu-banner {
            bottom: 5px;
            top: inherit;
        }
        #cookies-eu-accept,
        #cookies-eu-accept-all {
            font-size: 14px;
        }
    }
</style>
<div id="cookies-eu-banner" style="display: none;">
    <h3 style="text-transform:none">Your privacy</h3>
    <div class='cookie-flex'>
        <p>
            We use cookies to improve your experience on our site, and to help us understand how people use our documentation. For more detailed information, see our <a href="https://www.r3.com/privacy-policy/">privacy policy</a> and <a href="#">cookie declaration</a>.
        </p>
        <form id='cookie-consent-form'>
            <fieldset>
                <legend>
                    Please select from the following options to continue to our site.
                </legend>
                <div class='cookies-button-group'>
                    <button id="cookies-eu-accept" type="button">
                      Allow cookies selected
                    </button>
                    <button id="cookies-eu-accept-all" type="button">
                      Allow all cookies
                    </button>
                    <span class='cookies-checkbox'>
                      <input
                      type="checkbox"
                      id="necessary"
                      name="necessary"
                      autocomplete="off"
                      checked
                      disabled />
                        <input
                        name="necessary"
                        type="hidden"
                        value="on"/>
                        <label for="necessary">Necessary</label>
                    </span>
                    <span class='cookies-checkbox'>
                      <input
                      type="checkbox"
                      id="preferences"
                      name="preferences"
                      autocomplete="off" />
                      <label for="preferences">Preferences</label>
                    </span>
                    <span class='cookies-checkbox'>
                      <input
                      type="checkbox"
                      id="statistics"
                      name="statistics"
                      autocomplete="off" />
                      <label for="statistics">Statistics</label>
                    </span>
                    <span class='cookies-checkbox'>
                      <input
                      type="checkbox"
                      id="marketing"
                      name="marketing"
                      autocomplete="off" />
                      <label for="marketing">Marketing</label>
                    </span>
                </div>
            </fieldset>
        </form>
    </div>
</div>
<script class='api-keys'>
    var gaKey = 'UA-87760032-1';
    var algolia_appId = "UX2KMUWFAL";
    var algolia_apiKey = "1fe3367db02689b4aeebc59efad5abaf";
    var algolia_index = "docs.corda.net";
</script>
<script class='cookies-eu-banner'>
    ! function(root, factory) {
        "use strict";
        "function" == typeof define && define.amd ? define([], factory) : "object" == typeof exports ? module.exports = factory() : root.CookiesEuBanner = factory()
    }(window, function() {
        "use strict";
        var document = window.document,
            CookiesEuBanner = function(launchFunction, waitAccept, useLocalStorage, undefined) {
                if (!(this instanceof CookiesEuBanner)) return new CookiesEuBanner(launchFunction);
                this.cookieTimeout = 33696e6, this.bots = /bot|crawler|spider|crawling/i, this.cookieName = "hasConsent", this.trackingCookiesNames = ["__utma", "__utmb", "__utmc", "__utmt", "__utmv", "__utmz", "_ga", "_gat", "_gid"], this.launchFunction = launchFunction, this.waitAccept = waitAccept || !1, this.useLocalStorage = useLocalStorage || !1, this.init()
            };
        return CookiesEuBanner.prototype = {
            init: function() {
                var isBot = this.bots.test(navigator.userAgent);
                navigator.doNotTrack || navigator.msDoNotTrack || window.doNotTrack;
                return isBot || !1 === this.hasConsent() ? (this.removeBanner(0), !1) : !0 === this.hasConsent() ? (this.launchFunction(), !0) : (this.showBanner(), void(this.waitAccept || this.setConsent(!0)))
            },
            showBanner: function() {
                var _this = this,
                    getElementById = document.getElementById.bind(document),
                    banner = getElementById("cookies-eu-banner"),
                    rejectButton = getElementById("cookies-eu-reject"),
                    acceptButton = getElementById("cookies-eu-accept"),
                    moreLink = getElementById("cookies-eu-more"),
                    waitRemove = void 0 === banner.dataset.waitRemove ? 0 : parseInt(banner.dataset.waitRemove),
                    addClickListener = this.addClickListener,
                    removeBanner = _this.removeBanner.bind(_this, waitRemove);
                banner.style.display = "block", moreLink && addClickListener(moreLink, function() {
                    _this.deleteCookie(_this.cookieName)
                }), acceptButton && addClickListener(acceptButton, function() {
                    removeBanner(), _this.setConsent(!0), _this.launchFunction()
                }), rejectButton && addClickListener(rejectButton, function() {
                    removeBanner(), _this.setConsent(!1), _this.trackingCookiesNames.map(_this.deleteCookie)
                })
            },
            setConsent: function(consent) {
                if (this.useLocalStorage) return localStorage.setItem(this.cookieName, consent);
                this.setCookie(this.cookieName, consent)
            },
            hasConsent: function() {
                function isCookieSetTo(value) {
                    return -1 < document.cookie.indexOf(cookieName + "=" + value) || localStorage.getItem(cookieName) === value
                }
                var cookieName = this.cookieName;
                return !!isCookieSetTo("true") || !isCookieSetTo("false") && null
            },
            setCookie: function(name, value) {
                var date = new Date;
                date.setTime(date.getTime() + this.cookieTimeout), document.cookie = name + "=" + value + ";SameSite=Strict;expires=" + date.toGMTString() + ";path=/"
            },
            deleteCookie: function(name) {
                var hostname = document.location.hostname.replace(/^www\./, ""),
                    commonSuffix = "; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/";
                document.cookie = name + "=; domain=." + hostname + commonSuffix, document.cookie = name + "=" + commonSuffix
            },
            addClickListener: function(DOMElement, callback) {
                if (DOMElement.attachEvent) return DOMElement.attachEvent("onclick", callback);
                DOMElement.addEventListener("click", callback)
            },
            removeBanner: function(wait) {
                setTimeout(function() {
                    var banner = document.getElementById("cookies-eu-banner");
                    banner && banner.parentNode && banner.parentNode.removeChild(banner)
                }, wait)
            }
        }, CookiesEuBanner
    });
</script>
<script class='google-analytics'>
    function googleAnalytics() {
        var i, s, o, r, a, m;
        i = window, s = document, o = "script", r = "ga", i.GoogleAnalyticsObject = r, i.ga = i.ga || function() {
            (i.ga.q = i.ga.q || []).push(arguments)
        }, i.ga.l = +new Date, a = s.createElement(o), m = s.getElementsByTagName(o)[0], a.async = 1, a.src = "//www.google-analytics.com/analytics.js", m.parentNode.insertBefore(a, m), window.ga("create", "UA-87760032-1", "auto"), window.ga("send", "pageview")
    }
</script>
<script class='docSearchInit'>
    function docSearchInit() {
        var algoliaOptions;
        document.querySelector("#search-input") && (algoliaOptions = {
            hitsPerPage: 5,
            facetFilters: facetFilters
        }, /404.html/.test(window.location.pathname) && delete algoliaOptions.facetFilters, window.docsearch({
            appId: algolia_appId,
            apiKey: algolia_apiKey,
            indexName: algolia_index,
            inputSelector: "#search-input",
            algoliaOptions: algoliaOptions
        }))
    }
</script>
<script class='corda-cookie-banner'>
    const docsearchLoad = (resolve, reject) => {
        const script = document.createElement('script');
        document.body.appendChild(script);
        script.onload = resolve;
        script.onerror = reject;
        script.async = true;
        script.src = "https://cdn.jsdelivr.net/npm/docsearch.js@2.6.3/dist/cdn/docsearch.min.js";
    };

    class DocsiteCookies {
        constructor() {
            this.name = 'corda_cookie';
            this.cookiesAccepted = {
                set: true,
                necessary: true,
                preferences: false,
                statistics: false,
                marketing: false
            };
            this.form = document.querySelector('#cookie-consent-form');
            this.handleAllCookies();

            new CookiesEuBanner(() => {
                this.cookieBanner();
            }, true);
        }

        handleAllCookies() {
            const acceptButton = document.querySelector('#cookies-eu-accept');
            const allCookiesButton = document.querySelector('#cookies-eu-accept-all');

            allCookiesButton.addEventListener('click', e => {
                e.preventDefault();
                this.allowAllCookies(this.form);
                acceptButton.click();
            });
        }

        cookieBanner() {
            if (!this.checkConsent()) {
                this.formToCookie(this.name, this.form);
                this.setAdditionalServices();
            } else {
                this.setAdditionalServices();
            }
        }

        allowAllCookies(form) {
            let cookiePreferences = form.querySelectorAll('.cookies-checkbox');
            for (let cookie of cookiePreferences) {
                cookie.querySelector('input').checked = true;
            }
        }

        formToCookie(name, form) {
            const thirteenMonthsInMils = 31104000000;

            let date = new Date();
            date.setTime(date.getTime() + thirteenMonthsInMils);

            let formData = new FormData(form);
            for (var pair of formData.entries()) {
                switch (pair[0]) {
                    case "necessary":
                        this.cookiesAccepted.necessary = (pair[1] === 'on') ?
                            true :
                            false;
                        break;
                    case "preferences":
                        this.cookiesAccepted.preferences = (pair[1] === 'on') ?
                            true :
                            false;
                        break;
                    case "statistics":
                        this.cookiesAccepted.statistics = (pair[1] === 'on') ?
                            true :
                            false;
                        break;
                    case "marketing":
                        this.cookiesAccepted.marketing = (pair[1] === 'on') ?
                            true :
                            false;
                        break;
                    default:
                        break;
                }
            }
            let cookieValue = JSON.stringify(this.cookiesAccepted);

            document.cookie = `${name}=${cookieValue};SameSite=Strict;expires=${date.toGMTString()};path=/`;
        }

        checkConsent() {
            let cookieName = this.name;
            let cookieValue = this.getCookie(cookieName);

            if (cookieValue) {
                if (cookieValue.set === true) {
                    return true;
                } else {
                    return false;
                }
            } else {
                return false;
            }
        }

        getCookie(name) {
            let value = "; " + document.cookie;
            let parts = value.split("; " + name + "=");
            let cValue = "";

            if (parts.length == 2) {
                cValue = parts.pop().split(";").shift();
            }

            if (hasJsonStructure(cValue)) {
                return JSON.parse(cValue);
            } else {
                return cValue;
            }
        }

        setAdditionalServices() {
            let cookieConsent = this.getCookie(this.name);
            for (let [key, value] of Object.entries(cookieConsent)) {
                if (key === 'necessary' && value === true) {
                    new Promise(docsearchLoad)
                        .then(() => {
                            docSearchInit();
                        })
                        .catch(err => console.log(err));
                }
                if (key === 'statistics' && value === true) {
                    googleAnalytics();
                }
            }
        }
    }

    function hasJsonStructure(str) {
        if (typeof str !== 'string') return false;
        try {
            const result = JSON.parse(str);
            const type = Object.prototype.toString.call(result);
            return type === '[object Object]' ||
                type === '[object Array]';
        } catch (err) {
            return false;
        }
    }
</script>
<script class='initialise'>
    new DocsiteCookies();
</script>
</body>
</HTML>
