<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_202) on Fri Apr 03 13:47:53 BST 2020 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>MockNetwork</title>
<meta name="date" content="2020-04-03">
<meta name="keywords" content="net.corda.testing.node.MockNetwork class">
<meta name="keywords" content="getNextNodeId()">
<meta name="keywords" content="getDefaultNotaryNode()">
<meta name="keywords" content="getDefaultNotaryIdentity()">
<meta name="keywords" content="getNotaryNodes()">
<meta name="keywords" content="createPartyNode()">
<meta name="keywords" content="createNode()">
<meta name="keywords" content="createUnstartedNode()">
<meta name="keywords" content="startNodes()">
<meta name="keywords" content="stopNodes()">
<meta name="keywords" content="waitQuiescent()">
<meta name="keywords" content="runNetwork()">
<meta name="keywords" content="baseDirectory()">
<meta name="keywords" content="getCordappPackages()">
<meta name="keywords" content="getDefaultParameters()">
<meta name="keywords" content="getNetworkSendManuallyPumped()">
<meta name="keywords" content="getThreadPerNode()">
<meta name="keywords" content="getServicePeerAllocationStrategy()">
<meta name="keywords" content="getNotarySpecs()">
<meta name="keywords" content="getNetworkParameters()">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>

<meta name="docsearch:language" content="en">
<meta name="docsearch:version" content="3.2">
<meta name="docsearch:project" content="corda-enterprise">
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MockNetwork";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/corda/testing/node/InMemoryMessagingNetwork.MockMessagingService.html" title="class in net.corda.testing.node"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/corda/testing/node/MockNetworkNotarySpec.html" title="class in net.corda.testing.node"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/corda/testing/node/MockNetwork.html" target="_top">Frames</a></li>
<li><a href="MockNetwork.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.corda.testing.node</div>
<h2 title="Class MockNetwork" class="title">Class MockNetwork</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>net.corda.testing.node.MockNetwork</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">MockNetwork</span></pre>
<div class="block"><p><p>A mock node brings up a suite of in-memory services in a fast manner suitable for unit testing.
Components that do IO are either swapped out for mocks, or pointed to a Jimfs in memory filesystem or an in
memory H2 database instance.</p></p><p><p><p>Java users can use the constructor that takes an (optional) <a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="class in net.corda.testing.node"><code>class MockNetworkParameters</code></a> builder, which may be more
convenient than specifying all the defaults by hand. Please see <a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="class in net.corda.testing.node"><code>class MockNetworkParameters</code></a> for the documentation
of each parameter.</p><p>Mock network nodes require manual pumping by default: they will not run asynchronous. This means that
for message exchanges to take place (and associated handlers to run), you must call the <a href="../../../../net/corda/testing/node/MockNetwork.html#runNetwork-rounds-"><code>MockNetwork.runNetwork</code></a>
method. If you want messages to flow automatically, use automatic pumping with a thread per node but watch out
for code running parallel to your unit tests: you will need to use futures correctly to ensure race-free results.</p><p>You can get a printout of every message sent by using code like:</p><code><pre>    LogHelper.setLevel("+messages")</pre></code><p>By default a single notary node is automatically started, which forms part of the network parameters for all the nodes.
This node is available by calling <a href="../../../../net/corda/testing/node/MockNetwork.html#getDefaultNotaryNode--"><code>MockNetwork.getDefaultNotaryNode</code></a>.</p></p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="class in net.corda.testing.node"><code>class MockNetworkParameters</code></a>, 
<a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="class in net.corda.testing.node"><code>class MockNetworkParameters</code></a>, 
<a href="../../../../net/corda/testing/node/MockNetwork.html#runNetwork-rounds-"><code>MockNetwork.runNetwork</code></a>, 
<a href="../../../../net/corda/testing/node/MockNetwork.html#getDefaultNotaryNode--"><code>MockNetwork.getDefaultNotaryNode</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#MockNetwork-cordappPackages-defaultParameters-networkSendManuallyPumped-threadPerNode-servicePeerAllocationStrategy-notarySpecs-networkParameters-">MockNetwork</a></span>(java.util.List&lt;java.lang.String&gt;&nbsp;cordappPackages,
           <a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="type parameter in MockNetworkParameters">MockNetworkParameters</a>&nbsp;defaultParameters,
           boolean&nbsp;networkSendManuallyPumped,
           boolean&nbsp;threadPerNode,
           <a href="../../../../net/corda/testing/node/InMemoryMessagingNetwork.ServicePeerAllocationStrategy.html" title="type parameter in InMemoryMessagingNetwork.ServicePeerAllocationStrategy">InMemoryMessagingNetwork.ServicePeerAllocationStrategy</a>&nbsp;servicePeerAllocationStrategy,
           java.util.List&lt;net.corda.testing.node.MockNetworkNotarySpec&gt;&nbsp;notarySpecs,
           <a href="../../../../net/corda/core/node/NetworkParameters.html" title="type parameter in NetworkParameters">NetworkParameters</a>&nbsp;networkParameters)</code>
<div class="block">A mock node brings up a suite of in-memory services in a fast manner suitable for unit testing.
Components that do IO are either swapped out for mocks, or pointed to a Jimfs in memory filesystem or an in
memory H2 database instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#MockNetwork-cordappPackages-parameters-">MockNetwork</a></span>(java.util.List&lt;java.lang.String&gt;&nbsp;cordappPackages,
           <a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="type parameter in MockNetworkParameters">MockNetworkParameters</a>&nbsp;parameters)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#MockNetwork-cordappPackages-">MockNetwork</a></span>(java.util.List&lt;java.lang.String&gt;&nbsp;cordappPackages)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.nio.file.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#baseDirectory-nodeId-">baseDirectory</a></span>(int&nbsp;nodeId)</code>
<div class="block">Get the base directory for the given node id.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#createNode-parameters-">createNode</a></span>(<a href="../../../../net/corda/testing/node/MockNodeParameters.html" title="type parameter in MockNodeParameters">MockNodeParameters</a>&nbsp;parameters)</code>
<div class="block">Create a started node with the given parameters.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#createNode-legalName-forcedID-entropyRoot-configOverrides-extraCordappPackages-">createNode</a></span>(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName,
          java.lang.Integer&nbsp;forcedID,
          java.math.BigInteger&nbsp;entropyRoot,
          kotlin.jvm.functions.Function1&lt;? super net.corda.node.services.config.NodeConfiguration,? extends java.lang.Object&gt;&nbsp;configOverrides,
          java.util.List&lt;java.lang.String&gt;&nbsp;extraCordappPackages)</code>
<div class="block">Create a started node with the given parameters.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#createNode-legalName-forcedID-entropyRoot-configOverrides-">createNode</a></span>(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName,
          java.lang.Integer&nbsp;forcedID,
          java.math.BigInteger&nbsp;entropyRoot,
          kotlin.jvm.functions.Function1&lt;? super net.corda.node.services.config.NodeConfiguration,? extends java.lang.Object&gt;&nbsp;configOverrides)</code>
<div class="block">Create a started node with the given parameters.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#createNode-legalName-forcedID-entropyRoot-">createNode</a></span>(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName,
          java.lang.Integer&nbsp;forcedID,
          java.math.BigInteger&nbsp;entropyRoot)</code>
<div class="block">Create a started node with the given parameters.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#createNode-legalName-forcedID-">createNode</a></span>(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName,
          java.lang.Integer&nbsp;forcedID)</code>
<div class="block">Create a started node with the given parameters.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#createNode-legalName-">createNode</a></span>(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName)</code>
<div class="block">Create a started node with the given parameters.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#createNode--">createNode</a></span>()</code>
<div class="block">Create a started node with the given parameters.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#createPartyNode-legalName-">createPartyNode</a></span>(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName)</code>
<div class="block">Create a started node with the given identity.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/UnstartedMockNode.html" title="type parameter in UnstartedMockNode">UnstartedMockNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#createUnstartedNode-parameters-">createUnstartedNode</a></span>(<a href="../../../../net/corda/testing/node/MockNodeParameters.html" title="type parameter in MockNodeParameters">MockNodeParameters</a>&nbsp;parameters)</code>
<div class="block">Create an unstarted node with the given parameters.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/UnstartedMockNode.html" title="type parameter in UnstartedMockNode">UnstartedMockNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#createUnstartedNode-legalName-forcedID-entropyRoot-configOverrides-extraCordappPackages-">createUnstartedNode</a></span>(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName,
                   java.lang.Integer&nbsp;forcedID,
                   java.math.BigInteger&nbsp;entropyRoot,
                   kotlin.jvm.functions.Function1&lt;? super net.corda.node.services.config.NodeConfiguration,? extends java.lang.Object&gt;&nbsp;configOverrides,
                   java.util.List&lt;java.lang.String&gt;&nbsp;extraCordappPackages)</code>
<div class="block">Create an unstarted node with the given parameters.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/UnstartedMockNode.html" title="type parameter in UnstartedMockNode">UnstartedMockNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#createUnstartedNode-legalName-forcedID-entropyRoot-configOverrides-">createUnstartedNode</a></span>(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName,
                   java.lang.Integer&nbsp;forcedID,
                   java.math.BigInteger&nbsp;entropyRoot,
                   kotlin.jvm.functions.Function1&lt;? super net.corda.node.services.config.NodeConfiguration,? extends java.lang.Object&gt;&nbsp;configOverrides)</code>
<div class="block">Create an unstarted node with the given parameters.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/UnstartedMockNode.html" title="type parameter in UnstartedMockNode">UnstartedMockNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#createUnstartedNode-legalName-forcedID-entropyRoot-">createUnstartedNode</a></span>(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName,
                   java.lang.Integer&nbsp;forcedID,
                   java.math.BigInteger&nbsp;entropyRoot)</code>
<div class="block">Create an unstarted node with the given parameters.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/UnstartedMockNode.html" title="type parameter in UnstartedMockNode">UnstartedMockNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#createUnstartedNode-legalName-forcedID-">createUnstartedNode</a></span>(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName,
                   java.lang.Integer&nbsp;forcedID)</code>
<div class="block">Create an unstarted node with the given parameters.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/UnstartedMockNode.html" title="type parameter in UnstartedMockNode">UnstartedMockNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#createUnstartedNode-legalName-">createUnstartedNode</a></span>(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName)</code>
<div class="block">Create an unstarted node with the given parameters.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/UnstartedMockNode.html" title="type parameter in UnstartedMockNode">UnstartedMockNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#createUnstartedNode--">createUnstartedNode</a></span>()</code>
<div class="block">Create an unstarted node with the given parameters.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#getCordappPackages--">getCordappPackages</a></span>()</code>
<div class="block">A</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#getDefaultNotaryIdentity--">getDefaultNotaryIdentity</a></span>()</code>
<div class="block">Return the identity of the default notary node.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#getDefaultNotaryNode--">getDefaultNotaryNode</a></span>()</code>
<div class="block">Returns the single notary node on the network. Throws an exception if there are none or more than one.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="type parameter in MockNetworkParameters">MockNetworkParameters</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#getDefaultParameters--">getDefaultParameters</a></span>()</code>
<div class="block">A</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="../../../../net/corda/core/node/NetworkParameters.html" title="type parameter in NetworkParameters">NetworkParameters</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#getNetworkParameters--">getNetworkParameters</a></span>()</code>
<div class="block">The network parameters to be used by all the nodes.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#getNetworkSendManuallyPumped--">getNetworkSendManuallyPumped</a></span>()</code>
<div class="block">If true then messages will not be routed from sender to receiver until you use</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#getNextNodeId--">getNextNodeId</a></span>()</code>
<div class="block">In a mock network, nodes have an incrementing integer ID. Real networks do not have this. Returns the next ID that will be used.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;net.corda.testing.node.StartedMockNode&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#getNotaryNodes--">getNotaryNodes</a></span>()</code>
<div class="block">Returns the list of notary nodes started by the network.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>java.util.List&lt;net.corda.testing.node.MockNetworkNotarySpec&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#getNotarySpecs--">getNotarySpecs</a></span>()</code>
<div class="block">The notaries to use in the mock network.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/corda/testing/node/InMemoryMessagingNetwork.ServicePeerAllocationStrategy.html" title="type parameter in InMemoryMessagingNetwork.ServicePeerAllocationStrategy">InMemoryMessagingNetwork.ServicePeerAllocationStrategy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#getServicePeerAllocationStrategy--">getServicePeerAllocationStrategy</a></span>()</code>
<div class="block">How messages are load balanced in the case where a single compound identity</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#getThreadPerNode--">getThreadPerNode</a></span>()</code>
<div class="block">If true then each node will be run in its own thread.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#runNetwork-rounds-">runNetwork</a></span>(int&nbsp;rounds)</code>
<div class="block">Asks every node in order to process any queued up inbound messages. This may in turn result in nodes
sending more messages to each other, thus, a typical usage is to call runNetwork with the rounds
parameter set to -1 (the default) which simply runs as many rounds as necessary to result in network
stability (no nodes sent any messages in the last round).</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#runNetwork--">runNetwork</a></span>()</code>
<div class="block">Asks every node in order to process any queued up inbound messages. This may in turn result in nodes
sending more messages to each other, thus, a typical usage is to call runNetwork with the rounds
parameter set to -1 (the default) which simply runs as many rounds as necessary to result in network
stability (no nodes sent any messages in the last round).</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#startNodes--">startNodes</a></span>()</code>
<div class="block">Start all nodes that aren't already started.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#stopNodes--">stopNodes</a></span>()</code>
<div class="block">Stop all nodes.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/testing/node/MockNetwork.html#waitQuiescent--">waitQuiescent</a></span>()</code>
<div class="block">Block until all scheduled activity, active flows and network activity has ceased.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MockNetwork-cordappPackages-defaultParameters-networkSendManuallyPumped-threadPerNode-servicePeerAllocationStrategy-notarySpecs-networkParameters-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MockNetwork</h4>
<pre>public&nbsp;MockNetwork(java.util.List&lt;java.lang.String&gt;&nbsp;cordappPackages,
                   <a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="type parameter in MockNetworkParameters">MockNetworkParameters</a>&nbsp;defaultParameters,
                   boolean&nbsp;networkSendManuallyPumped,
                   boolean&nbsp;threadPerNode,
                   <a href="../../../../net/corda/testing/node/InMemoryMessagingNetwork.ServicePeerAllocationStrategy.html" title="type parameter in InMemoryMessagingNetwork.ServicePeerAllocationStrategy">InMemoryMessagingNetwork.ServicePeerAllocationStrategy</a>&nbsp;servicePeerAllocationStrategy,
                   java.util.List&lt;net.corda.testing.node.MockNetworkNotarySpec&gt;&nbsp;notarySpecs,
                   <a href="../../../../net/corda/core/node/NetworkParameters.html" title="type parameter in NetworkParameters">NetworkParameters</a>&nbsp;networkParameters)</pre>
<div class="block"><p><p>A mock node brings up a suite of in-memory services in a fast manner suitable for unit testing.
Components that do IO are either swapped out for mocks, or pointed to a Jimfs in memory filesystem or an in
memory H2 database instance.</p></p><p><p><p>Java users can use the constructor that takes an (optional) <a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="class in net.corda.testing.node"><code>class MockNetworkParameters</code></a> builder, which may be more
convenient than specifying all the defaults by hand. Please see <a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="class in net.corda.testing.node"><code>class MockNetworkParameters</code></a> for the documentation
of each parameter.</p><p>Mock network nodes require manual pumping by default: they will not run asynchronous. This means that
for message exchanges to take place (and associated handlers to run), you must call the <a href="../../../../net/corda/testing/node/MockNetwork.html#runNetwork-rounds-"><code>MockNetwork.runNetwork</code></a>
method. If you want messages to flow automatically, use automatic pumping with a thread per node but watch out
for code running parallel to your unit tests: you will need to use futures correctly to ensure race-free results.</p><p>You can get a printout of every message sent by using code like:</p><code><pre>    LogHelper.setLevel("+messages")</pre></code><p>By default a single notary node is automatically started, which forms part of the network parameters for all the nodes.
This node is available by calling <a href="../../../../net/corda/testing/node/MockNetwork.html#getDefaultNotaryNode--"><code>MockNetwork.getDefaultNotaryNode</code></a>.</p></p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cordappPackages</code> - A <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html">List</a> of cordapp packages to scan for any cordapp code, e.g. contract verification code, flows and services.</dd>
<dd><code>defaultParameters</code> - A <a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="class in net.corda.testing.node"><code>class MockNetworkParameters</code></a> object which contains the same parameters as the constructor, providedas a convenience for Java users.</dd>
<dd><code>networkSendManuallyPumped</code> - If true then messages will not be routed from sender to receiver until you usethe <a href="../../../../net/corda/testing/node/MockNetwork.html#runNetwork-rounds-"><code>MockNetwork.runNetwork</code></a> method. This is useful for writing single-threaded unit test code that can examine thestate of the mock network before and after a message is sent, without races and without the receiving node immediatelysending a response. The default is false, so you must call runNetwork.</dd>
<dd><code>threadPerNode</code> - If true then each node will be run in its own thread. This can result in race conditions inyour code if not carefully written, but is more realistic and may help if you have flows in your app that do longblocking operations. The default is false.</dd>
<dd><code>servicePeerAllocationStrategy</code> - How messages are load balanced in the case where a single compound identityis used by multiple nodes. You rarely if ever need to change that, it's primarily of interest to people testingnotary code.</dd>
<dd><code>notarySpecs</code> - The notaries to use in the mock network. By default you get one mock notary and that is usually sufficient.</dd>
<dd><code>networkParameters</code> - The network parameters to be used by all the nodes. NetworkParameters.notaries must beempty as notaries are defined by notarySpecs.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="class in net.corda.testing.node"><code>class MockNetworkParameters</code></a>, 
<a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="class in net.corda.testing.node"><code>class MockNetworkParameters</code></a>, 
<a href="../../../../net/corda/testing/node/MockNetwork.html#runNetwork-rounds-"><code>MockNetwork.runNetwork</code></a>, 
<a href="../../../../net/corda/testing/node/MockNetwork.html#getDefaultNotaryNode--"><code>MockNetwork.getDefaultNotaryNode</code></a></dd>
</dl>
</li>
</ul>
<a name="MockNetwork-cordappPackages-parameters-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MockNetwork</h4>
<pre>public&nbsp;MockNetwork(java.util.List&lt;java.lang.String&gt;&nbsp;cordappPackages,
                   <a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="type parameter in MockNetworkParameters">MockNetworkParameters</a>&nbsp;parameters)</pre>
</li>
</ul>
<a name="MockNetwork-cordappPackages-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MockNetwork</h4>
<pre>public&nbsp;MockNetwork(java.util.List&lt;java.lang.String&gt;&nbsp;cordappPackages)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getNextNodeId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextNodeId</h4>
<pre>public&nbsp;int&nbsp;getNextNodeId()</pre>
<div class="block"><p><p>In a mock network, nodes have an incrementing integer ID. Real networks do not have this. Returns the next ID that will be used.</p></p></div>
</li>
</ul>
<a name="getDefaultNotaryNode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultNotaryNode</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a>&nbsp;getDefaultNotaryNode()</pre>
<div class="block"><p><p>Returns the single notary node on the network. Throws an exception if there are none or more than one.</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/testing/node/MockNetwork.html#getNotaryNodes--"><code>MockNetwork.getNotaryNodes</code></a></dd>
</dl>
</li>
</ul>
<a name="getDefaultNotaryIdentity--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultNotaryIdentity</h4>
<pre>public&nbsp;<a href="../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a>&nbsp;getDefaultNotaryIdentity()</pre>
<div class="block"><p><p>Return the identity of the default notary node.</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/testing/node/MockNetwork.html#getDefaultNotaryNode--"><code>MockNetwork.getDefaultNotaryNode</code></a></dd>
</dl>
</li>
</ul>
<a name="getNotaryNodes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNotaryNodes</h4>
<pre>public&nbsp;java.util.List&lt;net.corda.testing.node.StartedMockNode&gt;&nbsp;getNotaryNodes()</pre>
<div class="block"><p><p>Returns the list of notary nodes started by the network.</p></p></div>
</li>
</ul>
<a name="createPartyNode-legalName-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createPartyNode</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a>&nbsp;createPartyNode(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName)</pre>
<div class="block"><p><p>Create a started node with the given identity.</p></p></div>
</li>
</ul>
<a name="createNode-parameters-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createNode</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a>&nbsp;createNode(<a href="../../../../net/corda/testing/node/MockNodeParameters.html" title="type parameter in MockNodeParameters">MockNodeParameters</a>&nbsp;parameters)</pre>
<div class="block"><p><p>Create a started node with the given parameters.</p></p></div>
</li>
</ul>
<a name="createNode-legalName-forcedID-entropyRoot-configOverrides-extraCordappPackages-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createNode</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a>&nbsp;createNode(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName,
                                  java.lang.Integer&nbsp;forcedID,
                                  java.math.BigInteger&nbsp;entropyRoot,
                                  kotlin.jvm.functions.Function1&lt;? super net.corda.node.services.config.NodeConfiguration,? extends java.lang.Object&gt;&nbsp;configOverrides,
                                  java.util.List&lt;java.lang.String&gt;&nbsp;extraCordappPackages)</pre>
<div class="block"><p><p>Create a started node with the given parameters.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>legalName</code> - The node's legal name.</dd>
<dd><code>forcedID</code> - A unique identifier for the node.</dd>
<dd><code>entropyRoot</code> - The initial entropy value to use when generating keys. Defaults to an (insecure) random value,
but can be overridden to cause nodes to have stable or colliding identity/service keys.</dd>
<dd><code>configOverrides</code> - Add/override behaviour of the NodeConfiguration mock object.</dd>
<dd><code>extraCordappPackages</code> - Extra CorDapp packages to add for this node.</dd>
</dl>
</li>
</ul>
<a name="createNode-legalName-forcedID-entropyRoot-configOverrides-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createNode</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a>&nbsp;createNode(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName,
                                  java.lang.Integer&nbsp;forcedID,
                                  java.math.BigInteger&nbsp;entropyRoot,
                                  kotlin.jvm.functions.Function1&lt;? super net.corda.node.services.config.NodeConfiguration,? extends java.lang.Object&gt;&nbsp;configOverrides)</pre>
<div class="block"><p><p>Create a started node with the given parameters.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>legalName</code> - The node's legal name.</dd>
<dd><code>forcedID</code> - A unique identifier for the node.</dd>
<dd><code>entropyRoot</code> - The initial entropy value to use when generating keys. Defaults to an (insecure) random value,
but can be overridden to cause nodes to have stable or colliding identity/service keys.</dd>
<dd><code>configOverrides</code> - Add/override behaviour of the NodeConfiguration mock object.</dd>
</dl>
</li>
</ul>
<a name="createNode-legalName-forcedID-entropyRoot-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createNode</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a>&nbsp;createNode(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName,
                                  java.lang.Integer&nbsp;forcedID,
                                  java.math.BigInteger&nbsp;entropyRoot)</pre>
<div class="block"><p><p>Create a started node with the given parameters.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>legalName</code> - The node's legal name.</dd>
<dd><code>forcedID</code> - A unique identifier for the node.</dd>
<dd><code>entropyRoot</code> - The initial entropy value to use when generating keys. Defaults to an (insecure) random value,
but can be overridden to cause nodes to have stable or colliding identity/service keys.</dd>
</dl>
</li>
</ul>
<a name="createNode-legalName-forcedID-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createNode</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a>&nbsp;createNode(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName,
                                  java.lang.Integer&nbsp;forcedID)</pre>
<div class="block"><p><p>Create a started node with the given parameters.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>legalName</code> - The node's legal name.</dd>
<dd><code>forcedID</code> - A unique identifier for the node.</dd>
</dl>
</li>
</ul>
<a name="createNode-legalName-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createNode</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a>&nbsp;createNode(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName)</pre>
<div class="block"><p><p>Create a started node with the given parameters.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>legalName</code> - The node's legal name.</dd>
</dl>
</li>
</ul>
<a name="createNode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createNode</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/StartedMockNode.html" title="type parameter in StartedMockNode">StartedMockNode</a>&nbsp;createNode()</pre>
<div class="block"><p><p>Create a started node with the given parameters.</p></p></div>
</li>
</ul>
<a name="createUnstartedNode-parameters-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createUnstartedNode</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/UnstartedMockNode.html" title="type parameter in UnstartedMockNode">UnstartedMockNode</a>&nbsp;createUnstartedNode(<a href="../../../../net/corda/testing/node/MockNodeParameters.html" title="type parameter in MockNodeParameters">MockNodeParameters</a>&nbsp;parameters)</pre>
<div class="block"><p><p>Create an unstarted node with the given parameters.</p></p></div>
</li>
</ul>
<a name="createUnstartedNode-legalName-forcedID-entropyRoot-configOverrides-extraCordappPackages-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createUnstartedNode</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/UnstartedMockNode.html" title="type parameter in UnstartedMockNode">UnstartedMockNode</a>&nbsp;createUnstartedNode(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName,
                                             java.lang.Integer&nbsp;forcedID,
                                             java.math.BigInteger&nbsp;entropyRoot,
                                             kotlin.jvm.functions.Function1&lt;? super net.corda.node.services.config.NodeConfiguration,? extends java.lang.Object&gt;&nbsp;configOverrides,
                                             java.util.List&lt;java.lang.String&gt;&nbsp;extraCordappPackages)</pre>
<div class="block"><p><p>Create an unstarted node with the given parameters.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>legalName</code> - The node's legal name.</dd>
<dd><code>forcedID</code> - A unique identifier for the node.</dd>
<dd><code>entropyRoot</code> - The initial entropy value to use when generating keys. Defaults to an (insecure) random value,
but can be overridden to cause nodes to have stable or colliding identity/service keys.</dd>
<dd><code>configOverrides</code> - Add/override behaviour of the NodeConfiguration mock object.</dd>
<dd><code>extraCordappPackages</code> - Extra CorDapp packages to add for this node.</dd>
</dl>
</li>
</ul>
<a name="createUnstartedNode-legalName-forcedID-entropyRoot-configOverrides-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createUnstartedNode</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/UnstartedMockNode.html" title="type parameter in UnstartedMockNode">UnstartedMockNode</a>&nbsp;createUnstartedNode(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName,
                                             java.lang.Integer&nbsp;forcedID,
                                             java.math.BigInteger&nbsp;entropyRoot,
                                             kotlin.jvm.functions.Function1&lt;? super net.corda.node.services.config.NodeConfiguration,? extends java.lang.Object&gt;&nbsp;configOverrides)</pre>
<div class="block"><p><p>Create an unstarted node with the given parameters.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>legalName</code> - The node's legal name.</dd>
<dd><code>forcedID</code> - A unique identifier for the node.</dd>
<dd><code>entropyRoot</code> - The initial entropy value to use when generating keys. Defaults to an (insecure) random value,
but can be overridden to cause nodes to have stable or colliding identity/service keys.</dd>
<dd><code>configOverrides</code> - Add/override behaviour of the NodeConfiguration mock object.</dd>
</dl>
</li>
</ul>
<a name="createUnstartedNode-legalName-forcedID-entropyRoot-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createUnstartedNode</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/UnstartedMockNode.html" title="type parameter in UnstartedMockNode">UnstartedMockNode</a>&nbsp;createUnstartedNode(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName,
                                             java.lang.Integer&nbsp;forcedID,
                                             java.math.BigInteger&nbsp;entropyRoot)</pre>
<div class="block"><p><p>Create an unstarted node with the given parameters.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>legalName</code> - The node's legal name.</dd>
<dd><code>forcedID</code> - A unique identifier for the node.</dd>
<dd><code>entropyRoot</code> - The initial entropy value to use when generating keys. Defaults to an (insecure) random value,
but can be overridden to cause nodes to have stable or colliding identity/service keys.</dd>
</dl>
</li>
</ul>
<a name="createUnstartedNode-legalName-forcedID-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createUnstartedNode</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/UnstartedMockNode.html" title="type parameter in UnstartedMockNode">UnstartedMockNode</a>&nbsp;createUnstartedNode(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName,
                                             java.lang.Integer&nbsp;forcedID)</pre>
<div class="block"><p><p>Create an unstarted node with the given parameters.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>legalName</code> - The node's legal name.</dd>
<dd><code>forcedID</code> - A unique identifier for the node.</dd>
</dl>
</li>
</ul>
<a name="createUnstartedNode-legalName-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createUnstartedNode</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/UnstartedMockNode.html" title="type parameter in UnstartedMockNode">UnstartedMockNode</a>&nbsp;createUnstartedNode(<a href="../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;legalName)</pre>
<div class="block"><p><p>Create an unstarted node with the given parameters.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>legalName</code> - The node's legal name.</dd>
</dl>
</li>
</ul>
<a name="createUnstartedNode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createUnstartedNode</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/UnstartedMockNode.html" title="type parameter in UnstartedMockNode">UnstartedMockNode</a>&nbsp;createUnstartedNode()</pre>
<div class="block"><p><p>Create an unstarted node with the given parameters.</p></p></div>
</li>
</ul>
<a name="startNodes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startNodes</h4>
<pre>public&nbsp;void&nbsp;startNodes()</pre>
<div class="block"><p><p>Start all nodes that aren't already started.</p></p></div>
</li>
</ul>
<a name="stopNodes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopNodes</h4>
<pre>public&nbsp;void&nbsp;stopNodes()</pre>
<div class="block"><p><p>Stop all nodes.</p></p></div>
</li>
</ul>
<a name="waitQuiescent--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitQuiescent</h4>
<pre>public&nbsp;void&nbsp;waitQuiescent()</pre>
<div class="block"><p><p>Block until all scheduled activity, active flows and network activity has ceased.</p></p></div>
</li>
</ul>
<a name="runNetwork-rounds-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runNetwork</h4>
<pre>public&nbsp;void&nbsp;runNetwork(int&nbsp;rounds)</pre>
<div class="block"><p><p>Asks every node in order to process any queued up inbound messages. This may in turn result in nodes
sending more messages to each other, thus, a typical usage is to call runNetwork with the rounds
parameter set to -1 (the default) which simply runs as many rounds as necessary to result in network
stability (no nodes sent any messages in the last round).</p></p></div>
</li>
</ul>
<a name="runNetwork--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runNetwork</h4>
<pre>public&nbsp;void&nbsp;runNetwork()</pre>
<div class="block"><p><p>Asks every node in order to process any queued up inbound messages. This may in turn result in nodes
sending more messages to each other, thus, a typical usage is to call runNetwork with the rounds
parameter set to -1 (the default) which simply runs as many rounds as necessary to result in network
stability (no nodes sent any messages in the last round).</p></p></div>
</li>
</ul>
<a name="baseDirectory-nodeId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>baseDirectory</h4>
<pre>public&nbsp;java.nio.file.Path&nbsp;baseDirectory(int&nbsp;nodeId)</pre>
<div class="block"><p><p>Get the base directory for the given node id.</p></p></div>
</li>
</ul>
<a name="getCordappPackages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCordappPackages</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getCordappPackages()</pre>
<div class="block"><p>A</p><p><p> <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html">List</a> of cordapp packages to scan for any cordapp code, e.g. contract verification code, flows and services.</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html">List</a></dd>
</dl>
</li>
</ul>
<a name="getDefaultParameters--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultParameters</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="type parameter in MockNetworkParameters">MockNetworkParameters</a>&nbsp;getDefaultParameters()</pre>
<div class="block"><p>A</p><p><p> <a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="class in net.corda.testing.node"><code>class MockNetworkParameters</code></a> object which contains the same parameters as the constructor, providedas a convenience for Java users.</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/testing/node/MockNetworkParameters.html" title="class in net.corda.testing.node"><code>class MockNetworkParameters</code></a></dd>
</dl>
</li>
</ul>
<a name="getNetworkSendManuallyPumped--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNetworkSendManuallyPumped</h4>
<pre>public&nbsp;boolean&nbsp;getNetworkSendManuallyPumped()</pre>
<div class="block"><p>If true then messages will not be routed from sender to receiver until you use</p><p><p>the <a href="../../../../net/corda/testing/node/MockNetwork.html#runNetwork-rounds-"><code>MockNetwork.runNetwork</code></a> method. This is useful for writing single-threaded unit test code that can examine thestate of the mock network before and after a message is sent, without races and without the receiving node immediatelysending a response. The default is false, so you must call runNetwork.</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/testing/node/MockNetwork.html#runNetwork-rounds-"><code>MockNetwork.runNetwork</code></a></dd>
</dl>
</li>
</ul>
<a name="getThreadPerNode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getThreadPerNode</h4>
<pre>public&nbsp;boolean&nbsp;getThreadPerNode()</pre>
<div class="block"><p>If true then each node will be run in its own thread.</p><p><p> This can result in race conditions inyour code if not carefully written, but is more realistic and may help if you have flows in your app that do longblocking operations. The default is false.</p></p></div>
</li>
</ul>
<a name="getServicePeerAllocationStrategy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServicePeerAllocationStrategy</h4>
<pre>public&nbsp;<a href="../../../../net/corda/testing/node/InMemoryMessagingNetwork.ServicePeerAllocationStrategy.html" title="type parameter in InMemoryMessagingNetwork.ServicePeerAllocationStrategy">InMemoryMessagingNetwork.ServicePeerAllocationStrategy</a>&nbsp;getServicePeerAllocationStrategy()</pre>
<div class="block"><p>How messages are load balanced in the case where a single compound identity</p><p><p>is used by multiple nodes. You rarely if ever need to change that, it's primarily of interest to people testingnotary code.</p></p></div>
</li>
</ul>
<a name="getNotarySpecs--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNotarySpecs</h4>
<pre>public&nbsp;java.util.List&lt;net.corda.testing.node.MockNetworkNotarySpec&gt;&nbsp;getNotarySpecs()</pre>
<div class="block"><p>The notaries to use in the mock network.</p><p><p> By default you get one mock notary and that is usually sufficient.</p></p></div>
</li>
</ul>
<a name="getNetworkParameters--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getNetworkParameters</h4>
<pre>public&nbsp;<a href="../../../../net/corda/core/node/NetworkParameters.html" title="type parameter in NetworkParameters">NetworkParameters</a>&nbsp;getNetworkParameters()</pre>
<div class="block"><p>The network parameters to be used by all the nodes.</p><p><p> NetworkParameters.notaries must beempty as notaries are defined by notarySpecs.</p></p></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/corda/testing/node/InMemoryMessagingNetwork.MockMessagingService.html" title="class in net.corda.testing.node"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/corda/testing/node/MockNetworkNotarySpec.html" title="class in net.corda.testing.node"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/corda/testing/node/MockNetwork.html" target="_top">Frames</a></li>
<li><a href="MockNetwork.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<style>
    @import url("https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,500,600");
    #cookies-eu-banner {
        background-color: rgba(83, 88, 95, 0.9);
        border-radius: 3px;
        color: #fff;
        font-family: 'Source Sans Pro', sans-serif;
        font-size: 13px;
        font-weight: 400;
        left: 3px;
        position: fixed;
        padding: 6px;
        right: 3px;
        text-align: center;
        top: 100px;
        z-index: 1000;
    }
    
    #cookies-eu-banner h3,
    #cookies-eu-banner p {
        color: #fff;
        font-size: 18px;
        letter-spacing: 0;
    }
    
    #cookies-eu-banner h3 {
        font-size: 24px;
        font-style: normal;
        font-weight: 400;
        line-height: 1.2;
        margin: 9px 0 0;
        text-transform: uppercase;
    }
    
    #cookies-eu-banner p {
        margin-bottom: 10px;
        padding: 8px 36px 0;
        text-align: justify;
        line-height: 1.4em;
    }
    
    #cookies-eu-banner fieldset {
        min-width: 0;
        padding: 0;
        margin: 0;
        border: 0;
    }
    
    #cookies-eu-banner legend {
        color: inherit;
        display: block;
        font-size: 18px;
        line-height: inherit;
        max-width: 100%;
        margin-bottom: 16px;
        padding: 0;
        white-space: normal;
        width: 100%;
    }
    
    #cookies-eu-banner a {
        color: #62AAF1;
    }
    
    #cookies-eu-banner .cookies-button-group {
        display: flex;
        justify-content: center;
    }
    
    #cookies-eu-accept,
    #cookies-eu-accept-all {
        background-color: #ec1d24;
        border: none;
        border-radius: 6px;
        color: #fff;
        font-size: 12px;
        font-weight: 600;
        margin: 0 10px 10px;
        max-height: 40px;
        height: 40px;
        line-height: 1.1;
        text-decoration: none;
        width: 150px;
    }
    
    .cookies-checkbox {
        display: inline-block;
        margin: 5px 10px;
    }
    
    .cookies-checkbox label {
        font-size: 16px;
        margin-left: 3px;
    }
    
    @media screen and (min-width: 768px) {
        #cookies-eu-banner {
            bottom: 5px;
            top: inherit;
        }
        #cookies-eu-accept,
        #cookies-eu-accept-all {
            font-size: 14px;
        }
    }
</style>
<div id="cookies-eu-banner" style="display: none;">
    <h3 style="text-transform:none">Your privacy</h3>
    <div class='cookie-flex'>
        <p>
            We use cookies to improve your experience on our site, and to help us understand how people use our documentation. For more detailed information, see our <a href="https://www.r3.com/privacy-policy/">privacy policy</a> and <a href="#">cookie declaration</a>.
        </p>
        <form id='cookie-consent-form'>
            <fieldset>
                <legend>
                    Please select from the following options to continue to our site.
                </legend>
                <div class='cookies-button-group'>
                    <button id="cookies-eu-accept" type="button">
                      Allow cookies selected
                    </button>
                    <button id="cookies-eu-accept-all" type="button">
                      Allow all cookies
                    </button>
                    <span class='cookies-checkbox'>
                      <input
                      type="checkbox"
                      id="necessary"
                      name="necessary"
                      autocomplete="off"
                      checked
                      disabled />
                        <input
                        name="necessary"
                        type="hidden"
                        value="on"/>
                        <label for="necessary">Necessary</label>
                    </span>
                    <span class='cookies-checkbox'>
                      <input
                      type="checkbox"
                      id="preferences"
                      name="preferences"
                      autocomplete="off" />
                      <label for="preferences">Preferences</label>
                    </span>
                    <span class='cookies-checkbox'>
                      <input
                      type="checkbox"
                      id="statistics"
                      name="statistics"
                      autocomplete="off" />
                      <label for="statistics">Statistics</label>
                    </span>
                    <span class='cookies-checkbox'>
                      <input
                      type="checkbox"
                      id="marketing"
                      name="marketing"
                      autocomplete="off" />
                      <label for="marketing">Marketing</label>
                    </span>
                </div>
            </fieldset>
        </form>
    </div>
</div>
<script class='api-keys'>
    var gaKey = 'UA-87760032-1';
    var algolia_appId = "UX2KMUWFAL";
    var algolia_apiKey = "1fe3367db02689b4aeebc59efad5abaf";
    var algolia_index = "docs.corda.net";
</script>
<script class='cookies-eu-banner'>
    ! function(root, factory) {
        "use strict";
        "function" == typeof define && define.amd ? define([], factory) : "object" == typeof exports ? module.exports = factory() : root.CookiesEuBanner = factory()
    }(window, function() {
        "use strict";
        var document = window.document,
            CookiesEuBanner = function(launchFunction, waitAccept, useLocalStorage, undefined) {
                if (!(this instanceof CookiesEuBanner)) return new CookiesEuBanner(launchFunction);
                this.cookieTimeout = 33696e6, this.bots = /bot|crawler|spider|crawling/i, this.cookieName = "hasConsent", this.trackingCookiesNames = ["__utma", "__utmb", "__utmc", "__utmt", "__utmv", "__utmz", "_ga", "_gat", "_gid"], this.launchFunction = launchFunction, this.waitAccept = waitAccept || !1, this.useLocalStorage = useLocalStorage || !1, this.init()
            };
        return CookiesEuBanner.prototype = {
            init: function() {
                var isBot = this.bots.test(navigator.userAgent);
                navigator.doNotTrack || navigator.msDoNotTrack || window.doNotTrack;
                return isBot || !1 === this.hasConsent() ? (this.removeBanner(0), !1) : !0 === this.hasConsent() ? (this.launchFunction(), !0) : (this.showBanner(), void(this.waitAccept || this.setConsent(!0)))
            },
            showBanner: function() {
                var _this = this,
                    getElementById = document.getElementById.bind(document),
                    banner = getElementById("cookies-eu-banner"),
                    rejectButton = getElementById("cookies-eu-reject"),
                    acceptButton = getElementById("cookies-eu-accept"),
                    moreLink = getElementById("cookies-eu-more"),
                    waitRemove = void 0 === banner.dataset.waitRemove ? 0 : parseInt(banner.dataset.waitRemove),
                    addClickListener = this.addClickListener,
                    removeBanner = _this.removeBanner.bind(_this, waitRemove);
                banner.style.display = "block", moreLink && addClickListener(moreLink, function() {
                    _this.deleteCookie(_this.cookieName)
                }), acceptButton && addClickListener(acceptButton, function() {
                    removeBanner(), _this.setConsent(!0), _this.launchFunction()
                }), rejectButton && addClickListener(rejectButton, function() {
                    removeBanner(), _this.setConsent(!1), _this.trackingCookiesNames.map(_this.deleteCookie)
                })
            },
            setConsent: function(consent) {
                if (this.useLocalStorage) return localStorage.setItem(this.cookieName, consent);
                this.setCookie(this.cookieName, consent)
            },
            hasConsent: function() {
                function isCookieSetTo(value) {
                    return -1 < document.cookie.indexOf(cookieName + "=" + value) || localStorage.getItem(cookieName) === value
                }
                var cookieName = this.cookieName;
                return !!isCookieSetTo("true") || !isCookieSetTo("false") && null
            },
            setCookie: function(name, value) {
                var date = new Date;
                date.setTime(date.getTime() + this.cookieTimeout), document.cookie = name + "=" + value + ";SameSite=Strict;expires=" + date.toGMTString() + ";path=/"
            },
            deleteCookie: function(name) {
                var hostname = document.location.hostname.replace(/^www\./, ""),
                    commonSuffix = "; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/";
                document.cookie = name + "=; domain=." + hostname + commonSuffix, document.cookie = name + "=" + commonSuffix
            },
            addClickListener: function(DOMElement, callback) {
                if (DOMElement.attachEvent) return DOMElement.attachEvent("onclick", callback);
                DOMElement.addEventListener("click", callback)
            },
            removeBanner: function(wait) {
                setTimeout(function() {
                    var banner = document.getElementById("cookies-eu-banner");
                    banner && banner.parentNode && banner.parentNode.removeChild(banner)
                }, wait)
            }
        }, CookiesEuBanner
    });
</script>
<script class='google-analytics'>
    function googleAnalytics() {
        var i, s, o, r, a, m;
        i = window, s = document, o = "script", r = "ga", i.GoogleAnalyticsObject = r, i.ga = i.ga || function() {
            (i.ga.q = i.ga.q || []).push(arguments)
        }, i.ga.l = +new Date, a = s.createElement(o), m = s.getElementsByTagName(o)[0], a.async = 1, a.src = "//www.google-analytics.com/analytics.js", m.parentNode.insertBefore(a, m), window.ga("create", "UA-87760032-1", "auto"), window.ga("send", "pageview")
    }
</script>
<script class='docSearchInit'>
    function docSearchInit() {
        var algoliaOptions;
        document.querySelector("#search-input") && (algoliaOptions = {
            hitsPerPage: 5,
            facetFilters: facetFilters
        }, /404.html/.test(window.location.pathname) && delete algoliaOptions.facetFilters, window.docsearch({
            appId: algolia_appId,
            apiKey: algolia_apiKey,
            indexName: algolia_index,
            inputSelector: "#search-input",
            algoliaOptions: algoliaOptions
        }))
    }
</script>
<script class='corda-cookie-banner'>
    const docsearchLoad = (resolve, reject) => {
        const script = document.createElement('script');
        document.body.appendChild(script);
        script.onload = resolve;
        script.onerror = reject;
        script.async = true;
        script.src = "https://cdn.jsdelivr.net/npm/docsearch.js@2.6.3/dist/cdn/docsearch.min.js";
    };

    class DocsiteCookies {
        constructor() {
            this.name = 'corda_cookie';
            this.cookiesAccepted = {
                set: true,
                necessary: true,
                preferences: false,
                statistics: false,
                marketing: false
            };
            this.form = document.querySelector('#cookie-consent-form');
            this.handleAllCookies();

            new CookiesEuBanner(() => {
                this.cookieBanner();
            }, true);
        }

        handleAllCookies() {
            const acceptButton = document.querySelector('#cookies-eu-accept');
            const allCookiesButton = document.querySelector('#cookies-eu-accept-all');

            allCookiesButton.addEventListener('click', e => {
                e.preventDefault();
                this.allowAllCookies(this.form);
                acceptButton.click();
            });
        }

        cookieBanner() {
            if (!this.checkConsent()) {
                this.formToCookie(this.name, this.form);
                this.setAdditionalServices();
            } else {
                this.setAdditionalServices();
            }
        }

        allowAllCookies(form) {
            let cookiePreferences = form.querySelectorAll('.cookies-checkbox');
            for (let cookie of cookiePreferences) {
                cookie.querySelector('input').checked = true;
            }
        }

        formToCookie(name, form) {
            const thirteenMonthsInMils = 31104000000;

            let date = new Date();
            date.setTime(date.getTime() + thirteenMonthsInMils);

            let formData = new FormData(form);
            for (var pair of formData.entries()) {
                switch (pair[0]) {
                    case "necessary":
                        this.cookiesAccepted.necessary = (pair[1] === 'on') ?
                            true :
                            false;
                        break;
                    case "preferences":
                        this.cookiesAccepted.preferences = (pair[1] === 'on') ?
                            true :
                            false;
                        break;
                    case "statistics":
                        this.cookiesAccepted.statistics = (pair[1] === 'on') ?
                            true :
                            false;
                        break;
                    case "marketing":
                        this.cookiesAccepted.marketing = (pair[1] === 'on') ?
                            true :
                            false;
                        break;
                    default:
                        break;
                }
            }
            let cookieValue = JSON.stringify(this.cookiesAccepted);

            document.cookie = `${name}=${cookieValue};SameSite=Strict;expires=${date.toGMTString()};path=/`;
        }

        checkConsent() {
            let cookieName = this.name;
            let cookieValue = this.getCookie(cookieName);

            if (cookieValue) {
                if (cookieValue.set === true) {
                    return true;
                } else {
                    return false;
                }
            } else {
                return false;
            }
        }

        getCookie(name) {
            let value = "; " + document.cookie;
            let parts = value.split("; " + name + "=");
            let cValue = "";

            if (parts.length == 2) {
                cValue = parts.pop().split(";").shift();
            }

            if (hasJsonStructure(cValue)) {
                return JSON.parse(cValue);
            } else {
                return cValue;
            }
        }

        setAdditionalServices() {
            let cookieConsent = this.getCookie(this.name);
            for (let [key, value] of Object.entries(cookieConsent)) {
                if (key === 'necessary' && value === true) {
                    new Promise(docsearchLoad)
                        .then(() => {
                            docSearchInit();
                        })
                        .catch(err => console.log(err));
                }
                if (key === 'statistics' && value === true) {
                    googleAnalytics();
                }
            }
        }
    }

    function hasJsonStructure(str) {
        if (typeof str !== 'string') return false;
        try {
            const result = JSON.parse(str);
            const type = Object.prototype.toString.call(result);
            return type === '[object Object]' ||
                type === '[object Array]';
        } catch (err) {
            return false;
        }
    }
</script>
<script class='initialise'>
    new DocsiteCookies();
</script>
</body>
</html>
