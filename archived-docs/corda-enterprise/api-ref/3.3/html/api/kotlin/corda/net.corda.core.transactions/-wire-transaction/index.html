<HTML>
<HEAD>
<meta charset="UTF-8">
<title>WireTransaction - corda</title>
<link rel="stylesheet" href="../../../style.css">

<meta name="docsearch:language" content="en">
<meta name="docsearch:version" content="3.3">
<meta name="docsearch:project" content="corda-enterprise">
</head>
<BODY>
<a href="../../index.html">corda</a>&nbsp;/&nbsp;<a href="../index.html">net.corda.core.transactions</a>&nbsp;/&nbsp;<a href="./index.html">WireTransaction</a><br/>
<br/>
<h1>WireTransaction</h1>
<code><span class="keyword">class </span><span class="identifier">WireTransaction</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../-traversable-transaction/index.html"><span class="identifier">TraversableTransaction</span></a></code>
<p>A transaction ready for serialisation, without any signatures attached. A WireTransaction is usually wrapped
by a <a href="../-signed-transaction/index.html">SignedTransaction</a> that carries the signatures over this payload.
The identity of the transaction is the Merkle tree root of its components (see <a href="../../net.corda.core.crypto/-merkle-tree/index.html">MerkleTree</a>).</p>
<p>For privacy purposes, each part of a transaction should be accompanied by a nonce.
To avoid storing a random number (nonce) per component, an initial <a href="privacy-salt.html">privacySalt</a> is the sole value utilised,
so that all component nonces are deterministically computed.</p>
<p>A few notes about backwards compatibility:
A wire transaction can be backwards compatible, in the sense that if an old client receives a <a href="../-traversable-transaction/component-groups.html">componentGroups</a> with
more elements than expected, it will normally deserialise the required objects and omit any checks in the optional
new fields. Moreover, because the Merkle tree is constructed from the received list of <a href="../-component-group/index.html">ComponentGroup</a>, which internally
deals with bytes, any client can compute the Merkle tree and on the same time relay a <a href="./index.html">WireTransaction</a> object even
if she is unable to read some of the "optional" component types. We stress that practically, a new type of
<a href="./index.html">WireTransaction</a> should only be considered compatible if and only if the following rules apply:</p>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="-init-.html">&lt;init&gt;</a></p>
</td>
<td>
<code><span class="identifier">WireTransaction</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.WireTransaction$<init>(kotlin.collections.List((net.corda.core.contracts.StateRef)), kotlin.collections.List((net.corda.core.crypto.SecureHash)), kotlin.collections.List((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.List((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), net.corda.core.identity.Party, net.corda.core.contracts.TimeWindow, net.corda.core.contracts.PrivacySalt)/inputs">inputs</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-state-ref/index.html"><span class="identifier">StateRef</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.WireTransaction$<init>(kotlin.collections.List((net.corda.core.contracts.StateRef)), kotlin.collections.List((net.corda.core.crypto.SecureHash)), kotlin.collections.List((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.List((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), net.corda.core.identity.Party, net.corda.core.contracts.TimeWindow, net.corda.core.contracts.PrivacySalt)/attachments">attachments</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.WireTransaction$<init>(kotlin.collections.List((net.corda.core.contracts.StateRef)), kotlin.collections.List((net.corda.core.crypto.SecureHash)), kotlin.collections.List((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.List((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), net.corda.core.identity.Party, net.corda.core.contracts.TimeWindow, net.corda.core.contracts.PrivacySalt)/outputs">outputs</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-transaction-state/index.html"><span class="identifier">TransactionState</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-contract-state/index.html"><span class="identifier">ContractState</span></a><span class="symbol">&gt;</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.WireTransaction$<init>(kotlin.collections.List((net.corda.core.contracts.StateRef)), kotlin.collections.List((net.corda.core.crypto.SecureHash)), kotlin.collections.List((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.List((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), net.corda.core.identity.Party, net.corda.core.contracts.TimeWindow, net.corda.core.contracts.PrivacySalt)/commands">commands</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-command/index.html"><span class="identifier">Command</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.WireTransaction$<init>(kotlin.collections.List((net.corda.core.contracts.StateRef)), kotlin.collections.List((net.corda.core.crypto.SecureHash)), kotlin.collections.List((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.List((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), net.corda.core.identity.Party, net.corda.core.contracts.TimeWindow, net.corda.core.contracts.PrivacySalt)/notary">notary</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">?</span><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.WireTransaction$<init>(kotlin.collections.List((net.corda.core.contracts.StateRef)), kotlin.collections.List((net.corda.core.crypto.SecureHash)), kotlin.collections.List((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.List((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), net.corda.core.identity.Party, net.corda.core.contracts.TimeWindow, net.corda.core.contracts.PrivacySalt)/timeWindow">timeWindow</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-time-window/index.html"><span class="identifier">TimeWindow</span></a><span class="symbol">?</span><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.WireTransaction$<init>(kotlin.collections.List((net.corda.core.contracts.StateRef)), kotlin.collections.List((net.corda.core.crypto.SecureHash)), kotlin.collections.List((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.List((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), net.corda.core.identity.Party, net.corda.core.contracts.TimeWindow, net.corda.core.contracts.PrivacySalt)/privacySalt">privacySalt</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-privacy-salt/index.html"><span class="identifier">PrivacySalt</span></a>&nbsp;<span class="symbol">=</span>&nbsp;PrivacySalt()<span class="symbol">)</span></code><code><span class="identifier">WireTransaction</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.WireTransaction$<init>(kotlin.collections.List((net.corda.core.transactions.ComponentGroup)), net.corda.core.contracts.PrivacySalt)/componentGroups">componentGroups</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../-component-group/index.html"><span class="identifier">ComponentGroup</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.WireTransaction$<init>(kotlin.collections.List((net.corda.core.transactions.ComponentGroup)), net.corda.core.contracts.PrivacySalt)/privacySalt">privacySalt</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-privacy-salt/index.html"><span class="identifier">PrivacySalt</span></a>&nbsp;<span class="symbol">=</span>&nbsp;PrivacySalt()<span class="symbol">)</span></code>
<p>A transaction ready for serialisation, without any signatures attached. A WireTransaction is usually wrapped
by a <a href="../-signed-transaction/index.html">SignedTransaction</a> that carries the signatures over this payload.
The identity of the transaction is the Merkle tree root of its components (see <a href="../../net.corda.core.crypto/-merkle-tree/index.html">MerkleTree</a>).</p>
</td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="id.html">id</a></p>
</td>
<td>
<code><span class="keyword">val </span><span class="identifier">id</span><span class="symbol">: </span><a href="../../net.corda.core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a></code>
<p>The transaction id is represented by the root hash of Merkle tree over the transaction components.</p>
</td>
</tr>
<tr>
<td>
<p><a href="merkle-tree.html">merkleTree</a></p>
</td>
<td>
<code><span class="keyword">val </span><span class="identifier">merkleTree</span><span class="symbol">: </span><a href="../../net.corda.core.crypto/-merkle-tree/index.html"><span class="identifier">MerkleTree</span></a></code>
<p>Builds whole Merkle tree for a transaction.
Briefly, each component group has its own sub Merkle tree and all of the roots of these trees are used as leaves
in a top level Merkle tree.
Note that ordering of elements inside a <a href="../-component-group/index.html">ComponentGroup</a> matters when computing the Merkle root.
On the other hand, insertion group ordering does not affect the top level Merkle tree construction, as it is
actually an ordered Merkle tree, where its leaves are ordered based on the group ordinal in <a href="../../net.corda.core.contracts/-component-group-enum/index.html">ComponentGroupEnum</a>.
If any of the groups is an empty list or a null object, then <a href="../../net.corda.core.crypto/-secure-hash/all-ones-hash.html">SecureHash.allOnesHash</a> is used as its hash.
Also, <a href="privacy-salt.html">privacySalt</a> is not a Merkle tree leaf, because it is already "inherently" included via the component nonces.</p>
</td>
</tr>
<tr>
<td>
<p><a href="privacy-salt.html">privacySalt</a></p>
</td>
<td>
<code><span class="keyword">val </span><span class="identifier">privacySalt</span><span class="symbol">: </span><a href="../../net.corda.core.contracts/-privacy-salt/index.html"><span class="identifier">PrivacySalt</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="required-signing-keys.html">requiredSigningKeys</a></p>
</td>
<td>
<code><span class="keyword">val </span><span class="identifier">requiredSigningKeys</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-set/index.html"><span class="identifier">Set</span></a><span class="symbol">&lt;</span><a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html"><span class="identifier">PublicKey</span></a><span class="symbol">&gt;</span></code>
<p>Public keys that need to be fulfilled by signatures in order for the transaction to be valid.</p>
</td>
</tr>
</tbody>
</table>
<h3>Inherited Properties</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="../-traversable-transaction/attachments.html">attachments</a></p>
</td>
<td>
<code><span class="keyword">val </span><span class="identifier">attachments</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a><span class="symbol">&gt;</span></code>
<p>Hashes of the ZIP/JAR files that are needed to interpret the contents of this wire transaction.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../-traversable-transaction/available-component-groups.html">availableComponentGroups</a></p>
</td>
<td>
<code><span class="keyword">val </span><span class="identifier">availableComponentGroups</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code>
<p>Returns a list of all the component groups that are present in the transaction, excluding the privacySalt,
in the following order (which is the same with the order in <a href="../../net.corda.core.contracts/-component-group-enum/index.html">ComponentGroupEnum</a>:</p>
</td>
</tr>
<tr>
<td>
<p><a href="../-traversable-transaction/commands.html">commands</a></p>
</td>
<td>
<code><span class="keyword">val </span><span class="identifier">commands</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-command/index.html"><span class="identifier">Command</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code>
<p>Ordered list of (<a href="../../net.corda.core.contracts/-command-data.html">CommandData</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a>) pairs that instruct the contracts what to do.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../-traversable-transaction/component-groups.html">componentGroups</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">componentGroups</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../-component-group/index.html"><span class="identifier">ComponentGroup</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<p><a href="../-traversable-transaction/inputs.html">inputs</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">inputs</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-state-ref/index.html"><span class="identifier">StateRef</span></a><span class="symbol">&gt;</span></code>
<p>Pointers to the input states on the ledger, identified by (tx identity hash, output index).</p>
</td>
</tr>
<tr>
<td>
<p><a href="../-traversable-transaction/notary.html">notary</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">notary</span><span class="symbol">: </span><a href="../../net.corda.core.identity/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">?</span></code>
<p>If present, the notary for this transaction. If absent then the transaction is not notarised at all.
This is intended for issuance/genesis transactions that don't consume any other states and thus can't
double spend anything.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../-traversable-transaction/outputs.html">outputs</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">outputs</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-transaction-state/index.html"><span class="identifier">TransactionState</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-contract-state/index.html"><span class="identifier">ContractState</span></a><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code>
<p>Ordered list of states defined by this transaction, along with the associated notaries.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../-traversable-transaction/time-window.html">timeWindow</a></p>
</td>
<td>
<code><span class="keyword">val </span><span class="identifier">timeWindow</span><span class="symbol">: </span><a href="../../net.corda.core.contracts/-time-window/index.html"><span class="identifier">TimeWindow</span></a><span class="symbol">?</span></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="build-filtered-transaction.html">buildFilteredTransaction</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">buildFilteredTransaction</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.WireTransaction$buildFilteredTransaction(java.util.function.Predicate((kotlin.Any)))/filtering">filtering</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html"><span class="identifier">Predicate</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-filtered-transaction/index.html"><span class="identifier">FilteredTransaction</span></a></code>
<p>Build filtered transaction using provided filtering functions.</p>
</td>
</tr>
<tr>
<td>
<p><a href="check-signature.html">checkSignature</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">checkSignature</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.WireTransaction$checkSignature(net.corda.core.crypto.TransactionSignature)/sig">sig</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.crypto/-transaction-signature/index.html"><span class="identifier">TransactionSignature</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Checks that the given signature matches one of the commands and that it is a correct signature over the tx.</p>
</td>
</tr>
<tr>
<td>
<p><a href="equals.html">equals</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">equals</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.WireTransaction$equals(kotlin.Any)/other">other</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">?</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="hash-code.html">hashCode</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">hashCode</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="to-ledger-transaction.html">toLedgerTransaction</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">toLedgerTransaction</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.WireTransaction$toLedgerTransaction(net.corda.core.node.ServicesForResolution)/services">services</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node/-services-for-resolution/index.html"><span class="identifier">ServicesForResolution</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="../-ledger-transaction/index.html"><span class="identifier">LedgerTransaction</span></a></code>
<p>Looks up identities and attachments from storage to generate a <a href="../-ledger-transaction/index.html">LedgerTransaction</a>. A transaction is expected to
have been fully resolved using the resolution flow by this point.</p>
<code><span class="keyword">fun </span><s><span class="identifier">toLedgerTransaction</span></s><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.WireTransaction$toLedgerTransaction(kotlin.Function1((java.security.PublicKey, net.corda.core.identity.Party)), kotlin.Function1((net.corda.core.crypto.SecureHash, net.corda.core.contracts.Attachment)), kotlin.Function1((net.corda.core.contracts.StateRef, net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.Function1((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)), net.corda.core.crypto.SecureHash)))/resolveIdentity">resolveIdentity</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html"><span class="identifier">PublicKey</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="../../net.corda.core.identity/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">?</span><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.WireTransaction$toLedgerTransaction(kotlin.Function1((java.security.PublicKey, net.corda.core.identity.Party)), kotlin.Function1((net.corda.core.crypto.SecureHash, net.corda.core.contracts.Attachment)), kotlin.Function1((net.corda.core.contracts.StateRef, net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.Function1((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)), net.corda.core.crypto.SecureHash)))/resolveAttachment">resolveAttachment</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><a href="../../net.corda.core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="../../net.corda.core.contracts/-attachment/index.html"><span class="identifier">Attachment</span></a><span class="symbol">?</span><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.WireTransaction$toLedgerTransaction(kotlin.Function1((java.security.PublicKey, net.corda.core.identity.Party)), kotlin.Function1((net.corda.core.crypto.SecureHash, net.corda.core.contracts.Attachment)), kotlin.Function1((net.corda.core.contracts.StateRef, net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.Function1((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)), net.corda.core.crypto.SecureHash)))/resolveStateRef">resolveStateRef</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><a href="../../net.corda.core.contracts/-state-ref/index.html"><span class="identifier">StateRef</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="../../net.corda.core.contracts/-transaction-state/index.html"><span class="identifier">TransactionState</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">?</span><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.WireTransaction$toLedgerTransaction(kotlin.Function1((java.security.PublicKey, net.corda.core.identity.Party)), kotlin.Function1((net.corda.core.crypto.SecureHash, net.corda.core.contracts.Attachment)), kotlin.Function1((net.corda.core.contracts.StateRef, net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.Function1((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)), net.corda.core.crypto.SecureHash)))/resolveContractAttachment">resolveContractAttachment</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><a href="../../net.corda.core.contracts/-transaction-state/index.html"><span class="identifier">TransactionState</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-contract-state/index.html"><span class="identifier">ContractState</span></a><span class="symbol">&gt;</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="../../net.corda.core.node.services/-attachment-id.html"><span class="identifier">AttachmentId</span></a><span class="symbol">?</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-ledger-transaction/index.html"><span class="identifier">LedgerTransaction</span></a></code>
<p>Looks up identities, attachments and dependent input states using the provided lookup functions in order to
construct a <a href="../-ledger-transaction/index.html">LedgerTransaction</a>. Note that identity lookup failure does <em>not</em> cause an exception to be thrown.</p>
</td>
</tr>
<tr>
<td>
<p><a href="to-string.html">toString</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">toString</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Companion Object Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="create-component-groups.html">createComponentGroups</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">createComponentGroups</span><span class="symbol">(</span><span class="identifier" id="net.corda.core.transactions.WireTransaction.Companion$createComponentGroups(kotlin.collections.List((net.corda.core.contracts.StateRef)), kotlin.collections.List((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.List((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), kotlin.collections.List((net.corda.core.crypto.SecureHash)), net.corda.core.identity.Party, net.corda.core.contracts.TimeWindow)/inputs">inputs</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-state-ref/index.html"><span class="identifier">StateRef</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.WireTransaction.Companion$createComponentGroups(kotlin.collections.List((net.corda.core.contracts.StateRef)), kotlin.collections.List((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.List((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), kotlin.collections.List((net.corda.core.crypto.SecureHash)), net.corda.core.identity.Party, net.corda.core.contracts.TimeWindow)/outputs">outputs</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-transaction-state/index.html"><span class="identifier">TransactionState</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-contract-state/index.html"><span class="identifier">ContractState</span></a><span class="symbol">&gt;</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.WireTransaction.Companion$createComponentGroups(kotlin.collections.List((net.corda.core.contracts.StateRef)), kotlin.collections.List((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.List((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), kotlin.collections.List((net.corda.core.crypto.SecureHash)), net.corda.core.identity.Party, net.corda.core.contracts.TimeWindow)/commands">commands</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-command/index.html"><span class="identifier">Command</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.WireTransaction.Companion$createComponentGroups(kotlin.collections.List((net.corda.core.contracts.StateRef)), kotlin.collections.List((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.List((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), kotlin.collections.List((net.corda.core.crypto.SecureHash)), net.corda.core.identity.Party, net.corda.core.contracts.TimeWindow)/attachments">attachments</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.WireTransaction.Companion$createComponentGroups(kotlin.collections.List((net.corda.core.contracts.StateRef)), kotlin.collections.List((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.List((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), kotlin.collections.List((net.corda.core.crypto.SecureHash)), net.corda.core.identity.Party, net.corda.core.contracts.TimeWindow)/notary">notary</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">?</span><span class="symbol">, </span><span class="identifier" id="net.corda.core.transactions.WireTransaction.Companion$createComponentGroups(kotlin.collections.List((net.corda.core.contracts.StateRef)), kotlin.collections.List((net.corda.core.contracts.TransactionState((net.corda.core.contracts.ContractState)))), kotlin.collections.List((net.corda.core.contracts.Command((net.corda.core.contracts.CommandData)))), kotlin.collections.List((net.corda.core.crypto.SecureHash)), net.corda.core.identity.Party, net.corda.core.contracts.TimeWindow)/timeWindow">timeWindow</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-time-window/index.html"><span class="identifier">TimeWindow</span></a><span class="symbol">?</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../-component-group/index.html"><span class="identifier">ComponentGroup</span></a><span class="symbol">&gt;</span></code>
<p>Creating list of <a href="../-component-group/index.html">ComponentGroup</a> used in one of the constructors of <a href="./index.html">WireTransaction</a> required
for backwards compatibility purposes.</p>
</td>
</tr>
</tbody>
</table>
<h3>Extension Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="../../net.corda.core.utilities/kotlin.-any/context-logger.html">contextLogger</a></p>
</td>
<td>
<code><span class="keyword">fun </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">.</span><span class="identifier">contextLogger</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Logger</span></code>
<p>When called from a companion object, returns the logger for the enclosing class.</p>
</td>
</tr>
</tbody>
</table>

<style>
    @import url("https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,500,600");
    #cookies-eu-banner {
        background-color: rgba(83, 88, 95, 0.9);
        border-radius: 3px;
        color: #fff;
        font-family: 'Source Sans Pro', sans-serif;
        font-size: 13px;
        font-weight: 400;
        left: 3px;
        position: fixed;
        padding: 6px;
        right: 3px;
        text-align: center;
        top: 100px;
        z-index: 1000;
    }
    
    #cookies-eu-banner h3,
    #cookies-eu-banner p {
        color: #fff;
        font-size: 18px;
        letter-spacing: 0;
    }
    
    #cookies-eu-banner h3 {
        font-size: 24px;
        font-style: normal;
        font-weight: 400;
        line-height: 1.2;
        margin: 9px 0 0;
        text-transform: uppercase;
    }
    
    #cookies-eu-banner p {
        margin-bottom: 10px;
        padding: 8px 36px 0;
        text-align: justify;
        line-height: 1.4em;
    }
    
    #cookies-eu-banner fieldset {
        min-width: 0;
        padding: 0;
        margin: 0;
        border: 0;
    }
    
    #cookies-eu-banner legend {
        color: inherit;
        display: block;
        font-size: 18px;
        line-height: inherit;
        max-width: 100%;
        margin-bottom: 16px;
        padding: 0;
        white-space: normal;
        width: 100%;
    }
    
    #cookies-eu-banner a {
        color: #62AAF1;
    }
    
    #cookies-eu-banner .cookies-button-group {
        display: flex;
        justify-content: center;
    }
    
    #cookies-eu-accept,
    #cookies-eu-accept-all {
        background-color: #ec1d24;
        border: none;
        border-radius: 6px;
        color: #fff;
        font-size: 12px;
        font-weight: 600;
        margin: 0 10px 10px;
        max-height: 40px;
        height: 40px;
        line-height: 1.1;
        text-decoration: none;
        width: 150px;
    }
    
    .cookies-checkbox {
        display: inline-block;
        margin: 5px 10px;
    }
    
    .cookies-checkbox label {
        font-size: 16px;
        margin-left: 3px;
    }
    
    @media screen and (min-width: 768px) {
        #cookies-eu-banner {
            bottom: 5px;
            top: inherit;
        }
        #cookies-eu-accept,
        #cookies-eu-accept-all {
            font-size: 14px;
        }
    }
</style>
<div id="cookies-eu-banner" style="display: none;">
    <h3 style="text-transform:none">Your privacy</h3>
    <div class='cookie-flex'>
        <p>
            We use cookies to improve your experience on our site, and to help us understand how people use our documentation. For more detailed information, see our <a href="https://www.r3.com/privacy-policy/">privacy policy</a> and <a href="#">cookie declaration</a>.
        </p>
        <form id='cookie-consent-form'>
            <fieldset>
                <legend>
                    Please select from the following options to continue to our site.
                </legend>
                <div class='cookies-button-group'>
                    <button id="cookies-eu-accept" type="button">
                      Allow cookies selected
                    </button>
                    <button id="cookies-eu-accept-all" type="button">
                      Allow all cookies
                    </button>
                    <span class='cookies-checkbox'>
                      <input
                      type="checkbox"
                      id="necessary"
                      name="necessary"
                      autocomplete="off"
                      checked
                      disabled />
                        <input
                        name="necessary"
                        type="hidden"
                        value="on"/>
                        <label for="necessary">Necessary</label>
                    </span>
                    <span class='cookies-checkbox'>
                      <input
                      type="checkbox"
                      id="preferences"
                      name="preferences"
                      autocomplete="off" />
                      <label for="preferences">Preferences</label>
                    </span>
                    <span class='cookies-checkbox'>
                      <input
                      type="checkbox"
                      id="statistics"
                      name="statistics"
                      autocomplete="off" />
                      <label for="statistics">Statistics</label>
                    </span>
                    <span class='cookies-checkbox'>
                      <input
                      type="checkbox"
                      id="marketing"
                      name="marketing"
                      autocomplete="off" />
                      <label for="marketing">Marketing</label>
                    </span>
                </div>
            </fieldset>
        </form>
    </div>
</div>
<script class='api-keys'>
    var gaKey = 'UA-87760032-1';
    var algolia_appId = "UX2KMUWFAL";
    var algolia_apiKey = "1fe3367db02689b4aeebc59efad5abaf";
    var algolia_index = "docs.corda.net";
</script>
<script class='cookies-eu-banner'>
    ! function(root, factory) {
        "use strict";
        "function" == typeof define && define.amd ? define([], factory) : "object" == typeof exports ? module.exports = factory() : root.CookiesEuBanner = factory()
    }(window, function() {
        "use strict";
        var document = window.document,
            CookiesEuBanner = function(launchFunction, waitAccept, useLocalStorage, undefined) {
                if (!(this instanceof CookiesEuBanner)) return new CookiesEuBanner(launchFunction);
                this.cookieTimeout = 33696e6, this.bots = /bot|crawler|spider|crawling/i, this.cookieName = "hasConsent", this.trackingCookiesNames = ["__utma", "__utmb", "__utmc", "__utmt", "__utmv", "__utmz", "_ga", "_gat", "_gid"], this.launchFunction = launchFunction, this.waitAccept = waitAccept || !1, this.useLocalStorage = useLocalStorage || !1, this.init()
            };
        return CookiesEuBanner.prototype = {
            init: function() {
                var isBot = this.bots.test(navigator.userAgent);
                navigator.doNotTrack || navigator.msDoNotTrack || window.doNotTrack;
                return isBot || !1 === this.hasConsent() ? (this.removeBanner(0), !1) : !0 === this.hasConsent() ? (this.launchFunction(), !0) : (this.showBanner(), void(this.waitAccept || this.setConsent(!0)))
            },
            showBanner: function() {
                var _this = this,
                    getElementById = document.getElementById.bind(document),
                    banner = getElementById("cookies-eu-banner"),
                    rejectButton = getElementById("cookies-eu-reject"),
                    acceptButton = getElementById("cookies-eu-accept"),
                    moreLink = getElementById("cookies-eu-more"),
                    waitRemove = void 0 === banner.dataset.waitRemove ? 0 : parseInt(banner.dataset.waitRemove),
                    addClickListener = this.addClickListener,
                    removeBanner = _this.removeBanner.bind(_this, waitRemove);
                banner.style.display = "block", moreLink && addClickListener(moreLink, function() {
                    _this.deleteCookie(_this.cookieName)
                }), acceptButton && addClickListener(acceptButton, function() {
                    removeBanner(), _this.setConsent(!0), _this.launchFunction()
                }), rejectButton && addClickListener(rejectButton, function() {
                    removeBanner(), _this.setConsent(!1), _this.trackingCookiesNames.map(_this.deleteCookie)
                })
            },
            setConsent: function(consent) {
                if (this.useLocalStorage) return localStorage.setItem(this.cookieName, consent);
                this.setCookie(this.cookieName, consent)
            },
            hasConsent: function() {
                function isCookieSetTo(value) {
                    return -1 < document.cookie.indexOf(cookieName + "=" + value) || localStorage.getItem(cookieName) === value
                }
                var cookieName = this.cookieName;
                return !!isCookieSetTo("true") || !isCookieSetTo("false") && null
            },
            setCookie: function(name, value) {
                var date = new Date;
                date.setTime(date.getTime() + this.cookieTimeout), document.cookie = name + "=" + value + ";SameSite=Strict;expires=" + date.toGMTString() + ";path=/"
            },
            deleteCookie: function(name) {
                var hostname = document.location.hostname.replace(/^www\./, ""),
                    commonSuffix = "; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/";
                document.cookie = name + "=; domain=." + hostname + commonSuffix, document.cookie = name + "=" + commonSuffix
            },
            addClickListener: function(DOMElement, callback) {
                if (DOMElement.attachEvent) return DOMElement.attachEvent("onclick", callback);
                DOMElement.addEventListener("click", callback)
            },
            removeBanner: function(wait) {
                setTimeout(function() {
                    var banner = document.getElementById("cookies-eu-banner");
                    banner && banner.parentNode && banner.parentNode.removeChild(banner)
                }, wait)
            }
        }, CookiesEuBanner
    });
</script>
<script class='google-analytics'>
    function googleAnalytics() {
        var i, s, o, r, a, m;
        i = window, s = document, o = "script", r = "ga", i.GoogleAnalyticsObject = r, i.ga = i.ga || function() {
            (i.ga.q = i.ga.q || []).push(arguments)
        }, i.ga.l = +new Date, a = s.createElement(o), m = s.getElementsByTagName(o)[0], a.async = 1, a.src = "//www.google-analytics.com/analytics.js", m.parentNode.insertBefore(a, m), window.ga("create", "UA-87760032-1", "auto"), window.ga("send", "pageview")
    }
</script>
<script class='docSearchInit'>
    function docSearchInit() {
        var algoliaOptions;
        document.querySelector("#search-input") && (algoliaOptions = {
            hitsPerPage: 5,
            facetFilters: facetFilters
        }, /404.html/.test(window.location.pathname) && delete algoliaOptions.facetFilters, window.docsearch({
            appId: algolia_appId,
            apiKey: algolia_apiKey,
            indexName: algolia_index,
            inputSelector: "#search-input",
            algoliaOptions: algoliaOptions
        }))
    }
</script>
<script class='corda-cookie-banner'>
    const docsearchLoad = (resolve, reject) => {
        const script = document.createElement('script');
        document.body.appendChild(script);
        script.onload = resolve;
        script.onerror = reject;
        script.async = true;
        script.src = "https://cdn.jsdelivr.net/npm/docsearch.js@2.6.3/dist/cdn/docsearch.min.js";
    };

    class DocsiteCookies {
        constructor() {
            this.name = 'corda_cookie';
            this.cookiesAccepted = {
                set: true,
                necessary: true,
                preferences: false,
                statistics: false,
                marketing: false
            };
            this.form = document.querySelector('#cookie-consent-form');
            this.handleAllCookies();

            new CookiesEuBanner(() => {
                this.cookieBanner();
            }, true);
        }

        handleAllCookies() {
            const acceptButton = document.querySelector('#cookies-eu-accept');
            const allCookiesButton = document.querySelector('#cookies-eu-accept-all');

            allCookiesButton.addEventListener('click', e => {
                e.preventDefault();
                this.allowAllCookies(this.form);
                acceptButton.click();
            });
        }

        cookieBanner() {
            if (!this.checkConsent()) {
                this.formToCookie(this.name, this.form);
                this.setAdditionalServices();
            } else {
                this.setAdditionalServices();
            }
        }

        allowAllCookies(form) {
            let cookiePreferences = form.querySelectorAll('.cookies-checkbox');
            for (let cookie of cookiePreferences) {
                cookie.querySelector('input').checked = true;
            }
        }

        formToCookie(name, form) {
            const thirteenMonthsInMils = 31104000000;

            let date = new Date();
            date.setTime(date.getTime() + thirteenMonthsInMils);

            let formData = new FormData(form);
            for (var pair of formData.entries()) {
                switch (pair[0]) {
                    case "necessary":
                        this.cookiesAccepted.necessary = (pair[1] === 'on') ?
                            true :
                            false;
                        break;
                    case "preferences":
                        this.cookiesAccepted.preferences = (pair[1] === 'on') ?
                            true :
                            false;
                        break;
                    case "statistics":
                        this.cookiesAccepted.statistics = (pair[1] === 'on') ?
                            true :
                            false;
                        break;
                    case "marketing":
                        this.cookiesAccepted.marketing = (pair[1] === 'on') ?
                            true :
                            false;
                        break;
                    default:
                        break;
                }
            }
            let cookieValue = JSON.stringify(this.cookiesAccepted);

            document.cookie = `${name}=${cookieValue};SameSite=Strict;expires=${date.toGMTString()};path=/`;
        }

        checkConsent() {
            let cookieName = this.name;
            let cookieValue = this.getCookie(cookieName);

            if (cookieValue) {
                if (cookieValue.set === true) {
                    return true;
                } else {
                    return false;
                }
            } else {
                return false;
            }
        }

        getCookie(name) {
            let value = "; " + document.cookie;
            let parts = value.split("; " + name + "=");
            let cValue = "";

            if (parts.length == 2) {
                cValue = parts.pop().split(";").shift();
            }

            if (hasJsonStructure(cValue)) {
                return JSON.parse(cValue);
            } else {
                return cValue;
            }
        }

        setAdditionalServices() {
            let cookieConsent = this.getCookie(this.name);
            for (let [key, value] of Object.entries(cookieConsent)) {
                if (key === 'necessary' && value === true) {
                    new Promise(docsearchLoad)
                        .then(() => {
                            docSearchInit();
                        })
                        .catch(err => console.log(err));
                }
                if (key === 'statistics' && value === true) {
                    googleAnalytics();
                }
            }
        }
    }

    function hasJsonStructure(str) {
        if (typeof str !== 'string') return false;
        try {
            const result = JSON.parse(str);
            const type = Object.prototype.toString.call(result);
            return type === '[object Object]' ||
                type === '[object Array]';
        } catch (err) {
            return false;
        }
    }
</script>
<script class='initialise'>
    new DocsiteCookies();
</script>
</body>
</HTML>
