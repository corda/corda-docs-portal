{{ define "main" }}
<main>
  <section class="section" id="home-introduce">
    <h1>
      R3 Technical Documentation
    </h1>

    <div id="home-search">
      <form class="navbar-form order-lg-4 order-0">
        {{ if .Site.Params.options.flexSearch -}}
          <input id="userinput" class="form-control is-search rounded-pill" type="search" placeholder="Search the docs" aria-label="Search the docs" autocomplete="off">
          <button class="btn_search">
            <img src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-search'><circle cx='11' cy='11' r='8'></circle><line x1='21' y1='21' x2='16.65' y2='16.65'></line></svg>">
          </button>
          <div id="suggestions" class="shadow rounded"></div>
        {{ end -}}

        {{ if .Site.Params.options.pagefind -}}
          
        <link href="/pagefind/pagefind-ui.css" rel="stylesheet">
        <script src="/pagefind/pagefind-ui.js"></script>
        
        <!-- Container for the Search Input -->
        <div id="search-input-container"></div>
        
        <!-- Container for the Search Results -->
        <div id="search-results-container"></div>
        
       
        <script>
          window.addEventListener('DOMContentLoaded', () => {
              const pfUI = new PagefindUI({
                  element: "#search-input-container", 
                  showSubResults: true,
                  pageSize: 5,
                  showImages: false,
                  showEmptyFilters: false
              });
      
              // Monitor the document for additions of the Pagefind drawer
              const observer = new MutationObserver((mutations) => {
                  mutations.forEach((mutation) => {
                      mutation.addedNodes.forEach((node) => {
                          if (node.nodeType === 1 && node.classList.contains('pagefind-ui__drawer')) {
                              // Separate the input and results if necessary
                              const searchInput = node.querySelector('.pagefind-ui__search-input');
                              const searchResults = node.querySelector('.pagefind-ui__drawer');
      
                              if (searchInput && searchResults) {
                                  document.getElementById('search-input-container').appendChild(searchInput);
                                  document.getElementById('search-results-container').appendChild(searchResults);
                              }
                              observer.disconnect(); // Optionally disconnect after successful relocation
                          }
                      });
                  });
              });
      
              observer.observe(document.body, {
                  childList: true,
                  subtree: true
              });
          });
      </script>
      
      

        {{ end -}}

        {{ if .Site.Params.options.algolia -}}
          <input id="search-input" class="form-control is-search rounded-pill" type="search" placeholder="Search the documentation..." aria-label="Search the documentation..." autocomplete="off">
          <button class="btn_search">
            <img src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-search'><circle cx='11' cy='11' r='8'></circle><line x1='21' y1='21' x2='16.65' y2='16.65'></line></svg>">
          </button>
        {{ end -}}

      </form>
    </div>
  </section>
  <section class="section">
    <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-5">
        <div class="col">
          <div class="card h-100">
            <div class="card-body">
              <h3 class="card-title">About the Docs</h3>
              <p>Learn how to use this documentation web site from R3.</p>
            </div>
            <div class="card-footer">
              <a href="/en/about-the-docs.html" class="btn rounded stretched-link">About the Docs</a>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card h-100">
            <div class="card-body">
              <h3 class="card-title">Get Started</h3>
              <p>Learn Corda key concepts.</p>
            </div>
            <div class="card-footer">
              <a href="/en/platform/corda/4.12/community/about-corda/corda-key-concepts.html" class="btn rounded stretched-link">Corda Key Concepts</a>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card h-100">
            <div class="card-body">
              <h3 class="card-title">Corda</h3>
              <p>Everything you need to know about Corda:</p>
              <ul>
                <li style="text-align: left;"><a href="en/platform/corda/4.13/enterprise.html">Corda Enterprise 4.13</a></li>
                <li style="text-align: left;"><a href="en/platform/corda/4.13/community.html">Corda Open Source 4.13</a></li>
                <li style="text-align: left;"><a href="en/platform/corda/1.6/cenm.html">CENM 1.6</a></li>
                <li style="text-align: left;"><a href="en/platform/corda/5.2.html">C5.2</a></li>
              </ul>
            </div>
          </div>
        </div>

    <!--</div>
    <div class="row">
      <div class="col">
        <div class="carousel-btns d-none">
          <button class="slick-prev slick-arrow">Previous</button>
          <button class="slick-next slick-arrow">Next</button>
          <ul class="slick-dots"></ul>
        </div>

        <div id="home-carousel">
          <div class="item">
            <div class="slide">
              <a href="en/platform/corda/5.0.html">
                <img src='{{ "images/corda-5.png" }}' alt="Corda 5">
              </a>
              <div class="d-inline-block">
                <h5>Discover the next generation of Corda!</h5>
                <p>Corda 5 is the next-generation version of Corda, designed with an understanding that it is the job of a platform to serve those running software on it.</p>
                <a href="en/platform/corda/5.0.html">Start experimenting with Next-Gen Corda</a>
              </div>
            </div>
          </div>
          <div class="item">
            <div class="slide">
              <a href="https://developer.r3.com/" target="_blank">
                <img src='{{ "images/home-page-carousel-002-dev-platform.png" }}' alt="R3 Developer Platform">
              </a>
              <div class="d-inline-block">
                <h5>Join the R3 Developer Platform</h5>
                <p>Join the most powerful blockchain community for developers.</p>
                <p>You'll find developer resources, open source
                  projects, and support from R3 developers.</p>
                <a href="https://developer.r3.com/" target="_blank">Join the R3 Developer Platform</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div> -->

  </section>
  <section class="section">
    <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-5">
      <div class="col">
        <div class="card no-border h-100">
          <div class="card-body">
            <h3 class="card-title">API Reference</h3>
            <p>Javadocs and KDocs for all publicly-exposed APIs: Corda OS, Corda Enterprise, and Corda Enterprise Network Manager (CENM).</p>
          </div>
          <div class="card-footer">
            <a href="en/api-ref.html" class="btn rounded stretched-link">Explore API References</a>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card no-border h-100">
          <div class="card-body">
            <h3 class="card-title">Tools and Add-Ons</h3>
            <p>Learn how to supercharge your Corda operations and CorDapp design and development.</p>       
          </div>
          <div class="card-footer">
            <a href="en/tools.html" class="btn rounded stretched-link">Corda Tools and Add-Ons</a>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card no-border h-100">
          <div class="card-body">
            <h3 class="card-title">R3 Developer Platform</h3>
            <p>Join the new R3 Developer Platform - the most powerful blockchain community for developers.</p>
          </div>
          <div class="card-footer">
            <a href="https://developer.r3.com" target="_blank" class="btn rounded stretched-link">Join the R3 Developer Community</a>
          </div>
        </div>
      </div>
    </div>

  </section>

</main>
{{ end }}