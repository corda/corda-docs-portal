<!doctype html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>sendAndReceiveTransactionBuilder</title>
<link href="../../../../images/logo-icon.svg" rel="icon" type="image/svg"><script>var pathToRoot = "../../../../";</script>    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="../../../../scripts/sourceset_dependencies.js" async></script>
<link href="../../../../styles/style.css" rel="Stylesheet">
<link href="../../../../styles/jetbrains-mono.css" rel="Stylesheet">
<link href="../../../../styles/main.css" rel="Stylesheet">
<link href="../../../../styles/prism.css" rel="Stylesheet">
<link href="../../../../styles/logo-styles.css" rel="Stylesheet">
<script type="text/javascript" src="../../../../scripts/clipboard.js" async></script>
<script type="text/javascript" src="../../../../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../../../../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../../../../scripts/main.js" defer></script>
<script type="text/javascript" src="../../../../scripts/prism.js" async></script>
<script type="text/javascript" src="../../../../scripts/symbol-parameters-wrapper_deferred.js" defer></script></head>
<body>
<div class="navigation-wrapper" id="navigation-wrapper">
    <div id="leftToggler"><span class="icon-toggler"></span></div>
    <div class="library-name">
<a href="../../../../index.html">
<span>corda-api</span>            </a>    </div>
    <div>5.0.0.755-Hawk1.0
    </div>
    <div class="pull-right d-flex">
        <div class="filter-section" id="filter-section">
                <button class="platform-tag platform-selector jvm-like" data-active="" data-filter=":ledger:ledger-utxo:dokkaHtmlPartial/main">jvm</button>
        </div>
        <button id="theme-toggle-button"><span id="theme-toggle"></span></button>
        <div id="searchBar"></div>
    </div>
</div>
<div id="container">
    <div id="leftColumn">
        <div id="sideMenu"></div>
    </div>
    <div id="main">
<div class="main-content" data-page-type="member" id="content" pageids="ledger-utxo::net.corda.v5.ledger.utxo/UtxoLedgerService/sendAndReceiveTransactionBuilder/#net.corda.v5.ledger.utxo.transaction.UtxoTransactionBuilder#net.corda.v5.application.messaging.FlowSession/PointingToDeclaration//-692495681">
  <div class="breadcrumbs"><a href="../../index.html">ledger-utxo</a><span class="delimiter">/</span><a href="../index.html">net.corda.v5.ledger.utxo</a><span class="delimiter">/</span><a href="index.html">UtxoLedgerService</a><span class="delimiter">/</span><span class="current">sendAndReceiveTransactionBuilder</span></div>
  <div class="cover ">
    <h1 class="cover"><span>send</span><wbr><span>And</span><wbr><span>Receive</span><wbr><span>Transaction</span><wbr><span><span>Builder</span></span></h1>
  </div>
  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":ledger:ledger-utxo:dokkaHtmlPartial/main"><div class="symbol monospace"><div class="block"><div class="block"><span class="token annotation builtin">@</span><span data-unresolved-link="org.jetbrains.annotations/NotNull///PointingToDeclaration/"><span class="token annotation builtin">NotNull</span></span></div><div class="block"><span class="token annotation builtin">@</span><a href="../../../../base/net.corda.v5.base.annotations/-suspendable/index.html"><span class="token annotation builtin">Suspendable</span></a></div></div><span class="token keyword">abstract </span><span class="token keyword"></span><span class="token keyword">fun </span><a href="send-and-receive-transaction-builder.html"><span class="token function">sendAndReceiveTransactionBuilder</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter "><span><span class="token annotation builtin">@</span><span data-unresolved-link="org.jetbrains.annotations/NotNull///PointingToDeclaration/"><span class="token annotation builtin">NotNull</span></span>&nbsp;</span>transactionBuilder<span class="token operator">: </span><a href="../../net.corda.v5.ledger.utxo.transaction/-utxo-transaction-builder/index.html">UtxoTransactionBuilder</a><span class="token punctuation">, </span></span><span class="parameter "><span><span class="token annotation builtin">@</span><span data-unresolved-link="org.jetbrains.annotations/NotNull///PointingToDeclaration/"><span class="token annotation builtin">NotNull</span></span>&nbsp;</span>session<span class="token operator">: </span><a href="../../../../application/net.corda.v5.application.messaging/-flow-session/index.html">FlowSession</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../../net.corda.v5.ledger.utxo.transaction/-utxo-transaction-builder/index.html">UtxoTransactionBuilder</a></div><p class="paragraph">Sends a transaction builder to another session, then it waits for other side to propose transaction builder components, then applies the proposed components to a copy of the original builder and returns that new builder. </p><p class="paragraph"> It supports similar workflows: Initiator: </p><p class="paragraph"> val updatedTxBuilder = utxoLedgerService.sendAndReceiveTransactionBuilder(txBuilder, session) </p><p class="paragraph"> The notary and time window from the proposal will get discarded and the original will be kept if both the original and the proposal have these components set. Also, all duplications will be discarded. </p><p class="paragraph"> Receiver: </p><p class="paragraph"> val proposedTxBuilder = utxoLedgerService.receiveTransactionBuilder(session) proposedTxBuilder.add...(...) proposedTxBuilder.add...(...) proposedTxBuilder.add...(...) utxoLedgerService.replyTransactionBuilderProposal(proposedTxBuilder, session)</p><span class="kdoc-tag"><h4 class="">Return</h4><p class="paragraph">A new merged builder of the original and proposed components.</p></span><h4 class="">Parameters</h4><div class="table"><div class="table-row" data-filterable-current=":ledger:ledger-utxo:dokkaHtmlPartial/main" data-filterable-set=":ledger:ledger-utxo:dokkaHtmlPartial/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>transaction</span><wbr><span><span>Builder</span></span></u></div></span></div><div><div class="title"><p class="paragraph">The <a href="../../net.corda.v5.ledger.utxo.transaction/-utxo-transaction-builder/index.html">UtxoTransactionBuilder</a> to send.</p></div></div></div></div><div class="table-row" data-filterable-current=":ledger:ledger-utxo:dokkaHtmlPartial/main" data-filterable-set=":ledger:ledger-utxo:dokkaHtmlPartial/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>session</span></span></u></div></span></div><div><div class="title"><p class="paragraph">The receiver <a href="../../../../application/net.corda.v5.application.messaging/-flow-session/index.html">FlowSession</a>.</p></div></div></div></div></div></div></div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>Â© 2023 Copyright</span><span class="pull-right"><span>Generated by </span><a href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
    </div>
</div>
</body>
</html>

