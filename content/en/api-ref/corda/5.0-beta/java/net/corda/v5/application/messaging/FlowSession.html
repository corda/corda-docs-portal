<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en"><head>
    <title>FlowSession </title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="dc.created" content="2020-03-25">
    <link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
    <link rel="stylesheet" type="text/css" href="../../../../../dokka-javadoc-stylesheet.css" title="Style">
    <link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
    <script type="text/javascript" src="../../../../../jquery/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.4.0.min.js"></script>
    <script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>

    <script type="text/javascript" src="../../../../../search.js"></script>
    <script async type="text/javascript" src="../../../../../module-search-index.js"></script>
    <script async type="text/javascript" src="../../../../../package-search-index.js"></script>
    <script async type="text/javascript" src="../../../../../type-search-index.js"></script>
    <script async type="text/javascript" src="../../../../../member-search-index.js"></script>
    <script async type="text/javascript" src="../../../../../tag-search-index.js"></script>
</head><body>
<script type="text/javascript">
var pathtoroot = "../../../../../";
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript><header role="banner">
    <nav role="navigation">
        <div class="fixedNav">
            <!-- ========= START OF TOP NAVBAR ======= -->
            <div class="topNav"><a id="navbar.top">
                <!--   -->
            </a>
                <div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a>
                </div>
                <a id="navbar.top.firstrow">
                    <!--   -->
                </a>
                <ul class="navList" title="Navigation">
    <li><a href="../../../../../index.html">Overview</a></li>
    
    <li><a href="package-summary.html">Package</a></li>
    
    <li>Class</li>
    
    <li><a href="package-tree.html">Tree</a></li>
    
    <li><a href="../../../../../deprecated.html">Deprecated</a></li>
    <li><a href="../../../../../index-files/index-1.html">Index</a></li>
    <li>Help</li>
</ul></div>
            <div class="subNav">
<ul class="navList" id="allclasses_navbar_top" style="display: block;">
    <li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>

<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" class="ui-autocomplete-input" autocomplete="off" placeholder="Search">
<input type="reset" id="reset" value="reset">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div><!-- ========= END OF TOP NAVBAR ========= -->
        </div>
        <div class="navPadding">&nbsp;</div>
        <script type="text/javascript"><!--
        $('.navPadding').css('padding-top', $('.fixedNav').css("height"));
        //-->
        </script>
    </nav>
</header>

<main role="main">
    <div class="header">
        <div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html"></a></div>
        <h2 title="Interface FlowSession" class="title">Interface FlowSession</h2>
    </div>
    <div class="contentContainer">
        <!-- <ul class="inheritance">
            <li>java.lang.Object</li>
            <li>
                <ul class="inheritance">
                    <li>adaptation.Adaptation</li>
                </ul>
            </li>
        </ul> TODO inheritance tree -->
        <div class="description">
            <ul class="blockList">
                <li class="blockList">
                    
                    <dl>
                        <dt>All Implemented Interfaces:</dt>
                        <dd>
                            
                        </dd>
                    </dl>
                    
                    <hr>
                    <pre class="wrap-overflow">
@<a href=../../base/annotations/DoNotImplement.html>DoNotImplement</a>() 
public interface <span class="typeNameLabel"><a href=FlowSession.html>FlowSession</a></span>

                    </pre>
                    <div class="block"><p>A <a href=FlowSession.html>FlowSession</a> is a handle on a communication sequence between two paired flows, possibly running on separate nodes. </p><p> It is used to send and receive messages between the flows as well as to query information about the counter-flow. Sessions have their own local flow context which can be accessed via <a href=FlowSession.html#getContextProperties()>getContextProperties</a>. Note that the parent context is snapshotted at the point <a href=FlowSession.html#getContextProperties()>getContextProperties</a> is first accessed, after which no other changes to the parent context will be reflected in them. See <a href=FlowSession.html#getContextProperties()>getContextProperties</a> for more information. </p><p> There are two ways of obtaining such a session: </p><ul><li>Calling initiateFlow. This will create a <a href=FlowSession.html>FlowSession</a> object on which the first send/receive operation will attempt to kick off a corresponding <a href=../flows/ResponderFlow.html>ResponderFlow</a> flow on the counterpart's node.</li><li>As constructor parameter to <a href=../flows/ResponderFlow.html>ResponderFlow</a> flows. This session is the one corresponding to the initiating flow and may be used for replies.</li></ul></div>
                </li>
            </ul>
        </div>
        <div class="summary">
            <ul class="blockList">
                <li class="blockList">
                <!-- ======== NESTED CLASS SUMMARY ======== -->
                    
                    <section role="region">
                        <ul class="blockList">
                            <li class="blockList"><a id="nested.class.summary">
                                <!--   -->
                            </a>
                                <h3>Nested Class Summary</h3>
                                <div class="memberSummary">
                                    <table>
                                        <caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
                                        <tr>
                                            <th class="colFirst" scope="col">Modifier and Type</th>
                                            <th class="colSecond" scope="col">Class</th>
                                            <th class="colLast" scope="col">Description</th>
                                        </tr>
                                        
                                    </table>
                                </div>
                            </li>
                        </ul>
                    </section>
                    
                    <!-- =========== FIELD SUMMARY =========== -->
                    
                    <section role="region">
                        <ul class="blockList">
                            <li class="blockList"><a id="field.summary">
                                <!--   -->
                            </a>
                                <h3>Field Summary</h3>
                                <div class="memberSummary">
                                    <table>
                                        <caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
                                        <tr>
                                            <th class="colFirst" scope="col">Modifier and Type</th>
                                            <th class="colSecond" scope="col">Field</th>
                                            <th class="colLast" scope="col">Description</th>
                                        </tr>
                                        
                                    </table>
                                </div>
                            </li>
                        </ul>
                    </section>
                    
                    <!-- ======== CONSTRUCTOR SUMMARY ======== -->
                    
                    <section role="region">
                        <ul class="blockList">
                            <li class="blockList"><a id="constructor.summary">
                                <!--   -->
                            </a>
                                <h3>Constructor Summary</h3>
                                <div class="memberSummary">
                                    <table>
                                        <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
                                        <tbody>
                                        <tr>
                                            <th class="colFirst" scope="col">Constructor</th>
                                            <th class="colLast" scope="col">Description</th>
                                        </tr>

                                        

                                        </tbody>
                                    </table>
                                </div>
                            </li>
                        </ul>
                    </section>
                    
                    <!-- =========== ENUM CONSTANT SUMMARY =========== -->
                    
                    <section role="region">
                        <ul class="blockList">
                            <li class="blockList"><a id="enum.constant.summary">
                                <!--   -->
                            </a>
                                <h3>Enum Constant Summary</h3>
                                <table class="memberSummary">
                                    <caption><span>Enum Constants</span><span class="tabEnd">&nbsp;</span></caption>
                                    <tr>
                                        <th class="colFirst" scope="col">Enum Constant</th>
                                        <th class="colLast" scope="col">Description</th>
                                    </tr>
                                    
                                </table>
                            </li>
                        </ul>
                    </section>
                    
                    <!-- ========== METHOD SUMMARY =========== -->
                    
                    <section role="region">
                        <ul class="blockList">
                            <li class="blockList"><a id="method.summary">
                                <!--   -->
                            </a>
                                <h3>Method Summary</h3>
                                <div class="memberSummary">
                                    <div role="tablist" aria-orientation="horizontal">
                                        <button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button>
                                        <!-- TODO: Instance and Concrete Methods #1118 -->
                                    </div>
                                    <div id="memberSummary_tabpanel" role="tabpanel">
                                    <table aria-labelledby="t0">
                                        <tr>
                                            <th class="colFirst" scope="col">Modifier and Type</th>
                                            <th class="colSecond" scope="col">Method</th>
                                            <th class="colLast" scope="col">Description</th>
                                        </tr>
                                        
                                        <tr id="i0" class="altColor">
                                            <td class="colFirst"><code>abstract <a href=../../base/types/MemberX500Name.html>MemberX500Name</a></code>
                                            </td>
                                            <th class="colSecond" scope="row"><code><a href=FlowSession.html#getCounterparty()>getCounterparty</a>() </code>
                                            </th>
                                            <td class="colLast">The <a href=../../base/types/MemberX500Name.html>MemberX500Name</a> of the counterparty this session is connected to.</td>
                                        </tr>
                                        
                                        <tr id="i1" class="rowColor">
                                            <td class="colFirst"><code>abstract <a href=../flows/FlowContextProperties.html>FlowContextProperties</a></code>
                                            </td>
                                            <th class="colSecond" scope="row"><code><a href=FlowSession.html#getContextProperties()>getContextProperties</a>() </code>
                                            </th>
                                            <td class="colLast">Session local <a href=../flows/FlowContextProperties.html>FlowContextProperties</a>.</td>
                                        </tr>
                                        
                                        <tr id="i2" class="altColor">
                                            <td class="colFirst"><code>abstract &lt;R&gt; <a href=FlowSession.html#sendAndReceive(Class,Object)>R</a></code>
                                            </td>
                                            <th class="colSecond" scope="row"><code><a href=FlowSession.html#sendAndReceive(Class,Object)>sendAndReceive</a>(@NotNull() <a href=https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html>Class</a>&lt;<a href=FlowSession.html#sendAndReceive(Class,Object)>R</a>&gt; receiveType, @NotNull() <a href=https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html>Object</a> payload) </code>
                                            </th>
                                            <td class="colLast">Serializes and queues the given <code>payload</code> object for sending to <a href=FlowSession.html#getCounterparty()>getCounterparty</a>.</td>
                                        </tr>
                                        
                                        <tr id="i3" class="rowColor">
                                            <td class="colFirst"><code>abstract &lt;R&gt; <a href=FlowSession.html#receive(Class)>R</a></code>
                                            </td>
                                            <th class="colSecond" scope="row"><code><a href=FlowSession.html#receive(Class)>receive</a>(@NotNull() <a href=https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html>Class</a>&lt;<a href=FlowSession.html#receive(Class)>R</a>&gt; receiveType) </code>
                                            </th>
                                            <td class="colLast">Suspends until a message of type is received from .</td>
                                        </tr>
                                        
                                        <tr id="i4" class="altColor">
                                            <td class="colFirst"><code>abstract void</code>
                                            </td>
                                            <th class="colSecond" scope="row"><code><a href=FlowSession.html#send(Object)>send</a>(@NotNull() <a href=https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html>Object</a> payload) </code>
                                            </th>
                                            <td class="colLast">Queues the given <code>payload</code> for sending to <a href=FlowSession.html#getCounterparty()>getCounterparty</a> and continues without suspending.</td>
                                        </tr>
                                        
                                        <tr id="i5" class="rowColor">
                                            <td class="colFirst"><code>abstract void</code>
                                            </td>
                                            <th class="colSecond" scope="row"><code><a href=FlowSession.html#close()>close</a>() </code>
                                            </th>
                                            <td class="colLast">Closes this session and performs cleanup of any resources tied to this session.</td>
                                        </tr>
                                        
                                        </tbody>
                                    </table>
                                </div>
                                <ul class="blockList">
                                
                                    <li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
                                        <!--   -->
                                    </a>
                                        <h3>Methods inherited from class&nbsp;java.lang.Object</h3>
                                        <code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString,
                                            wait, wait, wait</code></li>
                                </ul>
                            </li>
                        </ul>
                    </section>
                    
                </li>
            </ul>
        </div>
        <div class="details">
            <ul class="blockList">
                <li class="blockList">
                    <!-- ========= CONSTRUCTOR DETAIL ======== -->
                    
                    <section role="region">
                        <ul class="blockList">
                            <li class="blockList"><a id="constructor.detail">
                                <!--   -->
                            </a>
                                <h3>Constructor Detail</h3>
                                
                            </li>
                        </ul>
                    </section>
                    
                    <!-- ============ METHOD DETAIL ========== -->
                    
                    <section role="region">
                        <ul class="blockList">
                            <li class="blockList"><a id="method.detail">
                                <!--   -->
                            </a>
                                <h3>Method Detail</h3>
                                
                                <a id="getCounterparty()">
                                    <!--   -->
                                </a>
                                <ul class=
                                              "blockList"
                                          >
                                    <li class="blockList">
                                        <h4>getCounterparty</h4>
                                        <pre class="methodSignature">@NotNull() abstract <a href=../../base/types/MemberX500Name.html>MemberX500Name</a> <a href=FlowSession.html#getCounterparty()>getCounterparty</a>()</pre>
                                        <div class="block"><p>The <a href=../../base/types/MemberX500Name.html>MemberX500Name</a> of the counterparty this session is connected to.</p></div>
                                        
                                        <!-- TODO missing return annotation -->
                                    </li>
                                </ul>
                                
                                <a id="getContextProperties()">
                                    <!--   -->
                                </a>
                                <ul class=
                                              "blockList"
                                          >
                                    <li class="blockList">
                                        <h4>getContextProperties</h4>
                                        <pre class="methodSignature">@NotNull() abstract <a href=../flows/FlowContextProperties.html>FlowContextProperties</a> <a href=FlowSession.html#getContextProperties()>getContextProperties</a>()</pre>
                                        <div class="block"><p>Session local <a href=../flows/FlowContextProperties.html>FlowContextProperties</a>. </p><p> If this session is part of an initiating flow, i.e. was obtained from <a href=FlowMessaging.html>FlowMessaging</a> then this is a read only set of context properties which will be used to determine context on the initiated side. Modifying this set is only possible when session are initiated, see <a href=FlowMessaging.html>FlowMessaging</a>. </p><p> If this session was passed to an initiated flow by Corda, the context properties are associated with the initiating flow at the other end of the connection. They differ from the <a href=../flows/FlowContextProperties.html>FlowContextProperties</a> available to all flows via the <a href=../flows/FlowEngine.html>FlowEngine</a> in that they are not a description of the context of the currently executing flow, but instead the flow which initiated it. </p><p> Any calls to modify these contextProperties will throw a <a href=../../base/exceptions/CordaRuntimeException.html>CordaRuntimeException</a>, they should be considered immutable.</p></div>
                                        
                                        <!-- TODO missing return annotation -->
                                    </li>
                                </ul>
                                
                                <a id="sendAndReceive(Class,Object)">
                                    <!--   -->
                                </a>
                                <ul class=
                                              "blockList"
                                          >
                                    <li class="blockList">
                                        <h4>sendAndReceive</h4>
                                        <pre class="methodSignature">@<a href=../../base/annotations/Suspendable.html>Suspendable</a>()@NotNull() abstract &lt;R&gt; <a href=FlowSession.html#sendAndReceive(Class,Object)>R</a> <a href=FlowSession.html#sendAndReceive(Class,Object)>sendAndReceive</a>(@NotNull() <a href=https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html>Class</a>&lt;<a href=FlowSession.html#sendAndReceive(Class,Object)>R</a>&gt; receiveType, @NotNull() <a href=https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html>Object</a> payload)</pre>
                                        <div class="block"><p>Serializes and queues the given <code>payload</code> object for sending to <a href=FlowSession.html#getCounterparty()>getCounterparty</a>. Suspends until a response is received, which must be of the given <code>receiveType</code>. </p><p> Note that this function is not just a simple send and receive pair. It is more efficient and more correct to use sendAndReceive when you expect to do a message swap rather than use <a href=FlowSession.html#send(Object)>send</a> and then <a href=FlowSession.html#receive(Class)>receive</a>.</p></div>
                                        
                                        <dl>
                                            <dt><span class="paramLabel">Parameters:</span></dt>
                                            
                                            
                                            <dd><code>receiveType</code> - The data type received from the counterparty.</dd>
                                            
                                            
                                            
                                            <dd><code>payload</code> - The data sent to the counterparty.</dd>
                                            
                                            
                                        </dl>
                                        
                                        <!-- TODO missing return annotation -->
                                    </li>
                                </ul>
                                
                                <a id="receive(Class)">
                                    <!--   -->
                                </a>
                                <ul class=
                                              "blockList"
                                          >
                                    <li class="blockList">
                                        <h4>receive</h4>
                                        <pre class="methodSignature">@<a href=../../base/annotations/Suspendable.html>Suspendable</a>()@NotNull() abstract &lt;R&gt; <a href=FlowSession.html#receive(Class)>R</a> <a href=FlowSession.html#receive(Class)>receive</a>(@NotNull() <a href=https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html>Class</a>&lt;<a href=FlowSession.html#receive(Class)>R</a>&gt; receiveType)</pre>
                                        <div class="block"><p>Suspends until a message of type is received from .</p></div>
                                        
                                        <dl>
                                            <dt><span class="paramLabel">Parameters:</span></dt>
                                            
                                            
                                            <dd><code>receiveType</code> - The data type received from the counterparty.</dd>
                                            
                                            
                                        </dl>
                                        
                                        <!-- TODO missing return annotation -->
                                    </li>
                                </ul>
                                
                                <a id="send(Object)">
                                    <!--   -->
                                </a>
                                <ul class=
                                              "blockList"
                                          >
                                    <li class="blockList">
                                        <h4>send</h4>
                                        <pre class="methodSignature">@<a href=../../base/annotations/Suspendable.html>Suspendable</a>() abstract void <a href=FlowSession.html#send(Object)>send</a>(@NotNull() <a href=https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html>Object</a> payload)</pre>
                                        <div class="block"><p>Queues the given <code>payload</code> for sending to <a href=FlowSession.html#getCounterparty()>getCounterparty</a> and continues without suspending. </p><p> Note that the other party may receive the message at some arbitrary later point or not at all: if <a href=FlowSession.html#getCounterparty()>getCounterparty</a> is offline then message delivery will be retried until it comes back or until the message is older than the network's event horizon time.</p></div>
                                        
                                        <dl>
                                            <dt><span class="paramLabel">Parameters:</span></dt>
                                            
                                            
                                            <dd><code>payload</code> - The data sent to the counterparty.</dd>
                                            
                                            
                                        </dl>
                                        
                                        <!-- TODO missing return annotation -->
                                    </li>
                                </ul>
                                
                                <a id="close()">
                                    <!--   -->
                                </a>
                                <ul class=
                                              "blockListLast"
                                          >
                                    <li class="blockList">
                                        <h4>close</h4>
                                        <pre class="methodSignature">@<a href=../../base/annotations/Suspendable.html>Suspendable</a>() abstract void <a href=FlowSession.html#close()>close</a>()</pre>
                                        <div class="block"><p>Closes this session and performs cleanup of any resources tied to this session. </p><p> Note that sessions are closed automatically when the corresponding top-level flow terminates. </p><p> So, it's beneficial to eagerly close them in long-lived flows that might have many open sessions that are not needed anymore and consume resources (e.g. memory, disk etc.). </p><p> A closed session cannot be used anymore, e.g. to send or receive messages. So, you have to ensure you are calling this method only when the session is not going to be used anymore. As a result, any operations on a closed session will fail with an <a href=../../base/exceptions/CordaRuntimeException.html>CordaRuntimeException</a>. </p><p> When a session is closed, the other side is informed and the session is closed there too eventually.</p></div>
                                        
                                        <!-- TODO missing return annotation -->
                                    </li>
                                </ul>
                                
                            </li>
                        </ul>
                    </section>
                    
                </li>
            </ul>
        </div>
    </div>
</main>
<footer role="contentinfo">
    <nav role="navigation">
        <!-- ======= START OF BOTTOM NAVBAR ====== -->
        <div class="bottomNav"><a id="navbar.bottom">
            <!--   -->
        </a>
            <div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a>
            </div>
            <a id="navbar.bottom.firstrow">
                <!--   -->
            </a>
            <ul class="navList" title="Navigation">
    <li><a href="../../../../../index.html">Overview</a></li>
    
    <li><a href="package-summary.html">Package</a></li>
    
    <li>Class</li>
    
    <li><a href="package-tree.html">Tree</a></li>
    
    <li><a href="../../../../../deprecated.html">Deprecated</a></li>
    <li><a href="../../../../../index-files/index-1.html">Index</a></li>
    <li>Help</li>
</ul></div>
        <a id="skip.navbar.bottom">
            <!--   -->
        </a>
        <div class="subNav">
<ul class="navList" id="allclasses_navbar_top" style="display: block;">
    <li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div><!-- ======== END OF BOTTOM NAVBAR ======= -->
    </nav>
</footer><ul class="ui-autocomplete ui-front ui-menu ui-widget ui-widget-content" id="ui-id-1" tabindex="0"
    style="display: none;"></ul>
<span role="status" aria-live="assertive" aria-relevant="additions" class="ui-helper-hidden-accessible"></span>
</body>
</html>
