<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_265) on Fri Apr 23 17:46:52 BST 2021 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>IdentityService</title>
<meta name="date" content="2021-04-23">
<meta name="keywords" content="net.corda.core.node.services.IdentityService interface">
<meta name="keywords" content="Companion">
<meta name="keywords" content="getTrustRoot()">
<meta name="keywords" content="getTrustAnchor()">
<meta name="keywords" content="getCaCertStore()">
<meta name="keywords" content="verifyAndRegisterIdentity()">
<meta name="keywords" content="assertOwnership()">
<meta name="keywords" content="getAllIdentities()">
<meta name="keywords" content="certificateFromKey()">
<meta name="keywords" content="partyFromKey()">
<meta name="keywords" content="wellKnownPartyFromX500Name()">
<meta name="keywords" content="wellKnownPartyFromAnonymous()">
<meta name="keywords" content="requireWellKnownPartyFromAnonymous()">
<meta name="keywords" content="partiesFromName()">
<meta name="keywords" content="registerKey()">
<meta name="keywords" content="externalIdForPublicKey()">
<meta name="keywords" content="publicKeysForExternalId()">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IdentityService";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":18,"i1":18,"i2":18,"i3":18,"i4":18,"i5":18,"i6":18,"i7":18,"i8":18,"i9":18,"i10":18,"i11":18,"i12":18,"i13":18,"i14":18,"i15":18};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../net/corda/core/node/services/PartyInfo.DistributedNode.html" title="class in net.corda.core.node.services"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../net/corda/core/node/services/KeyManagementService.html" title="interface in net.corda.core.node.services"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?net/corda/core/node/services/IdentityService.html" target="_top">Frames</a></li>
<li><a href="IdentityService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.corda.core.node.services</div>
<h2 title="Interface IdentityService" class="title">Interface IdentityService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public <span class="typeNameLabel">IdentityService</span></pre>
<div class="block"><p><p>An identity service maintains a directory of parties by their associated distinguished name/public keys and thus
supports lookup of a party given its key, or name. The service also manages the certificates linking confidential
identities back to the well known identity.</p></p><p><p><p>Well known identities in Corda are the public identity of a party, registered with the network map directory,
whereas confidential identities are distributed only on a need to know basis (typically between parties in
a transaction being built). See <a href="../../../../../net/corda/core/node/services/NetworkMapCache.html" title="interface in net.corda.core.node.services"><code>interface NetworkMapCache</code></a> for retrieving well known identities from the network map.</p></p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../net/corda/core/node/services/NetworkMapCache.html" title="interface in net.corda.core.node.services"><code>interface NetworkMapCache</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.Companion.html" title="class in net.corda.core.node.services">IdentityService.Companion</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.DefaultImpls.html" title="class in net.corda.core.node.services">IdentityService.DefaultImpls</a></span></code>
<div class="block">An identity service maintains a directory of parties by their associated distinguished name/public keys and thus
supports lookup of a party given its key, or name. The service also manages the certificates linking confidential
identities back to the well known identity.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../net/corda/core/node/services/IdentityService.Companion.html" title="type parameter in IdentityService.Companion">IdentityService.Companion</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#Companion">Companion</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#assertOwnership-party-anonymousParty-">assertOwnership</a></span>(<a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a>&nbsp;party,
               <a href="../../../../../net/corda/core/identity/AnonymousParty.html" title="type parameter in AnonymousParty">AnonymousParty</a>&nbsp;anonymousParty)</code>
<div class="block">Asserts that an anonymous party maps to the given full party, by looking up the certificate chain associated with
the anonymous party and resolving it back to the given full party.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../net/corda/core/identity/PartyAndCertificate.html" title="type parameter in PartyAndCertificate">PartyAndCertificate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#certificateFromKey-owningKey-">certificateFromKey</a></span>(java.security.PublicKey&nbsp;owningKey)</code>
<div class="block">Resolves a public key to the well known identity <a href="../../../../../net/corda/core/identity/PartyAndCertificate.html" title="class in net.corda.core.identity"><code>class PartyAndCertificate</code></a> instance which is owned by the key.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.UUID</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#externalIdForPublicKey-publicKey-">externalIdForPublicKey</a></span>(java.security.PublicKey&nbsp;publicKey)</code>
<div class="block">This method allows lookups of <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a>s to an associated "external ID" / <a href="http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html">UUID</a>. Providing a <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> that is unknown by the node
or is not mapped to an external ID will return null. Otherwise, if the <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> has been mapped to an external ID, then the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html">UUID</a>
for that external ID will be returned. The method looks up keys generated by the node as well as keys generated on other nodes and
registered with the <a href="../../../../../net/corda/core/node/services/IdentityService.html" title="interface in net.corda.core.node.services"><code>interface IdentityService</code></a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.Iterable&lt;net.corda.core.identity.PartyAndCertificate&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#getAllIdentities--">getAllIdentities</a></span>()</code>
<div class="block">Get all identities known to the service. This is expensive, and <a href="../../../../../net/corda/core/node/services/IdentityService.html#partyFromKey-key-"><code>IdentityService.partyFromKey</code></a> or <a href="#">partyFromX500Name</a> should be
used in preference where possible.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.security.cert.CertStore</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#getCaCertStore--">getCaCertStore</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.security.cert.TrustAnchor</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#getTrustAnchor--">getTrustAnchor</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.security.cert.X509Certificate</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#getTrustRoot--">getTrustRoot</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;net.corda.core.identity.Party&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#partiesFromName-query-exactMatch-">partiesFromName</a></span>(java.lang.String&nbsp;query,
               boolean&nbsp;exactMatch)</code>
<div class="block">Returns a list of candidate matches for a given string, with optional fuzzy(ish) matching. Fuzzy matching may
get smarter with time e.g. to correct spelling errors, so you should not hard-code indexes into the results
but rather show them via a user interface and let the user pick the one they wanted.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#partyFromKey-key-">partyFromKey</a></span>(java.security.PublicKey&nbsp;key)</code>
<div class="block">Converts an owning <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> to the X500Name extended <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a> object if the <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a> has been
previously registered with the <a href="../../../../../net/corda/core/node/services/IdentityService.html" title="interface in net.corda.core.node.services"><code>interface IdentityService</code></a> either as a well known network map identity,
or as a part of flows creating and exchanging the identity.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.lang.Iterable&lt;java.security.PublicKey&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#publicKeysForExternalId-externalId-">publicKeysForExternalId</a></span>(java.util.UUID&nbsp;externalId)</code>
<div class="block">This method returns all the <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a>s which have been mapped to the supplied external ID.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#registerKey-publicKey-party-externalId-">registerKey</a></span>(java.security.PublicKey&nbsp;publicKey,
           <a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a>&nbsp;party,
           java.util.UUID&nbsp;externalId)</code>
<div class="block">Registers a mapping in the database between the provided <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> and <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a> if one does not already exist. If an entry
exists for the supplied <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> but the associated <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a> does not match the one supplied to the method then a warning will be
logged and the operation will not be carried out as a key can only ever be registered to one <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#requireWellKnownPartyFromAnonymous-party-">requireWellKnownPartyFromAnonymous</a></span>(<a href="../../../../../net/corda/core/identity/AbstractParty.html" title="type parameter in AbstractParty">AbstractParty</a>&nbsp;party)</code>
<div class="block">Resolve the well known identity of a party. Throws an exception if the party cannot be identified.
If the party passed in is already a well known identity (i.e. a <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>) this returns it as-is.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../../../net/corda/core/identity/PartyAndCertificate.html" title="type parameter in PartyAndCertificate">PartyAndCertificate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#verifyAndRegisterIdentity-identity-">verifyAndRegisterIdentity</a></span>(<a href="../../../../../net/corda/core/identity/PartyAndCertificate.html" title="type parameter in PartyAndCertificate">PartyAndCertificate</a>&nbsp;identity)</code>
<div class="block">Verify and then store an identity.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#wellKnownPartyFromAnonymous-party-">wellKnownPartyFromAnonymous</a></span>(<a href="../../../../../net/corda/core/identity/AbstractParty.html" title="type parameter in AbstractParty">AbstractParty</a>&nbsp;party)</code>
<div class="block">Resolves a (optionally) confidential identity to the corresponding well known identity <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>.
It transparently handles returning the well known identity back if a well known identity is passed in.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#wellKnownPartyFromAnonymous-partyRef-">wellKnownPartyFromAnonymous</a></span>(<a href="../../../../../net/corda/core/contracts/PartyAndReference.html" title="type parameter in PartyAndReference">PartyAndReference</a>&nbsp;partyRef)</code>
<div class="block">Resolves a (optionally) confidential identity to the corresponding well known identity <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>.
Convenience method which unwraps the <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a> from the <a href="../../../../../net/corda/core/contracts/PartyAndReference.html" title="class in net.corda.core.contracts"><code>class PartyAndReference</code></a> and then resolves the
well known identity as normal.
It transparently handles returning the well known identity back if a well known identity is passed in.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/IdentityService.html#wellKnownPartyFromX500Name-name-">wellKnownPartyFromX500Name</a></span>(<a href="../../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;name)</code>
<div class="block">Resolves a party name to the well known identity <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a> instance for this name. Where possible well known identity
lookup from name should be done from the network map (via <a href="../../../../../net/corda/core/node/services/NetworkMapCache.html" title="interface in net.corda.core.node.services"><code>interface NetworkMapCache</code></a>) instead, as it is the authoritative
source of well known identities.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="Companion">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Companion</h4>
<pre>static&nbsp;<a href="../../../../../net/corda/core/node/services/IdentityService.Companion.html" title="type parameter in IdentityService.Companion">IdentityService.Companion</a> Companion</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getTrustRoot--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTrustRoot</h4>
<pre>java.security.cert.X509Certificate&nbsp;getTrustRoot()</pre>
</li>
</ul>
<a name="getTrustAnchor--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTrustAnchor</h4>
<pre>java.security.cert.TrustAnchor&nbsp;getTrustAnchor()</pre>
</li>
</ul>
<a name="getCaCertStore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCaCertStore</h4>
<pre>java.security.cert.CertStore&nbsp;getCaCertStore()</pre>
</li>
</ul>
<a name="verifyAndRegisterIdentity-identity-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyAndRegisterIdentity</h4>
<pre><a href="../../../../../net/corda/core/identity/PartyAndCertificate.html" title="type parameter in PartyAndCertificate">PartyAndCertificate</a>&nbsp;verifyAndRegisterIdentity(<a href="../../../../../net/corda/core/identity/PartyAndCertificate.html" title="type parameter in PartyAndCertificate">PartyAndCertificate</a>&nbsp;identity)</pre>
<div class="block"><p><p>Verify and then store an identity.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>identity</code> - a party and the certificate path linking them to the network trust root.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the issuing entity, if known.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd> - if the certificate path is invalid.</dd>
</dl>
</li>
</ul>
<a name="assertOwnership-party-anonymousParty-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertOwnership</h4>
<pre>void&nbsp;assertOwnership(<a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a>&nbsp;party,
                     <a href="../../../../../net/corda/core/identity/AnonymousParty.html" title="type parameter in AnonymousParty">AnonymousParty</a>&nbsp;anonymousParty)</pre>
<div class="block"><p><p>Asserts that an anonymous party maps to the given full party, by looking up the certificate chain associated with
the anonymous party and resolving it back to the given full party.</p></p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd> - if the anonymous party is not owned by the full party.</dd>
</dl>
</li>
</ul>
<a name="getAllIdentities--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllIdentities</h4>
<pre>java.lang.Iterable&lt;net.corda.core.identity.PartyAndCertificate&gt;&nbsp;getAllIdentities()</pre>
<div class="block"><p><p>Get all identities known to the service. This is expensive, and <a href="../../../../../net/corda/core/node/services/IdentityService.html#partyFromKey-key-"><code>IdentityService.partyFromKey</code></a> or <a href="#">partyFromX500Name</a> should be
used in preference where possible.</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../net/corda/core/node/services/IdentityService.html#partyFromKey-key-"><code>IdentityService.partyFromKey</code></a>, 
<a href="#">partyFromX500Name</a></dd>
</dl>
</li>
</ul>
<a name="certificateFromKey-owningKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>certificateFromKey</h4>
<pre><a href="../../../../../net/corda/core/identity/PartyAndCertificate.html" title="type parameter in PartyAndCertificate">PartyAndCertificate</a>&nbsp;certificateFromKey(java.security.PublicKey&nbsp;owningKey)</pre>
<div class="block"><p><p>Resolves a public key to the well known identity <a href="../../../../../net/corda/core/identity/PartyAndCertificate.html" title="class in net.corda.core.identity"><code>class PartyAndCertificate</code></a> instance which is owned by the key.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>owningKey</code> - The <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> to determine well known identity for.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the party and certificate, or null if unknown.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../net/corda/core/identity/PartyAndCertificate.html" title="class in net.corda.core.identity"><code>class PartyAndCertificate</code></a></dd>
</dl>
</li>
</ul>
<a name="partyFromKey-key-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>partyFromKey</h4>
<pre><a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a>&nbsp;partyFromKey(java.security.PublicKey&nbsp;key)</pre>
<div class="block"><p><p>Converts an owning <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> to the X500Name extended <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a> object if the <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a> has been
previously registered with the <a href="../../../../../net/corda/core/node/services/IdentityService.html" title="interface in net.corda.core.node.services"><code>interface IdentityService</code></a> either as a well known network map identity,
or as a part of flows creating and exchanging the identity.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The owning <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> of the <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns a <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a> with a matching owningKey if known, else returns null.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a>, 
<a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>, 
<a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>, 
<a href="../../../../../net/corda/core/node/services/IdentityService.html" title="interface in net.corda.core.node.services"><code>interface IdentityService</code></a></dd>
</dl>
</li>
</ul>
<a name="wellKnownPartyFromX500Name-name-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wellKnownPartyFromX500Name</h4>
<pre><a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a>&nbsp;wellKnownPartyFromX500Name(<a href="../../../../../net/corda/core/identity/CordaX500Name.html" title="type parameter in CordaX500Name">CordaX500Name</a>&nbsp;name)</pre>
<div class="block"><p><p>Resolves a party name to the well known identity <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a> instance for this name. Where possible well known identity
lookup from name should be done from the network map (via <a href="../../../../../net/corda/core/node/services/NetworkMapCache.html" title="interface in net.corda.core.node.services"><code>interface NetworkMapCache</code></a>) instead, as it is the authoritative
source of well known identities.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The <a href="../../../../../net/corda/core/identity/CordaX500Name.html" title="class in net.corda.core.identity"><code>class CordaX500Name</code></a> to determine well known identity for.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>If known the canonical <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a> with that name, else null.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>, 
<a href="../../../../../net/corda/core/node/services/NetworkMapCache.html" title="interface in net.corda.core.node.services"><code>interface NetworkMapCache</code></a></dd>
</dl>
</li>
</ul>
<a name="wellKnownPartyFromAnonymous-party-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wellKnownPartyFromAnonymous</h4>
<pre><a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a>&nbsp;wellKnownPartyFromAnonymous(<a href="../../../../../net/corda/core/identity/AbstractParty.html" title="type parameter in AbstractParty">AbstractParty</a>&nbsp;party)</pre>
<div class="block"><p><p>Resolves a (optionally) confidential identity to the corresponding well known identity <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>.
It transparently handles returning the well known identity back if a well known identity is passed in.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>party</code> - identity to determine well known identity for.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>well known identity, if found.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a></dd>
</dl>
</li>
</ul>
<a name="wellKnownPartyFromAnonymous-partyRef-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wellKnownPartyFromAnonymous</h4>
<pre><a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a>&nbsp;wellKnownPartyFromAnonymous(<a href="../../../../../net/corda/core/contracts/PartyAndReference.html" title="type parameter in PartyAndReference">PartyAndReference</a>&nbsp;partyRef)</pre>
<div class="block"><p><p>Resolves a (optionally) confidential identity to the corresponding well known identity <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>.
Convenience method which unwraps the <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a> from the <a href="../../../../../net/corda/core/contracts/PartyAndReference.html" title="class in net.corda.core.contracts"><code>class PartyAndReference</code></a> and then resolves the
well known identity as normal.
It transparently handles returning the well known identity back if a well known identity is passed in.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>partyRef</code> - identity (and reference, which is unused) to determine well known identity for.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the well known identity, or null if unknown.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>, 
<a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>, 
<a href="../../../../../net/corda/core/contracts/PartyAndReference.html" title="class in net.corda.core.contracts"><code>class PartyAndReference</code></a></dd>
</dl>
</li>
</ul>
<a name="requireWellKnownPartyFromAnonymous-party-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requireWellKnownPartyFromAnonymous</h4>
<pre><a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a>&nbsp;requireWellKnownPartyFromAnonymous(<a href="../../../../../net/corda/core/identity/AbstractParty.html" title="type parameter in AbstractParty">AbstractParty</a>&nbsp;party)</pre>
<div class="block"><p><p>Resolve the well known identity of a party. Throws an exception if the party cannot be identified.
If the party passed in is already a well known identity (i.e. a <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>) this returns it as-is.</p></p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the well known identity.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a></dd>
</dl>
</li>
</ul>
<a name="partiesFromName-query-exactMatch-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>partiesFromName</h4>
<pre>java.util.Set&lt;net.corda.core.identity.Party&gt;&nbsp;partiesFromName(java.lang.String&nbsp;query,
                                                             boolean&nbsp;exactMatch)</pre>
<div class="block"><p><p>Returns a list of candidate matches for a given string, with optional fuzzy(ish) matching. Fuzzy matching may
get smarter with time e.g. to correct spelling errors, so you should not hard-code indexes into the results
but rather show them via a user interface and let the user pick the one they wanted.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query</code> - The string to check against the X.500 name components</dd>
<dd><code>exactMatch</code> - If true, a case sensitive match is done against each component of each X.500 name.</dd>
</dl>
</li>
</ul>
<a name="registerKey-publicKey-party-externalId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerKey</h4>
<pre>void&nbsp;registerKey(java.security.PublicKey&nbsp;publicKey,
                 <a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a>&nbsp;party,
                 java.util.UUID&nbsp;externalId)</pre>
<div class="block"><p><p>Registers a mapping in the database between the provided <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> and <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a> if one does not already exist. If an entry
exists for the supplied <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> but the associated <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a> does not match the one supplied to the method then a warning will be
logged and the operation will not be carried out as a key can only ever be registered to one <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>.</p></p><p><p><p>This method also optionally adds a mapping from <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> to external ID if one is provided. Lastly, the <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> is
also stored (as well as the <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> hash).</p></p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publicKey</code> - The public publicKey that will be registered to the supplied <a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a></dd>
<dd><code>party</code> - The party that the supplied public publicKey will be registered to</dd>
<dd><code>externalId</code> - The <a href="http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html">UUID</a> that the supplied public key can be optionally registered to</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd> - if the public publicKey is already registered to a party that does not match the supplied party</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a>, 
<a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>, 
<a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a>, 
<a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>, 
<a href="../../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a>, 
<a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a>, 
<a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a>, 
<a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a></dd>
</dl>
</li>
</ul>
<a name="externalIdForPublicKey-publicKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>externalIdForPublicKey</h4>
<pre>java.util.UUID&nbsp;externalIdForPublicKey(java.security.PublicKey&nbsp;publicKey)</pre>
<div class="block"><p><p>This method allows lookups of <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a>s to an associated "external ID" / <a href="http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html">UUID</a>. Providing a <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> that is unknown by the node
or is not mapped to an external ID will return null. Otherwise, if the <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> has been mapped to an external ID, then the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html">UUID</a>
for that external ID will be returned. The method looks up keys generated by the node as well as keys generated on other nodes and
registered with the <a href="../../../../../net/corda/core/node/services/IdentityService.html" title="interface in net.corda.core.node.services"><code>interface IdentityService</code></a>.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publicKey</code> - the <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> used to perform the lookup to external ID</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a>, 
<a href="http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html">UUID</a>, 
<a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a>, 
<a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a>, 
<a href="http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html">UUID</a>, 
<a href="../../../../../net/corda/core/node/services/IdentityService.html" title="interface in net.corda.core.node.services"><code>interface IdentityService</code></a></dd>
</dl>
</li>
</ul>
<a name="publicKeysForExternalId-externalId-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>publicKeysForExternalId</h4>
<pre>java.lang.Iterable&lt;java.security.PublicKey&gt;&nbsp;publicKeysForExternalId(java.util.UUID&nbsp;externalId)</pre>
<div class="block"><p><p>This method returns all the <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a>s which have been mapped to the supplied external ID.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>externalId</code> - the external ID to lookup <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a>s for</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../net/corda/core/node/services/PartyInfo.DistributedNode.html" title="class in net.corda.core.node.services"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../net/corda/core/node/services/KeyManagementService.html" title="interface in net.corda.core.node.services"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?net/corda/core/node/services/IdentityService.html" target="_top">Frames</a></li>
<li><a href="IdentityService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
