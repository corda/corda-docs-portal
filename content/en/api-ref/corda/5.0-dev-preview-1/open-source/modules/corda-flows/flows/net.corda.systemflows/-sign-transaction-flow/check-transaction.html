<HTML>
<HEAD>
<meta charset="UTF-8">
<title>SignTransactionFlow.checkTransaction - flows</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">flows</a>&nbsp;/&nbsp;<a href="../index.html">net.corda.systemflows</a>&nbsp;/&nbsp;<a href="index.html">SignTransactionFlow</a>&nbsp;/&nbsp;<a href="./check-transaction.html">checkTransaction</a><br/>
<br/>
<h1>checkTransaction</h1>
<a name="net.corda.systemflows.SignTransactionFlow$checkTransaction(net.corda.v5.ledger.transactions.SignedTransaction)"></a>
<code><span class="identifier">@Suspendable</span> <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">checkTransaction</span><span class="symbol">(</span><span class="identifier" id="net.corda.systemflows.SignTransactionFlow$checkTransaction(net.corda.v5.ledger.transactions.SignedTransaction)/stx">stx</span><span class="symbol">:</span>&nbsp;<span class="identifier">SignedTransaction</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>The <a href="./check-transaction.html">checkTransaction</a> method allows the caller of this flow to provide some additional checks over the proposed
transaction received from the counterparty. For example:</p>
<ul><li>Ensuring that the transaction you are receiving is the transaction you <em>EXPECT</em> to receive. I.e. is has the
expected type and number of inputs and outputs</li>
<li>Checking that the properties of the outputs are as you would expect. Linking into any reference data sources
might be appropriate here</li>
<li>Checking that the transaction is not incorrectly spending (perhaps maliciously) one of your asset states, as
potentially the transaction creator has access to some of your state references</li>
</ul>
<p><strong>WARNING</strong>: If appropriate checks, such as the ones listed above, are not defined then it is likely that your
node will sign any transaction if it conforms to the contract code in the transaction's referenced contracts.</p>
<p><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-illegal-argument-exception/index.html">IllegalArgumentException</a>, <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-illegal-state-exception/index.html">IllegalStateException</a> and <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-assertion-error/index.html">AssertionError</a> will be caught and rethrown as flow
exceptions i.e. the other side will be given information about what exact check failed.</p>
<h3>Parameters</h3>
<p><a name="stx"></a>
<code>stx</code> - a partially signed transaction received from your counterparty.</p>
<h3>Exceptions</h3>
<p><a name="FlowException"></a>
<code>FlowException</code> - if the proposed transaction fails the checks.</p>
</BODY>
</HTML>
