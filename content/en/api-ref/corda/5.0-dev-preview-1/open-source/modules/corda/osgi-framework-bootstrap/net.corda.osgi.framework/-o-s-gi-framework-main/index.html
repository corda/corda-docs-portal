<HTML>
<HEAD>
<meta charset="UTF-8">
<title>OSGiFrameworkMain - osgi-framework-bootstrap</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">osgi-framework-bootstrap</a>&nbsp;/&nbsp;<a href="../index.html">net.corda.osgi.framework</a>&nbsp;/&nbsp;<a href="./index.html">OSGiFrameworkMain</a><br/>
<br/>
<h1>OSGiFrameworkMain</h1>
<code><span class="keyword">class </span><span class="identifier">OSGiFrameworkMain</span></code>
<p>The <code>OSGiFrameworkMain</code> class provides the static methods to bootstrap the
Apache FelixOSGi framework accessible in the class-path.</p>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="-init-.html">&lt;init&gt;</a></h4>
</td>
<td>
<p>The <code>OSGiFrameworkMain</code> class provides the static methods to bootstrap the
Apache FelixOSGi framework accessible in the class-path.</p>
<code><span class="identifier">OSGiFrameworkMain</span><span class="symbol">(</span><span class="symbol">)</span></code></td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="base-directory.html">baseDirectory</a></h4>
</td>
<td>
<p>The node working directory where all the files are kept.
(default: <code>.</code>).</p>
<code><span class="keyword">var </span><span class="identifier">baseDirectory</span><span class="symbol">: </span><span class="identifier">Path</span></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="bootstrap.html">bootstrap</a></h4>
</td>
<td>
<p>It bootstraps the OSGI framework exposing from the JVM to the OSGi framework the packages listed in the
<a href="-s-y-s-t-e-m_-p-a-c-k-a-g-e-s_-e-x-t-r-a_-r-e-s-o-u-r-c-e.html">OSGiFrameworkMain.SYSTEM_PACKAGES_EXTRA_RESOURCE</a> resource,
then it loads and activates the bundles listed at <a href="-s-y-s-t-e-m_-b-u-n-d-l-e-s_-r-e-s-o-u-r-c-e.html">OSGiFrameworkMain.SYSTEM_BUNDLES_RESOURCE</a>.
If the  bundles can't be activated or any exception is thrown from the wrapper OSGi framework, this method
log the exceptions and shutdown the framework.
The method creates a temporary storage directory for bundles, the directory has <a href="-o-s-g-i_-f-r-a-m-e-w-o-r-k_-s-t-o-r-a-g-e_-p-r-e-f-i-x.html">OSGiFrameworkMain.OSGI_FRAMEWORK_STORAGE_PREFIX</a> prefix
and it is removed automatically when the JVM terminates.</p>
<code><span class="keyword">fun </span><span class="identifier">bootstrap</span><span class="symbol">(</span><span class="identifier" id="net.corda.osgi.framework.OSGiFrameworkMain$bootstrap(kotlin.Array((kotlin.String)))/args">args</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html"><span class="identifier">Array</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="./index.html"><span class="identifier">OSGiFrameworkMain</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="shutdown.html">shutdown</a></h4>
</td>
<td>
<p>Shutdown the OSGi framework bootstrapped by this instance.</p>
<code><span class="keyword">fun </span><span class="identifier">shutdown</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="./index.html"><span class="identifier">OSGiFrameworkMain</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="wait-for-stop.html">waitForStop</a></h4>
</td>
<td>
<p>Wait until the bootstrapped OSGi framework has completely stopped.
A Framework Event is returned to indicate why this Framework has stopped.
Idempotent.</p>
<code><span class="keyword">fun </span><span class="identifier">waitForStop</span><span class="symbol">(</span><span class="identifier" id="net.corda.osgi.framework.OSGiFrameworkMain$waitForStop(kotlin.Long)/timeout">timeout</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html"><span class="identifier">Long</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">FrameworkEvent</span></code></td>
</tr>
</tbody>
</table>
<h3>Companion Object Properties</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="-b-a-s-e_-d-i-r.html">BASE_DIR</a></h4>
</td>
<td>
<p>The option to express the node working directory.</p>
<code><span class="keyword">const</span> <span class="keyword">val </span><span class="identifier">BASE_DIR</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="logger.html">logger</a></h4>
</td>
<td>
<p>This logger is configured in <a href="main.html">main</a> method to save the logs in the directory expressed in the  <a href="-b-a-s-e_-d-i-r.html">BASE_DIR</a> parameter.
The <a href="main.html">main</a> method wait the termination of the OSGi framework, hence it can be used for tests,
hence this logger is public to allow test code to set it without calling <a href="main.html">main</a>.</p>
<code><span class="keyword">lateinit</span> <span class="keyword">var </span><span class="identifier">logger</span><span class="symbol">: </span><span class="identifier">Logger</span></code></td>
</tr>
<tr>
<td>
<h4><a href="-l-o-g-s_-d-i-r-e-c-t-o-r-y_-n-a-m-e.html">LOGS_DIRECTORY_NAME</a></h4>
</td>
<td>
<p>The directory  where logs are saved is child of <a href="-b-a-s-e_-d-i-r.html">BASE_DIR</a>.</p>
<code><span class="keyword">const</span> <span class="keyword">val </span><span class="identifier">LOGS_DIRECTORY_NAME</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="-o-s-g-i_-f-r-a-m-e-w-o-r-k_-f-a-c-t-o-r-y_-f-q-n.html">OSGI_FRAMEWORK_FACTORY_FQN</a></h4>
</td>
<td>
<p>Full qualified name of the OSGi framework factory should be part of the class path.</p>
<code><span class="keyword">const</span> <span class="keyword">val </span><span class="identifier">OSGI_FRAMEWORK_FACTORY_FQN</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="-o-s-g-i_-f-r-a-m-e-w-o-r-k_-s-t-o-r-a-g-e_-p-r-e-f-i-x.html">OSGI_FRAMEWORK_STORAGE_PREFIX</a></h4>
</td>
<td>
<p>Prefix of the temporary directory used as bundle cache.</p>
<code><span class="keyword">const</span> <span class="keyword">val </span><span class="identifier">OSGI_FRAMEWORK_STORAGE_PREFIX</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="-o-s-g-i_-p-r-o-p-e-r-t-i-e-s_-r-e-s-o-u-r-c-e.html">OSGI_PROPERTIES_RESOURCE</a></h4>
</td>
<td>
<p>Location of the resource containing static OSGi properties.</p>
<code><span class="keyword">const</span> <span class="keyword">val </span><span class="identifier">OSGI_PROPERTIES_RESOURCE</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="-s-y-s-t-e-m_-b-u-n-d-l-e-s_-r-e-s-o-u-r-c-e.html">SYSTEM_BUNDLES_RESOURCE</a></h4>
</td>
<td>
<p>Location of list of the bundles to install in the wrapped OSGi framework.</p>
<code><span class="keyword">const</span> <span class="keyword">val </span><span class="identifier">SYSTEM_BUNDLES_RESOURCE</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="-s-y-s-t-e-m_-p-a-c-k-a-g-e-s_-e-x-t-r-a_-r-e-s-o-u-r-c-e.html">SYSTEM_PACKAGES_EXTRA_RESOURCE</a></h4>
</td>
<td>
<p>Location of the file listing the extra system packages exposed from the JDK to the framework</p>
<code><span class="keyword">const</span> <span class="keyword">val </span><span class="identifier">SYSTEM_PACKAGES_EXTRA_RESOURCE</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Companion Object Functions</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="main.html">main</a></h4>
</td>
<td>
<p>Entry point for the Corda distributed executable jar.</p>
<code><span class="keyword">fun </span><span class="identifier">main</span><span class="symbol">(</span><span class="identifier" id="net.corda.osgi.framework.OSGiFrameworkMain.Companion$main(kotlin.Array((kotlin.String)))/args">args</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html"><span class="identifier">Array</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
