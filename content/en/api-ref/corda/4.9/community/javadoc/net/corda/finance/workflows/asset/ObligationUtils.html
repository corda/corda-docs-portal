<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_242) on Tue Nov 29 14:36:03 UTC 2022 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ObligationUtils</title>
<meta name="date" content="2022-11-29">
<meta name="keywords" content="net.corda.finance.workflows.asset.ObligationUtils class">
<meta name="keywords" content="INSTANCE">
<meta name="keywords" content="generateCashIssue()">
<meta name="keywords" content="generateIssue()">
<meta name="keywords" content="generateCloseOutNetting()">
<meta name="keywords" content="generatePaymentNetting()">
<meta name="keywords" content="generateSetLifecycle()">
<meta name="keywords" content="generateSettle()">
<meta name="keywords" content="generateExit()">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ObligationUtils";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../net/corda/finance/workflows/asset/CashUtils.html" title="class in net.corda.finance.workflows.asset"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?net/corda/finance/workflows/asset/ObligationUtils.html" target="_top">Frames</a></li>
<li><a href="ObligationUtils.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.corda.finance.workflows.asset</div>
<h2 title="Class ObligationUtils" class="title">Class ObligationUtils</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>net.corda.finance.workflows.asset.ObligationUtils</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">ObligationUtils</span></pre>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="INSTANCE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>INSTANCE</h4>
<pre>public static&nbsp;<a href="../../../../../net/corda/finance/workflows/asset/ObligationUtils.html" title="type parameter in ObligationUtils">ObligationUtils</a> INSTANCE</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="generateCashIssue-tx-obligor-acceptableContract-amount-dueBefore-beneficiary-notary-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateCashIssue</h4>
<pre>@JvmStatic
public static&nbsp;void&nbsp;generateCashIssue(@NotNull
                                                <a href="../../../../../net/corda/core/transactions/TransactionBuilder.html" title="type parameter in TransactionBuilder">TransactionBuilder</a>&nbsp;tx,
                                                @NotNull
                                                <a href="../../../../../net/corda/core/identity/AbstractParty.html" title="type parameter in AbstractParty">AbstractParty</a>&nbsp;obligor,
                                                @NotNull
                                                <a href="../../../../../net/corda/core/crypto/SecureHash.html" title="type parameter in SecureHash">SecureHash</a>&nbsp;acceptableContract,
                                                @NotNull
                                                <a href="../../../../../net/corda/core/contracts/Amount.html" title="type parameter in Amount">Amount</a>&lt;net.corda.core.contracts.Issued&gt;&nbsp;amount,
                                                @NotNull
                                                java.time.Instant&nbsp;dueBefore,
                                                @NotNull
                                                <a href="../../../../../net/corda/core/identity/AbstractParty.html" title="type parameter in AbstractParty">AbstractParty</a>&nbsp;beneficiary,
                                                @NotNull
                                                <a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a>&nbsp;notary)</pre>
<div class="block"><p><p>Puts together an issuance transaction for the specified currency obligation amount that starts out being owned by
the given pubkey.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tx</code> - transaction builder to add states and commands to.</dd>
<dd><code>obligor</code> - the party who is expected to pay some currency amount to fulfil the obligation (also the owner ofthe obligation).</dd>
<dd><code>amount</code> - currency amount the obligor is expected to pay.</dd>
<dd><code>dueBefore</code> - the date on which the obligation is due. The default time tolerance is used (currently this is30 seconds).</dd>
<dd><code>beneficiary</code> - the party the obligor is expected to pay.</dd>
<dd><code>notary</code> - the notary for this transaction's outputs.</dd>
</dl>
</li>
</ul>
<a name="generateIssue-tx-obligor-issuanceDef-pennies-beneficiary-notary-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateIssue</h4>
<pre>@NotNull
public&nbsp;&lt;P&gt;&nbsp;java.util.Set&lt;java.security.PublicKey&gt;&nbsp;generateIssue(@NotNull
                                                                         <a href="../../../../../net/corda/core/transactions/TransactionBuilder.html" title="type parameter in TransactionBuilder">TransactionBuilder</a>&nbsp;tx,
                                                                         @NotNull
                                                                         <a href="../../../../../net/corda/core/identity/AbstractParty.html" title="type parameter in AbstractParty">AbstractParty</a>&nbsp;obligor,
                                                                         @NotNull
                                                                         net.corda.finance.contracts.asset.Obligation.Terms&lt;P&gt;&nbsp;issuanceDef,
                                                                         long&nbsp;pennies,
                                                                         @NotNull
                                                                         <a href="../../../../../net/corda/core/identity/AbstractParty.html" title="type parameter in AbstractParty">AbstractParty</a>&nbsp;beneficiary,
                                                                         @NotNull
                                                                         <a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a>&nbsp;notary)</pre>
<div class="block"><p><p>Puts together an issuance transaction for the specified amount that starts out being owned by the given pubkey.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tx</code> - transaction builder to add states and commands to.</dd>
<dd><code>obligor</code> - the party who is expected to pay some amount to fulfil the obligation.</dd>
<dd><code>issuanceDef</code> - the terms of the obligation, including which contracts and underlying assets are acceptableforms of payment.</dd>
<dd><code>pennies</code> - the quantity of the asset (in the smallest normal unit of measurement) owed.</dd>
<dd><code>beneficiary</code> - the party the obligor is expected to pay.</dd>
<dd><code>notary</code> - the notary for this transaction's outputs.</dd>
</dl>
</li>
</ul>
<a name="generateCloseOutNetting-tx-signer-inputs-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateCloseOutNetting</h4>
<pre>@JvmStatic
public static&nbsp;&lt;P&gt;&nbsp;void&nbsp;generateCloseOutNetting(@NotNull
                                                          <a href="../../../../../net/corda/core/transactions/TransactionBuilder.html" title="type parameter in TransactionBuilder">TransactionBuilder</a>&nbsp;tx,
                                                          @NotNull
                                                          <a href="../../../../../net/corda/core/identity/AbstractParty.html" title="type parameter in AbstractParty">AbstractParty</a>&nbsp;signer,
                                                          @NotNull
                                                          net.corda.core.contracts.StateAndRef...&nbsp;inputs)</pre>
<div class="block"><p><p>Generate a transaction performing close-out netting of two or more states.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>signer</code> - the party which will sign the transaction. Must be one of the obligor or beneficiary.</dd>
<dd><code>inputs</code> - two or more states, which must be compatible for bilateral netting (same issuance definitions,and same parties involved).</dd>
</dl>
</li>
</ul>
<a name="generatePaymentNetting-tx-issued-notary-inputs-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generatePaymentNetting</h4>
<pre>@JvmStatic
public static&nbsp;&lt;P&gt;&nbsp;void&nbsp;generatePaymentNetting(@NotNull
                                                         <a href="../../../../../net/corda/core/transactions/TransactionBuilder.html" title="type parameter in TransactionBuilder">TransactionBuilder</a>&nbsp;tx,
                                                         @NotNull
                                                         <a href="../../../../../net/corda/core/contracts/Issued.html" title="type parameter in Issued">Issued</a>&lt;net.corda.finance.contracts.asset.Obligation.Terms&gt;&nbsp;issued,
                                                         @NotNull
                                                         <a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a>&nbsp;notary,
                                                         @NotNull
                                                         net.corda.core.contracts.StateAndRef...&nbsp;inputs)</pre>
</li>
</ul>
<a name="generateSetLifecycle-tx-statesAndRefs-lifecycle-notary-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateSetLifecycle</h4>
<pre>@JvmStatic
public static&nbsp;&lt;P&gt;&nbsp;void&nbsp;generateSetLifecycle(@NotNull
                                                       <a href="../../../../../net/corda/core/transactions/TransactionBuilder.html" title="type parameter in TransactionBuilder">TransactionBuilder</a>&nbsp;tx,
                                                       @NotNull
                                                       java.util.List&lt;net.corda.core.contracts.StateAndRef&gt;&nbsp;statesAndRefs,
                                                       @NotNull
                                                       net.corda.finance.contracts.asset.Obligation.Lifecycle&nbsp;lifecycle,
                                                       @NotNull
                                                       <a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a>&nbsp;notary)</pre>
<div class="block"><p><p>Generate a transaction changing the lifecycle of one or more state objects.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>statesAndRefs</code> - a list of state objects, which MUST all have the same issuance definition. This avoidspotential complications arising from different deadlines applying to different states.</dd>
</dl>
</li>
</ul>
<a name="generateSettle-tx-statesAndRefs-assetStatesAndRefs-moveCommand-notary-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateSettle</h4>
<pre>@JvmStatic
public static&nbsp;&lt;P&gt;&nbsp;void&nbsp;generateSettle(@NotNull
                                                 <a href="../../../../../net/corda/core/transactions/TransactionBuilder.html" title="type parameter in TransactionBuilder">TransactionBuilder</a>&nbsp;tx,
                                                 @NotNull
                                                 java.lang.Iterable&lt;net.corda.core.contracts.StateAndRef&gt;&nbsp;statesAndRefs,
                                                 @NotNull
                                                 java.lang.Iterable&lt;? extends net.corda.core.contracts.StateAndRef&lt;? extends net.corda.core.contracts.FungibleAsset&lt;P&gt;&gt;&gt;&nbsp;assetStatesAndRefs,
                                                 @NotNull
                                                 <a href="../../../../../net/corda/core/contracts/MoveCommand.html" title="type parameter in MoveCommand">MoveCommand</a>&nbsp;moveCommand,
                                                 @NotNull
                                                 <a href="../../../../../net/corda/core/identity/Party.html" title="type parameter in Party">Party</a>&nbsp;notary)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>statesAndRefs</code> - a list of state objects, which MUST all have the same aggregate state. This is done asonly a single settlement command can be present in a transaction, to avoid potential problems with allocatingassets to different obligation issuances.</dd>
<dd><code>assetStatesAndRefs</code> - a list of fungible asset state objects, which MUST all be of the same issued product.It is strongly encouraged that these all have the same beneficiary.</dd>
<dd><code>moveCommand</code> - the command used to move the asset state objects to their new owner.</dd>
</dl>
</li>
</ul>
<a name="generateExit-tx-amountIssued-assetStates-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>generateExit</h4>
<pre>@JvmStatic
 @NotNull
public static&nbsp;&lt;P&gt;&nbsp;java.util.Set&lt;java.security.PublicKey&gt;&nbsp;generateExit(@NotNull
                                                                                           <a href="../../../../../net/corda/core/transactions/TransactionBuilder.html" title="type parameter in TransactionBuilder">TransactionBuilder</a>&nbsp;tx,
                                                                                           @NotNull
                                                                                           <a href="../../../../../net/corda/core/contracts/Amount.html" title="type parameter in Amount">Amount</a>&lt;net.corda.core.contracts.Issued&gt;&nbsp;amountIssued,
                                                                                           @NotNull
                                                                                           java.util.List&lt;net.corda.core.contracts.StateAndRef&gt;&nbsp;assetStates)</pre>
<div class="block"><p><p>Generate an transaction exiting an obligation from the ledger.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tx</code> - transaction builder to add states and commands to.</dd>
<dd><code>amountIssued</code> - the amount to be exited, represented as a quantity of issued currency.</dd>
<dd><code>assetStates</code> - the asset states to take funds from. No checks are done about ownership of these states, it isthe responsibility of the caller to check that they do not exit funds held by others.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the public keys which must sign the transaction for it to be valid.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../net/corda/finance/workflows/asset/CashUtils.html" title="class in net.corda.finance.workflows.asset"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?net/corda/finance/workflows/asset/ObligationUtils.html" target="_top">Frames</a></li>
<li><a href="ObligationUtils.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
