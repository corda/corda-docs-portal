<HTML>
<HEAD>
<meta charset="UTF-8">
<title>MockServices - corda</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">corda</a>&nbsp;/&nbsp;<a href="../index.html">net.corda.testing.node</a>&nbsp;/&nbsp;<a href="./index.html">MockServices</a><br/>
<br/>
<h1>MockServices</h1>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">MockServices</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node/-service-hub/index.html"><span class="identifier">ServiceHub</span></a></code>
<p>An implementation of <a href="../../net.corda.core.node/-service-hub/index.html">ServiceHub</a> that is designed for in-memory unit tests of contract validation logic. It has
enough functionality to do tests of code that queries the vault, inserts to the vault, and constructs/checks
transactions. However it isn't enough to test flows and other aspects of an app that require a network. For that
you should investigate <a href="../-mock-network/index.html">MockNetwork</a>.</p>
<p>There are a variety of constructors that can be used to supply enough data to simulate a node. Each mock service hub
must have at least an identity of its own. The other components have defaults that work in most situations.</p>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="-init-.html">&lt;init&gt;</a></h4>
</td>
<td>
<p>Create a mock <a href="../../net.corda.core.node/-service-hub/index.html">ServiceHub</a> that looks for app code in the given package names, uses the provided identity service
(you can get one from <a href="../make-test-identity-service.html">makeTestIdentityService</a>) and represents the given identity.</p>
<code><span class="identifier">MockServices</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), , net.corda.core.node.services.IdentityService, kotlin.Array((java.security.KeyPair)))/cordappPackages">cordappPackages</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-iterable/index.html"><span class="identifier">Iterable</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), , net.corda.core.node.services.IdentityService, kotlin.Array((java.security.KeyPair)))/initialIdentity">initialIdentity</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), , net.corda.core.node.services.IdentityService, kotlin.Array((java.security.KeyPair)))/identityService">identityService</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node.services/-identity-service/index.html"><span class="identifier">IdentityService</span></a>&nbsp;<span class="symbol">=</span>&nbsp;makeTestIdentityService()<span class="symbol">, </span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), , net.corda.core.node.services.IdentityService, kotlin.Array((java.security.KeyPair)))/moreKeys">moreKeys</span><span class="symbol">:</span>&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/security/KeyPair.html"><span class="identifier">KeyPair</span></a><span class="symbol">)</span></code><br/>
<code><span class="identifier">MockServices</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, java.security.KeyPair, kotlin.Array((java.security.KeyPair)))/cordappPackages">cordappPackages</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-iterable/index.html"><span class="identifier">Iterable</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, java.security.KeyPair, kotlin.Array((java.security.KeyPair)))/initialIdentityName">initialIdentityName</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-corda-x500-name/index.html"><span class="identifier">CordaX500Name</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, java.security.KeyPair, kotlin.Array((java.security.KeyPair)))/identityService">identityService</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node.services/-identity-service/index.html"><span class="identifier">IdentityService</span></a>&nbsp;<span class="symbol">=</span>&nbsp;makeTestIdentityService()<span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, java.security.KeyPair, kotlin.Array((java.security.KeyPair)))/key">key</span><span class="symbol">:</span>&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/security/KeyPair.html"><span class="identifier">KeyPair</span></a><span class="symbol">, </span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, java.security.KeyPair, kotlin.Array((java.security.KeyPair)))/moreKeys">moreKeys</span><span class="symbol">:</span>&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/security/KeyPair.html"><span class="identifier">KeyPair</span></a><span class="symbol">)</span></code><code><span class="identifier">MockServices</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), , net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters, kotlin.Array((java.security.KeyPair)))/cordappPackages">cordappPackages</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-iterable/index.html"><span class="identifier">Iterable</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), , net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters, kotlin.Array((java.security.KeyPair)))/initialIdentity">initialIdentity</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), , net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters, kotlin.Array((java.security.KeyPair)))/identityService">identityService</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node.services/-identity-service/index.html"><span class="identifier">IdentityService</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), , net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters, kotlin.Array((java.security.KeyPair)))/networkParameters">networkParameters</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node/-network-parameters/index.html"><span class="identifier">NetworkParameters</span></a><span class="symbol">, </span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), , net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters, kotlin.Array((java.security.KeyPair)))/moreKeys">moreKeys</span><span class="symbol">:</span>&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/security/KeyPair.html"><span class="identifier">KeyPair</span></a><span class="symbol">)</span></code><br/>
<code><span class="identifier">MockServices</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), , net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters, kotlin.Array((java.security.KeyPair)), net.corda.core.node.services.KeyManagementService)/cordappPackages">cordappPackages</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-iterable/index.html"><span class="identifier">Iterable</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), , net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters, kotlin.Array((java.security.KeyPair)), net.corda.core.node.services.KeyManagementService)/initialIdentity">initialIdentity</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), , net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters, kotlin.Array((java.security.KeyPair)), net.corda.core.node.services.KeyManagementService)/identityService">identityService</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node.services/-identity-service/index.html"><span class="identifier">IdentityService</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), , net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters, kotlin.Array((java.security.KeyPair)), net.corda.core.node.services.KeyManagementService)/networkParameters">networkParameters</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node/-network-parameters/index.html"><span class="identifier">NetworkParameters</span></a><span class="symbol">, </span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), , net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters, kotlin.Array((java.security.KeyPair)), net.corda.core.node.services.KeyManagementService)/moreKeys">moreKeys</span><span class="symbol">:</span>&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/security/KeyPair.html"><span class="identifier">KeyPair</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), , net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters, kotlin.Array((java.security.KeyPair)), net.corda.core.node.services.KeyManagementService)/keyManagementService">keyManagementService</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node.services/-key-management-service/index.html"><span class="identifier">KeyManagementService</span></a><span class="symbol">)</span></code><br/>
<code><span class="identifier">MockServices</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.List((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters)/cordappPackages">cordappPackages</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.List((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters)/initialIdentityName">initialIdentityName</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-corda-x500-name/index.html"><span class="identifier">CordaX500Name</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.List((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters)/identityService">identityService</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node.services/-identity-service/index.html"><span class="identifier">IdentityService</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.List((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters)/networkParameters">networkParameters</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node/-network-parameters/index.html"><span class="identifier">NetworkParameters</span></a><span class="symbol">)</span></code><br/>
<code><span class="identifier">MockServices</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.List((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters, java.security.KeyPair)/cordappPackages">cordappPackages</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.List((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters, java.security.KeyPair)/initialIdentityName">initialIdentityName</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-corda-x500-name/index.html"><span class="identifier">CordaX500Name</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.List((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters, java.security.KeyPair)/identityService">identityService</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node.services/-identity-service/index.html"><span class="identifier">IdentityService</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.List((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters, java.security.KeyPair)/networkParameters">networkParameters</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node/-network-parameters/index.html"><span class="identifier">NetworkParameters</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.List((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, net.corda.core.node.NetworkParameters, java.security.KeyPair)/key">key</span><span class="symbol">:</span>&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/security/KeyPair.html"><span class="identifier">KeyPair</span></a><span class="symbol">)</span></code><br/>
<code><span class="identifier">MockServices</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(, net.corda.core.node.NetworkParameters, kotlin.Array(()))/firstIdentity">firstIdentity</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(, net.corda.core.node.NetworkParameters, kotlin.Array(()))/networkParameters">networkParameters</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node/-network-parameters/index.html"><span class="identifier">NetworkParameters</span></a><span class="symbol">, </span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.testing.node.MockServices$<init>(, net.corda.core.node.NetworkParameters, kotlin.Array(()))/moreIdentities">moreIdentities</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">)</span></code><br/>
<code><span class="identifier">MockServices</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.List((kotlin.String)), , kotlin.Array(()))/cordappPackages">cordappPackages</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.List((kotlin.String)), , kotlin.Array(()))/firstIdentity">firstIdentity</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">, </span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.List((kotlin.String)), , kotlin.Array(()))/moreIdentities">moreIdentities</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">)</span></code><br/>
<code><span class="identifier">MockServices</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.List((kotlin.String)), , net.corda.core.node.NetworkParameters, kotlin.Array(()))/cordappPackages">cordappPackages</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.List((kotlin.String)), , net.corda.core.node.NetworkParameters, kotlin.Array(()))/firstIdentity">firstIdentity</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.List((kotlin.String)), , net.corda.core.node.NetworkParameters, kotlin.Array(()))/networkParameters">networkParameters</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node/-network-parameters/index.html"><span class="identifier">NetworkParameters</span></a><span class="symbol">, </span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.List((kotlin.String)), , net.corda.core.node.NetworkParameters, kotlin.Array(()))/moreIdentities">moreIdentities</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">)</span></code>
<p>Create a mock <a href="../../net.corda.core.node/-service-hub/index.html">ServiceHub</a> that can't load CorDapp code, which uses the provided identity service
(you can get one from <a href="../make-test-identity-service.html">makeTestIdentityService</a>) and which represents the given identity.</p>
<code><span class="identifier">MockServices</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService)/cordappPackages">cordappPackages</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-iterable/index.html"><span class="identifier">Iterable</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService)/initialIdentityName">initialIdentityName</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-corda-x500-name/index.html"><span class="identifier">CordaX500Name</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)), net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService)/identityService">identityService</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node.services/-identity-service/index.html"><span class="identifier">IdentityService</span></a>&nbsp;<span class="symbol">=</span>&nbsp;makeTestIdentityService()<span class="symbol">)</span></code>
<p>Create a mock <a href="../../net.corda.core.node/-service-hub/index.html">ServiceHub</a> that can't load CorDapp code, and which uses a default service identity.</p>
<code><span class="identifier">MockServices</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(kotlin.collections.Iterable((kotlin.String)))/cordappPackages">cordappPackages</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-iterable/index.html"><span class="identifier">Iterable</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">&gt;</span><span class="symbol">)</span></code>
<p>Create a mock <a href="../../net.corda.core.node/-service-hub/index.html">ServiceHub</a> which uses the package of the caller to find CorDapp code. It uses the provided identity service
(you can get one from <a href="../make-test-identity-service.html">makeTestIdentityService</a>) and which represents the given identity.</p>
<code><span class="identifier">MockServices</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, java.security.KeyPair, kotlin.Array((java.security.KeyPair)))/initialIdentityName">initialIdentityName</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-corda-x500-name/index.html"><span class="identifier">CordaX500Name</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, java.security.KeyPair, kotlin.Array((java.security.KeyPair)))/identityService">identityService</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node.services/-identity-service/index.html"><span class="identifier">IdentityService</span></a>&nbsp;<span class="symbol">=</span>&nbsp;makeTestIdentityService()<span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, java.security.KeyPair, kotlin.Array((java.security.KeyPair)))/key">key</span><span class="symbol">:</span>&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/security/KeyPair.html"><span class="identifier">KeyPair</span></a><span class="symbol">, </span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.testing.node.MockServices$<init>(net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService, java.security.KeyPair, kotlin.Array((java.security.KeyPair)))/moreKeys">moreKeys</span><span class="symbol">:</span>&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/security/KeyPair.html"><span class="identifier">KeyPair</span></a><span class="symbol">)</span></code>
<p>Create a mock <a href="../../net.corda.core.node/-service-hub/index.html">ServiceHub</a> which uses the package of the caller to find CorDapp code. It uses the provided identity service
(you can get one from <a href="../make-test-identity-service.html">makeTestIdentityService</a>) and which represents the given identity. It has no keys.</p>
<code><span class="identifier">MockServices</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService)/initialIdentityName">initialIdentityName</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-corda-x500-name/index.html"><span class="identifier">CordaX500Name</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(net.corda.core.identity.CordaX500Name, net.corda.core.node.services.IdentityService)/identityService">identityService</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node.services/-identity-service/index.html"><span class="identifier">IdentityService</span></a>&nbsp;<span class="symbol">=</span>&nbsp;makeTestIdentityService()<span class="symbol">)</span></code>
<p>A helper constructor that requires at least one test identity to be registered, and which takes the package of
the caller as the package in which to find app code. This is the most convenient constructor and the one that
is normally worth using. The first identity is the identity of this service hub, the rest are identities that
it is aware of.</p>
<code><span class="identifier">MockServices</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$<init>(, kotlin.Array(()))/firstIdentity">firstIdentity</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">, </span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.testing.node.MockServices$<init>(, kotlin.Array(()))/moreIdentities">moreIdentities</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">)</span></code>
<p>Create a mock <a href="../../net.corda.core.node/-service-hub/index.html">ServiceHub</a> which uses the package of the caller to find CorDapp code. It uses a default service
identity.</p>
<code><span class="identifier">MockServices</span><span class="symbol">(</span><span class="symbol">)</span></code></td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="attachments.html">attachments</a></h4>
</td>
<td>
<p>Provides access to storage of arbitrary JAR files (which may contain only data, no code).</p>
<code><span class="keyword">val </span><span class="identifier">attachments</span><span class="symbol">: </span><a href="../../net.corda.testing.services/-mock-attachment-storage/index.html"><span class="identifier">MockAttachmentStorage</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="clock.html">clock</a></h4>
</td>
<td>
<p>A <a href="https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html">Clock</a> representing the node's current time. This should be used in preference to directly accessing the
clock so the current time can be controlled during unit testing.</p>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">clock</span><span class="symbol">: </span><a href="../-test-clock/index.html"><span class="identifier">TestClock</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="contract-upgrade-service.html">contractUpgradeService</a></h4>
</td>
<td>
<p>The <a href="../../net.corda.core.node.services/-contract-upgrade-service/index.html">ContractUpgradeService</a> is responsible for securely upgrading contract state objects according to
a specified and mutually agreed (amongst participants) contract version.</p>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">contractUpgradeService</span><span class="symbol">: </span><a href="../../net.corda.core.node.services/-contract-upgrade-service/index.html"><span class="identifier">ContractUpgradeService</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="cordapp-classloader.html">cordappClassloader</a></h4>
</td>
<td>
<p>Returns the classloader containing all jar deployed in the 'cordapps' folder.</p>
<code><span class="keyword">val </span><span class="identifier">cordappClassloader</span><span class="symbol">: </span><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html"><span class="identifier">ClassLoader</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="cordapp-provider.html">cordappProvider</a></h4>
</td>
<td>
<p>Provides access to anything relating to cordapps including contract attachment resolution and app context</p>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">cordappProvider</span><span class="symbol">: </span><a href="../../net.corda.core.cordapp/-cordapp-provider/index.html"><span class="identifier">CordappProvider</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="diagnostics-service.html">diagnosticsService</a></h4>
</td>
<td>
<p>The <a href="../../net.corda.core.node.services.diagnostics/-diagnostics-service/index.html">DiagnosticsService</a> provides diagnostic level information about the node, including the current version of the node, and the
CorDapps currently installed on the node. Note that this information should be used to provide diagnostics only, and no functional
decisions should be made based on this.</p>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">diagnosticsService</span><span class="symbol">: </span><a href="../../net.corda.core.node.services.diagnostics/-diagnostics-service/index.html"><span class="identifier">DiagnosticsService</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="identity-service.html">identityService</a></h4>
</td>
<td>
<p>An identity service maintains a directory of parties by their associated distinguished name/public keys and thus
supports lookup of a party given its key, or name. The service also manages the certificates linking confidential
identities back to the well known identity (i.e. the identity in the network map) of a party.</p>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">identityService</span><span class="symbol">: </span><a href="../../net.corda.core.node.services/-identity-service/index.html"><span class="identifier">IdentityService</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="key-management-service.html">keyManagementService</a></h4>
</td>
<td>
<p>The key management service is responsible for storing and using private keys to sign things. An
implementation of this may, for example, call out to a hardware security module that enforces various
auditing and frequency-of-use requirements.</p>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">keyManagementService</span><span class="symbol">: </span><a href="../../net.corda.core.node.services/-key-management-service/index.html"><span class="identifier">KeyManagementService</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="my-info.html">myInfo</a></h4>
</td>
<td>
<p>The <a href="../../net.corda.core.node/-node-info/index.html">NodeInfo</a> object corresponding to our own entry in the network map.</p>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">myInfo</span><span class="symbol">: </span><a href="../../net.corda.core.node/-node-info/index.html"><span class="identifier">NodeInfo</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="network-map-cache.html">networkMapCache</a></h4>
</td>
<td>
<p>A network map contains lists of nodes on the network along with information about their identity keys, services
they provide and host names or IP addresses where they can be connected to. The cache wraps around a map fetched
from an authoritative service, and adds easy lookup of the data stored within it. Generally it would be initialised
with a specified network map service, which it fetches data from and then subscribes to updates of.</p>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">networkMapCache</span><span class="symbol">: </span><a href="../../net.corda.core.node.services/-network-map-cache/index.html"><span class="identifier">NetworkMapCache</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="network-parameters.html">networkParameters</a></h4>
</td>
<td>
<p>Returns the network parameters the node is operating under.</p>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">networkParameters</span><span class="symbol">: </span><a href="../../net.corda.core.node/-network-parameters/index.html"><span class="identifier">NetworkParameters</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="network-parameters-service.html">networkParametersService</a></h4>
</td>
<td>
<p>Provides access to historical network parameters that are used in transaction resolution.</p>
<code><span class="keyword">open</span> <span class="keyword">var </span><span class="identifier">networkParametersService</span><span class="symbol">: </span><a href="../../net.corda.core.node.services/-network-parameters-service/index.html"><span class="identifier">NetworkParametersService</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="services-for-resolution.html">servicesForResolution</a></h4>
</td>
<td>
<code><span class="keyword">val </span><span class="identifier">servicesForResolution</span><span class="symbol">: </span><a href="../../net.corda.core.node/-services-for-resolution/index.html"><span class="identifier">ServicesForResolution</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="telemetry-service.html">telemetryService</a></h4>
</td>
<td>
<p>Provides operations to support telemetry and telemetry data between nodes.</p>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">telemetryService</span><span class="symbol">: </span><span class="identifier">TelemetryServiceImpl</span></code></td>
</tr>
<tr>
<td>
<h4><a href="validated-transactions.html">validatedTransactions</a></h4>
</td>
<td>
<p>A map of hash-&gt;tx where tx has been signature/contract validated and the states are known to be correct.
The signatures aren't technically needed after that point, but we keep them around so that we can relay
the transaction data to other nodes that need it.</p>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">validatedTransactions</span><span class="symbol">: </span><a href="../../net.corda.core.node.services/-transaction-storage/index.html"><span class="identifier">TransactionStorage</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="vault-service.html">vaultService</a></h4>
</td>
<td>
<p>The vault service lets you observe, soft lock and add notes to states that involve you or are relevant to your
node in some way. Additionally you may query and track states that correspond to various criteria.</p>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">vaultService</span><span class="symbol">: </span><a href="../../net.corda.core.node.services/-vault-service/index.html"><span class="identifier">VaultService</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="add-mock-cordapp.html">addMockCordapp</a></h4>
</td>
<td>
<p>Add the given package name to the list of packages which will be scanned for cordapp contract verification code</p>
<code><span class="keyword">fun </span><span class="identifier">addMockCordapp</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$addMockCordapp(kotlin.String)/contractClassName">contractClassName</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-contract-class-name.html"><span class="identifier">ContractClassName</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="corda-service.html">cordaService</a></h4>
</td>
<td>
<p>Return the singleton instance of the given Corda service type. This is a class that is annotated with
<a href="../../net.corda.core.node.services/-corda-service/index.html">CordaService</a> and will have automatically been registered by the node.</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">T</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.serialization/-serialize-as-token/index.html"><span class="identifier">SerializeAsToken</span></a><span class="symbol">&gt;</span> <span class="identifier">cordaService</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$cordaService(java.lang.Class((net.corda.testing.node.MockServices.cordaService.T)))/type">type</span><span class="symbol">:</span>&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html"><span class="identifier">Class</span></a><span class="symbol">&lt;</span><span class="identifier">T</span><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">T</span></code></td>
</tr>
<tr>
<td>
<h4><a href="corda-telemetry-component.html">cordaTelemetryComponent</a></h4>
</td>
<td>
<p>Return the singleton instance of the given Corda telemetry component type. This is a class that implements TelemetryComponent
and will have automatically been registered by the node.</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">T</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">TelemetryComponent</span><span class="symbol">&gt;</span> <span class="identifier">cordaTelemetryComponent</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$cordaTelemetryComponent(java.lang.Class((net.corda.testing.node.MockServices.cordaTelemetryComponent.T)))/type">type</span><span class="symbol">:</span>&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html"><span class="identifier">Class</span></a><span class="symbol">&lt;</span><span class="identifier">T</span><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">T</span></code></td>
</tr>
<tr>
<td>
<h4><a href="jdbc-session.html">jdbcSession</a></h4>
</td>
<td>
<p>Exposes a JDBC connection (session) object using the currently configured database.
Applications can use this to execute arbitrary SQL queries (native, direct, prepared, callable)
against its Node database tables (including custom contract tables defined by extending
<a href="../../net.corda.core.schemas/-queryable-state/index.html">net.corda.core.schemas.QueryableState</a>).</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">jdbcSession</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html"><span class="identifier">Connection</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="load-contract-attachment.html">loadContractAttachment</a></h4>
</td>
<td>
<p>Returns a dummy Attachment, in context of signature constrains non-downgrade rule this default to contract class version <code>1</code>.</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">loadContractAttachment</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$loadContractAttachment(net.corda.core.contracts.StateRef)/stateRef">stateRef</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-state-ref/index.html"><span class="identifier">StateRef</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="../../net.corda.core.contracts/-attachment/index.html"><span class="identifier">Attachment</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="load-state.html">loadState</a></h4>
</td>
<td>
<p>Given a <a href="../../net.corda.core.contracts/-state-ref/index.html">StateRef</a> loads the referenced transaction and looks up the specified output <a href="../../net.corda.core.contracts/-contract-state/index.html">ContractState</a>.</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">loadState</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$loadState(net.corda.core.contracts.StateRef)/stateRef">stateRef</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-state-ref/index.html"><span class="identifier">StateRef</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="../../net.corda.core.contracts/-transaction-state/index.html"><span class="identifier">TransactionState</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<h4><a href="load-states.html">loadStates</a></h4>
</td>
<td>
<p>Given a <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-set/index.html">Set</a> of <a href="../../net.corda.core.contracts/-state-ref/index.html">StateRef</a>'s loads the referenced transaction and looks up the specified output <a href="../../net.corda.core.contracts/-contract-state/index.html">ContractState</a>.</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">loadStates</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$loadStates(kotlin.collections.Set((net.corda.core.contracts.StateRef)))/stateRefs">stateRefs</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-set/index.html"><span class="identifier">Set</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-state-ref/index.html"><span class="identifier">StateRef</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-set/index.html"><span class="identifier">Set</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-state-and-ref/index.html"><span class="identifier">StateAndRef</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.contracts/-contract-state/index.html"><span class="identifier">ContractState</span></a><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<h4><a href="record-transactions.html">recordTransactions</a></h4>
</td>
<td>
<p>Stores the given <a href="../../net.corda.core.transactions/-signed-transaction/index.html">SignedTransaction</a>s in the local transaction storage and then sends them to the vault for
further processing if <a href="../../net.corda.core.node/-service-hub/record-transactions.html#net.corda.core.node.ServiceHub$recordTransactions(net.corda.core.node.StatesToRecord, kotlin.collections.Iterable((net.corda.core.transactions.SignedTransaction)))/statesToRecord">statesToRecord</a> is not <a href="../../net.corda.core.node/-states-to-record/-n-o-n-e.html">StatesToRecord.NONE</a>.
This is expected to be run within a database transaction.</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">recordTransactions</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$recordTransactions(net.corda.core.node.StatesToRecord, kotlin.collections.Iterable((net.corda.core.transactions.SignedTransaction)))/statesToRecord">statesToRecord</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node/-states-to-record/index.html"><span class="identifier">StatesToRecord</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices$recordTransactions(net.corda.core.node.StatesToRecord, kotlin.collections.Iterable((net.corda.core.transactions.SignedTransaction)))/txs">txs</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-iterable/index.html"><span class="identifier">Iterable</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.transactions/-signed-transaction/index.html"><span class="identifier">SignedTransaction</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="register-unload-handler.html">registerUnloadHandler</a></h4>
</td>
<td>
<p>Allows the registration of a callback that may inform services when the app is shutting down.</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">registerUnloadHandler</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$registerUnloadHandler(kotlin.Function0((kotlin.Unit)))/runOnStop">runOnStop</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-nothing/index.html"><span class="identifier">Nothing</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="with-entity-manager.html">withEntityManager</a></h4>
</td>
<td>
<p>Exposes the Java Persistence API (JPA) to flows via a restricted <a href="#">EntityManager</a>. This method can be used to
persist and query entities which inherit from <a href="#">MappedSchema</a>. This is particularly useful if off-ledger data
needs to be kept in conjunction with on-ledger state data.</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">T</span><span class="symbol">&gt;</span> <span class="identifier">withEntityManager</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$withEntityManager(kotlin.Function1((javax.persistence.EntityManager, net.corda.testing.node.MockServices.withEntityManager.T)))/block">block</span><span class="symbol">:</span>&nbsp;<span class="identifier">EntityManager</span><span class="symbol">.</span><span class="symbol">(</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">T</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">T</span></code><br/>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">withEntityManager</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices$withEntityManager(java.util.function.Consumer((javax.persistence.EntityManager)))/block">block</span><span class="symbol">:</span>&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html"><span class="identifier">Consumer</span></a><span class="symbol">&lt;</span><span class="identifier">EntityManager</span><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Companion Object Functions</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="make-test-database-and-mock-services.html">makeTestDatabaseAndMockServices</a></h4>
</td>
<td>
<p>Makes database and mock services appropriate for unit tests.</p>
<code><span class="keyword">fun </span><span class="identifier">makeTestDatabaseAndMockServices</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices.Companion$makeTestDatabaseAndMockServices(kotlin.collections.List((kotlin.String)), net.corda.core.node.services.IdentityService, , net.corda.core.node.NetworkParameters, kotlin.Array((java.security.KeyPair)))/cordappPackages">cordappPackages</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices.Companion$makeTestDatabaseAndMockServices(kotlin.collections.List((kotlin.String)), net.corda.core.node.services.IdentityService, , net.corda.core.node.NetworkParameters, kotlin.Array((java.security.KeyPair)))/identityService">identityService</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node.services/-identity-service/index.html"><span class="identifier">IdentityService</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices.Companion$makeTestDatabaseAndMockServices(kotlin.collections.List((kotlin.String)), net.corda.core.node.services.IdentityService, , net.corda.core.node.NetworkParameters, kotlin.Array((java.security.KeyPair)))/initialIdentity">initialIdentity</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices.Companion$makeTestDatabaseAndMockServices(kotlin.collections.List((kotlin.String)), net.corda.core.node.services.IdentityService, , net.corda.core.node.NetworkParameters, kotlin.Array((java.security.KeyPair)))/networkParameters">networkParameters</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node/-network-parameters/index.html"><span class="identifier">NetworkParameters</span></a>&nbsp;<span class="symbol">=</span>&nbsp;testNetworkParameters(modifiedTime = Instant.MIN)<span class="symbol">, </span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.testing.node.MockServices.Companion$makeTestDatabaseAndMockServices(kotlin.collections.List((kotlin.String)), net.corda.core.node.services.IdentityService, , net.corda.core.node.NetworkParameters, kotlin.Array((java.security.KeyPair)))/moreKeys">moreKeys</span><span class="symbol">:</span>&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/security/KeyPair.html"><span class="identifier">KeyPair</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-pair/index.html"><span class="identifier">Pair</span></a><span class="symbol">&lt;</span><span class="identifier">CordaPersistence</span><span class="symbol">,</span>&nbsp;<a href="./index.html"><span class="identifier">MockServices</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<h4><a href="make-test-database-and-persistent-services.html">makeTestDatabaseAndPersistentServices</a></h4>
</td>
<td>
<p>Makes database and persistent services appropriate for unit tests which require persistence across the vault, identity service
and key managment service.</p>
<code><span class="keyword">fun </span><span class="identifier">makeTestDatabaseAndPersistentServices</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices.Companion$makeTestDatabaseAndPersistentServices(kotlin.collections.List((kotlin.String)), , net.corda.core.node.NetworkParameters, kotlin.collections.Set((java.security.KeyPair)), kotlin.collections.Set((net.corda.core.identity.PartyAndCertificate)), net.corda.testing.internal.TestingNamedCacheFactory)/cordappPackages">cordappPackages</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices.Companion$makeTestDatabaseAndPersistentServices(kotlin.collections.List((kotlin.String)), , net.corda.core.node.NetworkParameters, kotlin.collections.Set((java.security.KeyPair)), kotlin.collections.Set((net.corda.core.identity.PartyAndCertificate)), net.corda.testing.internal.TestingNamedCacheFactory)/initialIdentity">initialIdentity</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices.Companion$makeTestDatabaseAndPersistentServices(kotlin.collections.List((kotlin.String)), , net.corda.core.node.NetworkParameters, kotlin.collections.Set((java.security.KeyPair)), kotlin.collections.Set((net.corda.core.identity.PartyAndCertificate)), net.corda.testing.internal.TestingNamedCacheFactory)/networkParameters">networkParameters</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node/-network-parameters/index.html"><span class="identifier">NetworkParameters</span></a>&nbsp;<span class="symbol">=</span>&nbsp;testNetworkParameters(modifiedTime = Instant.MIN)<span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices.Companion$makeTestDatabaseAndPersistentServices(kotlin.collections.List((kotlin.String)), , net.corda.core.node.NetworkParameters, kotlin.collections.Set((java.security.KeyPair)), kotlin.collections.Set((net.corda.core.identity.PartyAndCertificate)), net.corda.testing.internal.TestingNamedCacheFactory)/moreKeys">moreKeys</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-set/index.html"><span class="identifier">Set</span></a><span class="symbol">&lt;</span><a href="https://docs.oracle.com/javase/8/docs/api/java/security/KeyPair.html"><span class="identifier">KeyPair</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices.Companion$makeTestDatabaseAndPersistentServices(kotlin.collections.List((kotlin.String)), , net.corda.core.node.NetworkParameters, kotlin.collections.Set((java.security.KeyPair)), kotlin.collections.Set((net.corda.core.identity.PartyAndCertificate)), net.corda.testing.internal.TestingNamedCacheFactory)/moreIdentities">moreIdentities</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-set/index.html"><span class="identifier">Set</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.identity/-party-and-certificate/index.html"><span class="identifier">PartyAndCertificate</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.node.MockServices.Companion$makeTestDatabaseAndPersistentServices(kotlin.collections.List((kotlin.String)), , net.corda.core.node.NetworkParameters, kotlin.collections.Set((java.security.KeyPair)), kotlin.collections.Set((net.corda.core.identity.PartyAndCertificate)), net.corda.testing.internal.TestingNamedCacheFactory)/cacheFactory">cacheFactory</span><span class="symbol">:</span>&nbsp;<span class="identifier">TestingNamedCacheFactory</span>&nbsp;<span class="symbol">=</span>&nbsp;TestingNamedCacheFactory()<span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-pair/index.html"><span class="identifier">Pair</span></a><span class="symbol">&lt;</span><span class="identifier">CordaPersistence</span><span class="symbol">,</span>&nbsp;<a href="./index.html"><span class="identifier">MockServices</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<h4><a href="make-test-data-source-properties.html">makeTestDataSourceProperties</a></h4>
</td>
<td>
<p>Make properties appropriate for creating a DataSource for unit tests.</p>
<code><span class="keyword">fun </span><span class="identifier">makeTestDataSourceProperties</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node.MockServices.Companion$makeTestDataSourceProperties(kotlin.String)/nodeName">nodeName</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a>&nbsp;<span class="symbol">=</span>&nbsp;SecureHash.randomSHA256().toString()<span class="symbol">)</span><span class="symbol">: </span><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html"><span class="identifier">Properties</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Extension Functions</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="../../net.corda.finance.workflows/get-cash-balance.html">getCashBalance</a></h4>
</td>
<td>
<code><span class="keyword">fun </span><a href="../../net.corda.core.node/-service-hub/index.html"><span class="identifier">ServiceHub</span></a><span class="symbol">.</span><span class="identifier">getCashBalance</span><span class="symbol">(</span><span class="identifier" id="net.corda.finance.workflows$getCashBalance(net.corda.core.node.ServiceHub, java.util.Currency)/currency">currency</span><span class="symbol">:</span>&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Currency.html"><span class="identifier">Currency</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="../../net.corda.core.contracts/-amount/index.html"><span class="identifier">Amount</span></a><span class="symbol">&lt;</span><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Currency.html"><span class="identifier">Currency</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<h4><a href="../../net.corda.finance.workflows/get-cash-balances.html">getCashBalances</a></h4>
</td>
<td>
<code><span class="keyword">fun </span><a href="../../net.corda.core.node/-service-hub/index.html"><span class="identifier">ServiceHub</span></a><span class="symbol">.</span><span class="identifier">getCashBalances</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/index.html"><span class="identifier">Map</span></a><span class="symbol">&lt;</span><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Currency.html"><span class="identifier">Currency</span></a><span class="symbol">,</span>&nbsp;<a href="../../net.corda.core.contracts/-amount/index.html"><span class="identifier">Amount</span></a><span class="symbol">&lt;</span><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Currency.html"><span class="identifier">Currency</span></a><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<h4><a href="../ledger.html">ledger</a></h4>
</td>
<td>
<p>Creates and tests a ledger built by the passed in dsl.</p>
<code><span class="keyword">fun </span><a href="../../net.corda.core.node/-service-hub/index.html"><span class="identifier">ServiceHub</span></a><span class="symbol">.</span><span class="identifier">ledger</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node$ledger(net.corda.core.node.ServiceHub, net.corda.core.identity.Party, kotlin.Function1((net.corda.testing.dsl.LedgerDSL((net.corda.testing.dsl.TestTransactionDSLInterpreter, net.corda.testing.dsl.TestLedgerDSLInterpreter)), kotlin.Unit)))/notary">notary</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-party/index.html"><span class="identifier">Party</span></a>&nbsp;<span class="symbol">=</span>&nbsp;TestIdentity.fresh("ledger notary").party<span class="symbol">, </span><span class="identifier" id="net.corda.testing.node$ledger(net.corda.core.node.ServiceHub, net.corda.core.identity.Party, kotlin.Function1((net.corda.testing.dsl.LedgerDSL((net.corda.testing.dsl.TestTransactionDSLInterpreter, net.corda.testing.dsl.TestLedgerDSLInterpreter)), kotlin.Unit)))/script">script</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.testing.dsl/-ledger-d-s-l/index.html"><span class="identifier">LedgerDSL</span></a><span class="symbol">&lt;</span><a href="../../net.corda.testing.dsl/-test-transaction-d-s-l-interpreter/index.html"><span class="identifier">TestTransactionDSLInterpreter</span></a><span class="symbol">,</span>&nbsp;<a href="../../net.corda.testing.dsl/-test-ledger-d-s-l-interpreter/index.html"><span class="identifier">TestLedgerDSLInterpreter</span></a><span class="symbol">&gt;</span><span class="symbol">.</span><span class="symbol">(</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="../../net.corda.testing.dsl/-ledger-d-s-l/index.html"><span class="identifier">LedgerDSL</span></a><span class="symbol">&lt;</span><a href="../../net.corda.testing.dsl/-test-transaction-d-s-l-interpreter/index.html"><span class="identifier">TestTransactionDSLInterpreter</span></a><span class="symbol">,</span>&nbsp;<a href="../../net.corda.testing.dsl/-test-ledger-d-s-l-interpreter/index.html"><span class="identifier">TestLedgerDSLInterpreter</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<h4><a href="../transaction.html">transaction</a></h4>
</td>
<td>
<p>Creates a ledger with a single transaction, built by the passed in dsl.</p>
<code><span class="keyword">fun </span><a href="../../net.corda.core.node/-service-hub/index.html"><span class="identifier">ServiceHub</span></a><span class="symbol">.</span><span class="identifier">transaction</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.node$transaction(net.corda.core.node.ServiceHub, net.corda.core.identity.Party, kotlin.Function1((net.corda.testing.dsl.TransactionDSL((net.corda.testing.dsl.TransactionDSLInterpreter)), net.corda.testing.dsl.EnforceVerifyOrFail)))/notary">notary</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-party/index.html"><span class="identifier">Party</span></a>&nbsp;<span class="symbol">=</span>&nbsp;TestIdentity.fresh("transaction notary").party<span class="symbol">, </span><span class="identifier" id="net.corda.testing.node$transaction(net.corda.core.node.ServiceHub, net.corda.core.identity.Party, kotlin.Function1((net.corda.testing.dsl.TransactionDSL((net.corda.testing.dsl.TransactionDSLInterpreter)), net.corda.testing.dsl.EnforceVerifyOrFail)))/script">script</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.testing.dsl/-transaction-d-s-l/index.html"><span class="identifier">TransactionDSL</span></a><span class="symbol">&lt;</span><a href="../../net.corda.testing.dsl/-transaction-d-s-l-interpreter/index.html"><span class="identifier">TransactionDSLInterpreter</span></a><span class="symbol">&gt;</span><span class="symbol">.</span><span class="symbol">(</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="../../net.corda.testing.dsl/-enforce-verify-or-fail.html"><span class="identifier">EnforceVerifyOrFail</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="../../net.corda.testing.dsl/-ledger-d-s-l/index.html"><span class="identifier">LedgerDSL</span></a><span class="symbol">&lt;</span><a href="../../net.corda.testing.dsl/-test-transaction-d-s-l-interpreter/index.html"><span class="identifier">TestTransactionDSLInterpreter</span></a><span class="symbol">,</span>&nbsp;<a href="../../net.corda.testing.dsl/-test-ledger-d-s-l-interpreter/index.html"><span class="identifier">TestLedgerDSLInterpreter</span></a><span class="symbol">&gt;</span></code></td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
