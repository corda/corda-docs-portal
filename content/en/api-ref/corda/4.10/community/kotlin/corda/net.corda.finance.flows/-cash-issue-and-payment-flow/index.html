<HTML>
<HEAD>
<meta charset="UTF-8">
<title>CashIssueAndPaymentFlow - corda</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">corda</a>&nbsp;/&nbsp;<a href="../index.html">net.corda.finance.flows</a>&nbsp;/&nbsp;<a href="./index.html">CashIssueAndPaymentFlow</a><br/>
<br/>
<h1>CashIssueAndPaymentFlow</h1>
<code><span class="identifier">@StartableByRPC</span> <span class="keyword">class </span><span class="identifier">CashIssueAndPaymentFlow</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../-abstract-cash-flow/index.html"><span class="identifier">AbstractCashFlow</span></a><span class="symbol">&lt;</span><span class="identifier">Result</span><span class="symbol">&gt;</span></code>
<p>Initiates a flow that self-issues cash and then send this to a recipient.</p>
<p>We issue cash only to ourselves so that all KYC/AML checks on payments are enforced consistently, rather than risk
checks for issuance and payments differing. Outside of test scenarios it would be extremely unusual to issue cash
and immediately transfer it, so impact of this limitation is considered minimal.</p>
<h3>Parameters</h3>
<p><a name="amount"></a>
<code>amount</code> - the amount of currency to issue.</p>
<p><a name="issueRef"></a>
<code>issueRef</code> - a reference to put on the issued currency.</p>
<p><a name="recipient"></a>
<code>recipient</code> - the recipient of the currency</p>
<p><a name="anonymous"></a>
<code>anonymous</code> - if true, the recipient of the cash will be anonymous. Should be true for normal usage</p>
<p><a name="notary"></a>
<code>notary</code> - the notary to set on the output states.</p>
<h3>Types</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="-issue-and-payment-request/index.html">IssueAndPaymentRequest</a></h4>
</td>
<td>
<code><span class="keyword">class </span><span class="identifier">IssueAndPaymentRequest</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">AbstractRequest</span></code></td>
</tr>
</tbody>
</table>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="-init-.html">&lt;init&gt;</a></h4>
</td>
<td>
<code><span class="identifier">CashIssueAndPaymentFlow</span><span class="symbol">(</span><span class="identifier" id="net.corda.finance.flows.CashIssueAndPaymentFlow$<init>(net.corda.core.contracts.Amount((java.util.Currency)), net.corda.core.utilities.OpaqueBytes, net.corda.core.identity.Party, kotlin.Boolean, net.corda.core.identity.Party)/amount">amount</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-amount/index.html"><span class="identifier">Amount</span></a><span class="symbol">&lt;</span><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Currency.html"><span class="identifier">Currency</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.finance.flows.CashIssueAndPaymentFlow$<init>(net.corda.core.contracts.Amount((java.util.Currency)), net.corda.core.utilities.OpaqueBytes, net.corda.core.identity.Party, kotlin.Boolean, net.corda.core.identity.Party)/issueRef">issueRef</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.utilities/-opaque-bytes/index.html"><span class="identifier">OpaqueBytes</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.finance.flows.CashIssueAndPaymentFlow$<init>(net.corda.core.contracts.Amount((java.util.Currency)), net.corda.core.utilities.OpaqueBytes, net.corda.core.identity.Party, kotlin.Boolean, net.corda.core.identity.Party)/recipient">recipient</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.finance.flows.CashIssueAndPaymentFlow$<init>(net.corda.core.contracts.Amount((java.util.Currency)), net.corda.core.utilities.OpaqueBytes, net.corda.core.identity.Party, kotlin.Boolean, net.corda.core.identity.Party)/anonymous">anonymous</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.finance.flows.CashIssueAndPaymentFlow$<init>(net.corda.core.contracts.Amount((java.util.Currency)), net.corda.core.utilities.OpaqueBytes, net.corda.core.identity.Party, kotlin.Boolean, net.corda.core.identity.Party)/notary">notary</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">)</span></code><br/>
<code><span class="identifier">CashIssueAndPaymentFlow</span><span class="symbol">(</span><span class="identifier" id="net.corda.finance.flows.CashIssueAndPaymentFlow$<init>(net.corda.finance.flows.CashIssueAndPaymentFlow.IssueAndPaymentRequest)/request">request</span><span class="symbol">:</span>&nbsp;<span class="identifier">IssueAndPaymentRequest</span><span class="symbol">)</span></code>
<p>Initiates a flow that self-issues cash and then send this to a recipient.</p>
<code><span class="identifier">CashIssueAndPaymentFlow</span><span class="symbol">(</span><span class="identifier" id="net.corda.finance.flows.CashIssueAndPaymentFlow$<init>(net.corda.core.contracts.Amount((java.util.Currency)), net.corda.core.utilities.OpaqueBytes, net.corda.core.identity.Party, kotlin.Boolean, net.corda.core.identity.Party, net.corda.core.utilities.ProgressTracker)/amount">amount</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.contracts/-amount/index.html"><span class="identifier">Amount</span></a><span class="symbol">&lt;</span><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Currency.html"><span class="identifier">Currency</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.finance.flows.CashIssueAndPaymentFlow$<init>(net.corda.core.contracts.Amount((java.util.Currency)), net.corda.core.utilities.OpaqueBytes, net.corda.core.identity.Party, kotlin.Boolean, net.corda.core.identity.Party, net.corda.core.utilities.ProgressTracker)/issueRef">issueRef</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.utilities/-opaque-bytes/index.html"><span class="identifier">OpaqueBytes</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.finance.flows.CashIssueAndPaymentFlow$<init>(net.corda.core.contracts.Amount((java.util.Currency)), net.corda.core.utilities.OpaqueBytes, net.corda.core.identity.Party, kotlin.Boolean, net.corda.core.identity.Party, net.corda.core.utilities.ProgressTracker)/recipient">recipient</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.finance.flows.CashIssueAndPaymentFlow$<init>(net.corda.core.contracts.Amount((java.util.Currency)), net.corda.core.utilities.OpaqueBytes, net.corda.core.identity.Party, kotlin.Boolean, net.corda.core.identity.Party, net.corda.core.utilities.ProgressTracker)/anonymous">anonymous</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.finance.flows.CashIssueAndPaymentFlow$<init>(net.corda.core.contracts.Amount((java.util.Currency)), net.corda.core.utilities.OpaqueBytes, net.corda.core.identity.Party, kotlin.Boolean, net.corda.core.identity.Party, net.corda.core.utilities.ProgressTracker)/notary">notary</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.identity/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.finance.flows.CashIssueAndPaymentFlow$<init>(net.corda.core.contracts.Amount((java.util.Currency)), net.corda.core.utilities.OpaqueBytes, net.corda.core.identity.Party, kotlin.Boolean, net.corda.core.identity.Party, net.corda.core.utilities.ProgressTracker)/progressTracker">progressTracker</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.utilities/-progress-tracker/index.html"><span class="identifier">ProgressTracker</span></a><span class="symbol">)</span></code></td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="amount.html">amount</a></h4>
</td>
<td>
<p>the amount of currency to issue.</p>
<code><span class="keyword">val </span><span class="identifier">amount</span><span class="symbol">: </span><a href="../../net.corda.core.contracts/-amount/index.html"><span class="identifier">Amount</span></a><span class="symbol">&lt;</span><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Currency.html"><span class="identifier">Currency</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<h4><a href="anonymous.html">anonymous</a></h4>
</td>
<td>
<p>if true, the recipient of the cash will be anonymous. Should be true for normal usage</p>
<code><span class="keyword">val </span><span class="identifier">anonymous</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="issue-ref.html">issueRef</a></h4>
</td>
<td>
<p>a reference to put on the issued currency.</p>
<code><span class="keyword">val </span><span class="identifier">issueRef</span><span class="symbol">: </span><a href="../../net.corda.core.utilities/-opaque-bytes/index.html"><span class="identifier">OpaqueBytes</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="notary.html">notary</a></h4>
</td>
<td>
<p>the notary to set on the output states.</p>
<code><span class="keyword">val </span><span class="identifier">notary</span><span class="symbol">: </span><a href="../../net.corda.core.identity/-party/index.html"><span class="identifier">Party</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="recipient.html">recipient</a></h4>
</td>
<td>
<p>the recipient of the currency</p>
<code><span class="keyword">val </span><span class="identifier">recipient</span><span class="symbol">: </span><a href="../../net.corda.core.identity/-party/index.html"><span class="identifier">Party</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="call.html">call</a></h4>
</td>
<td>
<p>This is where you fill out your business logic.</p>
<code><span class="keyword">fun </span><span class="identifier">call</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Result</span></code></td>
</tr>
</tbody>
</table>
<h3>Companion Object Properties</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="-i-s-s-u-i-n-g_-c-a-s-h.html">ISSUING_CASH</a></h4>
</td>
<td>
<code><span class="keyword">val </span><span class="identifier">ISSUING_CASH</span><span class="symbol">: </span><span class="identifier">Step</span></code></td>
</tr>
<tr>
<td>
<h4><a href="-p-a-y-i-n-g_-r-e-c-i-p-i-e-n-t.html">PAYING_RECIPIENT</a></h4>
</td>
<td>
<code><span class="keyword">val </span><span class="identifier">PAYING_RECIPIENT</span><span class="symbol">: </span><span class="identifier">Step</span></code></td>
</tr>
</tbody>
</table>
<h3>Companion Object Functions</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="tracker.html">tracker</a></h4>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">tracker</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="../../net.corda.core.utilities/-progress-tracker/index.html"><span class="identifier">ProgressTracker</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Extension Functions</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="../../net.corda.testing.flows/receive-all.html">receiveAll</a></h4>
</td>
<td>
<p>Suspends until a message has been received for each session in the specified <a href="../../net.corda.testing.flows/receive-all.html#net.corda.testing.flows$receiveAll(net.corda.core.flows.FlowLogic((kotlin.Any)), kotlin.Pair((net.corda.core.flows.FlowSession, java.lang.Class((kotlin.Any)))), kotlin.Array((kotlin.Pair((net.corda.core.flows.FlowSession, java.lang.Class((kotlin.Any)))))))/sessions">sessions</a>.</p>
<code><span class="keyword">fun </span><a href="../../net.corda.core.flows/-flow-logic/index.html"><span class="identifier">FlowLogic</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">.</span><span class="identifier">receiveAll</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.flows$receiveAll(net.corda.core.flows.FlowLogic((kotlin.Any)), kotlin.Pair((net.corda.core.flows.FlowSession, java.lang.Class((kotlin.Any)))), kotlin.Array((kotlin.Pair((net.corda.core.flows.FlowSession, java.lang.Class((kotlin.Any)))))))/session">session</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-pair/index.html"><span class="identifier">Pair</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.flows/-flow-session/index.html"><span class="identifier">FlowSession</span></a><span class="symbol">,</span>&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html"><span class="identifier">Class</span></a><span class="symbol">&lt;</span><span class="keyword">out</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.testing.flows$receiveAll(net.corda.core.flows.FlowLogic((kotlin.Any)), kotlin.Pair((net.corda.core.flows.FlowSession, java.lang.Class((kotlin.Any)))), kotlin.Array((kotlin.Pair((net.corda.core.flows.FlowSession, java.lang.Class((kotlin.Any)))))))/sessions">sessions</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-pair/index.html"><span class="identifier">Pair</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.flows/-flow-session/index.html"><span class="identifier">FlowSession</span></a><span class="symbol">,</span>&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html"><span class="identifier">Class</span></a><span class="symbol">&lt;</span><span class="keyword">out</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/index.html"><span class="identifier">Map</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.flows/-flow-session/index.html"><span class="identifier">FlowSession</span></a><span class="symbol">,</span>&nbsp;<a href="../../net.corda.core.utilities/-untrustworthy-data/index.html"><span class="identifier">UntrustworthyData</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code><br/>
<code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">R</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span> <a href="../../net.corda.core.flows/-flow-logic/index.html"><span class="identifier">FlowLogic</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">.</span><span class="identifier">receiveAll</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.flows$receiveAll(net.corda.core.flows.FlowLogic((kotlin.Any)), java.lang.Class((net.corda.testing.flows.receiveAll.R)), net.corda.core.flows.FlowSession, kotlin.Array((net.corda.core.flows.FlowSession)))/receiveType">receiveType</span><span class="symbol">:</span>&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html"><span class="identifier">Class</span></a><span class="symbol">&lt;</span><span class="identifier">R</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.testing.flows$receiveAll(net.corda.core.flows.FlowLogic((kotlin.Any)), java.lang.Class((net.corda.testing.flows.receiveAll.R)), net.corda.core.flows.FlowSession, kotlin.Array((net.corda.core.flows.FlowSession)))/session">session</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.flows/-flow-session/index.html"><span class="identifier">FlowSession</span></a><span class="symbol">, </span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.testing.flows$receiveAll(net.corda.core.flows.FlowLogic((kotlin.Any)), java.lang.Class((net.corda.testing.flows.receiveAll.R)), net.corda.core.flows.FlowSession, kotlin.Array((net.corda.core.flows.FlowSession)))/sessions">sessions</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.flows/-flow-session/index.html"><span class="identifier">FlowSession</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.utilities/-untrustworthy-data/index.html"><span class="identifier">UntrustworthyData</span></a><span class="symbol">&lt;</span><span class="identifier">R</span><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code><br/>
<code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">R</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span> <a href="../../net.corda.core.flows/-flow-logic/index.html"><span class="identifier">FlowLogic</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">.</span><span class="identifier">receiveAll</span><span class="symbol">(</span><span class="identifier" id="net.corda.testing.flows$receiveAll(net.corda.core.flows.FlowLogic((kotlin.Any)), net.corda.core.flows.FlowSession, kotlin.Array((net.corda.core.flows.FlowSession)))/session">session</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.flows/-flow-session/index.html"><span class="identifier">FlowSession</span></a><span class="symbol">, </span><span class="keyword">vararg</span> <span class="identifier" id="net.corda.testing.flows$receiveAll(net.corda.core.flows.FlowLogic((kotlin.Any)), net.corda.core.flows.FlowSession, kotlin.Array((net.corda.core.flows.FlowSession)))/sessions">sessions</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.flows/-flow-session/index.html"><span class="identifier">FlowSession</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../net.corda.core.utilities/-untrustworthy-data/index.html"><span class="identifier">UntrustworthyData</span></a><span class="symbol">&lt;</span><span class="identifier">R</span><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code></td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
