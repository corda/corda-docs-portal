<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_242) on Mon Jan 09 20:06:18 UTC 2023 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>CompositeKey</title>
<meta name="date" content="2023-01-09">
<meta name="keywords" content="net.corda.core.crypto.CompositeKey class">
<meta name="keywords" content="KEY_ALGORITHM">
<meta name="keywords" content="Companion">
<meta name="keywords" content="getChildren()">
<meta name="keywords" content="checkValidity()">
<meta name="keywords" content="isFulfilledBy()">
<meta name="keywords" content="getAlgorithm()">
<meta name="keywords" content="getEncoded()">
<meta name="keywords" content="getFormat()">
<meta name="keywords" content="getLeafKeys()">
<meta name="keywords" content="equals()">
<meta name="keywords" content="hashCode()">
<meta name="keywords" content="toString()">
<meta name="keywords" content="getThreshold()">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CompositeKey";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/corda/core/crypto/CompositeSignaturesWithKeys.Companion.html" title="class in net.corda.core.crypto"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/corda/core/crypto/CompositeKeyFactory.html" title="class in net.corda.core.crypto"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/corda/core/crypto/CompositeKey.html" target="_top">Frames</a></li>
<li><a href="CompositeKey.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.corda.core.crypto</div>
<h2 title="Class CompositeKey" class="title">Class CompositeKey</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>net.corda.core.crypto.CompositeKey</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">CompositeKey</span></pre>
<div class="block"><p><p>A tree data structure that enables the representation of composite public keys, which are used to represent
the signing requirements for multi-signature scenarios such as RAFT notary services. A composite key is a list
of leaf keys and their contributing weight, and each leaf can be a conventional single key or a composite key.
Keys contribute their weight to the total if they are matched by the signature.</p></p><p><p><p>For complex scenarios, such as <em>"Both Alice and Bob need to sign to consume a state S"</em>, we can represent
the requirement by creating a tree with a root <a href="../../../../net/corda/core/crypto/CompositeKey.html" title="class in net.corda.core.crypto"><code>class CompositeKey</code></a>, and Alice and Bob as children.
The root node would specify <em>weights</em> for each of its children and a <em>threshold</em> – the minimum total weight required
(e.g. the minimum number of child signatures required) to satisfy the tree signature requirement.</p><p>Using these constructs we can express e.g. 1 of N (OR) or N of N (AND) signature requirements. By nesting we can
create multi-level requirements such as <em>"either the CEO or 3 of 5 of his assistants need to sign"</em>.</p></p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/core/crypto/CompositeKey.html" title="class in net.corda.core.crypto"><code>class CompositeKey</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="KEY_ALGORITHM">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_ALGORITHM</h4>
<pre>@NotNull
public static&nbsp;java.lang.String KEY_ALGORITHM</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#net.corda.core.crypto.CompositeKey.KEY_ALGORITHM">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="Companion">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Companion</h4>
<pre>public static&nbsp;net.corda.core.crypto.CompositeKey.Companion Companion</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getChildren--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChildren</h4>
<pre>@NotNull
public&nbsp;java.util.List&lt;net.corda.core.crypto.CompositeKey.NodeAndWeight&gt;&nbsp;getChildren()</pre>
<div class="block"><p><p>Τhe order of the children may not be the same to what was provided in the builder.</p></p></div>
</li>
</ul>
<a name="checkValidity--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkValidity</h4>
<pre>public&nbsp;void&nbsp;checkValidity()</pre>
<div class="block"><p><p>This method will detect graph cycles in the full composite key structure to protect against infinite loops when
traversing the graph and key duplicates in the each layer. It also checks if the threshold and weight constraint
requirements are met, while it tests for aggregated-weight integer overflow.
In practice, this method should be always invoked on the root <a href="../../../../net/corda/core/crypto/CompositeKey.html" title="class in net.corda.core.crypto"><code>class CompositeKey</code></a>, as it inherently
validates the child nodes (all the way till the leaves).</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/core/crypto/CompositeKey.html" title="class in net.corda.core.crypto"><code>class CompositeKey</code></a></dd>
</dl>
</li>
</ul>
<a name="isFulfilledBy-key-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFulfilledBy</h4>
<pre>public&nbsp;boolean&nbsp;isFulfilledBy(@NotNull
                             java.security.PublicKey&nbsp;key)</pre>
<div class="block"><p><p>Takes single <a href="https://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a> and checks if <a href="../../../../net/corda/core/crypto/CompositeKey.html" title="class in net.corda.core.crypto"><code>class CompositeKey</code></a> requirements hold for that key.</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html">PublicKey</a>, 
<a href="../../../../net/corda/core/crypto/CompositeKey.html" title="class in net.corda.core.crypto"><code>class CompositeKey</code></a></dd>
</dl>
</li>
</ul>
<a name="getAlgorithm--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAlgorithm</h4>
<pre>@NotNull
public&nbsp;java.lang.String&nbsp;getAlgorithm()</pre>
</li>
</ul>
<a name="getEncoded--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEncoded</h4>
<pre>@NotNull
public&nbsp;kotlin.Array[]&nbsp;getEncoded()</pre>
</li>
</ul>
<a name="getFormat--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFormat</h4>
<pre>@NotNull
public&nbsp;java.lang.String&nbsp;getFormat()</pre>
</li>
</ul>
<a name="isFulfilledBy-keysToCheck-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFulfilledBy</h4>
<pre>public&nbsp;boolean&nbsp;isFulfilledBy(@NotNull
                             java.lang.Iterable&lt;? extends java.security.PublicKey&gt;&nbsp;keysToCheck)</pre>
<div class="block"><p><p>Function checks if the public keys corresponding to the signatures are matched against the leaves of the composite
key tree in question, and the total combined weight of all children is calculated for every intermediary node.
If all thresholds are satisfied, the composite key requirement is considered to be met.</p></p></div>
</li>
</ul>
<a name="getLeafKeys--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLeafKeys</h4>
<pre>@NotNull
public&nbsp;java.util.Set&lt;java.security.PublicKey&gt;&nbsp;getLeafKeys()</pre>
<div class="block"><p><p>Set of all leaf keys of that <a href="../../../../net/corda/core/crypto/CompositeKey.html" title="class in net.corda.core.crypto"><code>class CompositeKey</code></a>.</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/core/crypto/CompositeKey.html" title="class in net.corda.core.crypto"><code>class CompositeKey</code></a></dd>
</dl>
</li>
</ul>
<a name="equals-other-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equals</h4>
<pre>public&nbsp;boolean&nbsp;equals(@Nullable
                      java.lang.Object&nbsp;other)</pre>
</li>
</ul>
<a name="hashCode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashCode</h4>
<pre>public&nbsp;int&nbsp;hashCode()</pre>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>@NotNull
public&nbsp;java.lang.String&nbsp;toString()</pre>
</li>
</ul>
<a name="getThreshold--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getThreshold</h4>
<pre>public&nbsp;int&nbsp;getThreshold()</pre>
<div class="block"><p>specifies the minimum total weight required</p><p><p> (in the simple case – the minimum number of childsignatures required) to satisfy the sub-tree rooted at this node.</p></p></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/corda/core/crypto/CompositeSignaturesWithKeys.Companion.html" title="class in net.corda.core.crypto"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/corda/core/crypto/CompositeKeyFactory.html" title="class in net.corda.core.crypto"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/corda/core/crypto/CompositeKey.html" target="_top">Frames</a></li>
<li><a href="CompositeKey.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
