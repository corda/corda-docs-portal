<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_202) on Fri Mar 20 16:55:38 GMT 2020 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>net.corda.core.flows</title>
<meta name="date" content="2020-03-20">
<meta name="keywords" content="net.corda.core.flows package">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>

<meta name="docsearch:language" content="en">
<meta name="docsearch:version" content="4.0">
<meta name="docsearch:project" content="corda-os">
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="net.corda.core.flows";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/corda/core/crypto/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../net/corda/core/identity/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/corda/core/flows/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;net.corda.core.flows</h1>
<div class="docSummary">
<div class="block">Base data types and abstract classes for implementing Corda flows. To implement a new flow start with <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a>, or
see <a href="../../../../net/corda/core/flows/CollectSignaturesFlow.html" title="class in net.corda.core.flows"><code>class CollectSignaturesFlow</code></a> for a simple example flow. Flows are started via a node's <a href="../../../../net/corda/core/node/ServiceHub.html" title="interface in net.corda.core.node"><code>interface ServiceHub</code></a>.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/FlowLogicRef.html" title="interface in net.corda.core.flows">FlowLogicRef</a></td>
<td class="colLast">
<div class="block">A handle interface representing a <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a> instance which would be possible to safely pass out of the contract sandbox.
Use FlowLogicRefFactory to construct a concrete security checked instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/FlowLogicRefFactory.html" title="interface in net.corda.core.flows">FlowLogicRefFactory</a></td>
<td class="colLast">
<div class="block">The public factory interface for creating validated <a href="../../../../net/corda/core/flows/FlowLogicRef.html" title="interface in net.corda.core.flows"><code>interface FlowLogicRef</code></a> instances as part of the scheduling framework.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/InitiatedBy.html" title="interface in net.corda.core.flows">InitiatedBy</a></td>
<td class="colLast">
<div class="block">This annotation is required by any <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a> that is designed to be initiated by a counterparty flow. The class must
have at least a constructor which takes in a single <a href="../../../../net/corda/core/identity/Party.html" title="class in net.corda.core.identity"><code>class Party</code></a> parameter which represents the
initiating counterparty. The <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a> that does the initiating is specified by the <a href="../../../../net/corda/core/flows/InitiatedBy.html#value--"><code>InitiatedBy.value</code></a> property and itself must be annotated
with <a href="../../../../net/corda/core/flows/InitiatingFlow.html" title="interface in net.corda.core.flows"><code>interface InitiatingFlow</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/InitiatingFlow.html" title="interface in net.corda.core.flows">InitiatingFlow</a></td>
<td class="colLast">
<div class="block">This annotation is required by any <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a> which has been designated to initiate communication with a counterparty
and request they start their side of the flow communication.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/SchedulableFlow.html" title="interface in net.corda.core.flows">SchedulableFlow</a></td>
<td class="colLast">
<div class="block">Any <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a> which is schedulable and is designed to be invoked by a <a href="../../../../net/corda/core/contracts/SchedulableState.html" title="interface in net.corda.core.contracts"><code>interface SchedulableState</code></a>
must have this annotation. If it's missing <a href="../../../../net/corda/core/flows/FlowLogicRefFactory.html#create-flowClass-args-"><code>FlowLogicRefFactory.create</code></a> will throw an exception when it comes time
to schedule the next activity in <a href="../../../../net/corda/core/contracts/SchedulableState.html#nextScheduledActivity-thisStateRef-flowLogicRefFactory-"><code>SchedulableState.nextScheduledActivity</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/StartableByRPC.html" title="interface in net.corda.core.flows">StartableByRPC</a></td>
<td class="colLast">
<div class="block">Any <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a> which is to be started by the RPC interface (<a href="../../../../net/corda/core/messaging/CordaRPCOps.html#startFlowDynamic-logicType-args-"><code>CordaRPCOps.startFlowDynamic</code></a>
and <a href="../../../../net/corda/core/messaging/CordaRPCOps.html#startTrackedFlowDynamic-logicType-args-"><code>CordaRPCOps.startTrackedFlowDynamic</code></a>) must have this annotation. If it's missing the
flow will not be allowed to start and an exception will be thrown.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/StartableByService.html" title="interface in net.corda.core.flows">StartableByService</a></td>
<td class="colLast">
<div class="block">Any <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a> which is to be started by the <a href="#">AppServiceHub</a> interface from
within a <a href="#">CordaService</a> must have this annotation. If it's missing the
flow will not be allowed to start and an exception will be thrown.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/AbstractStateReplacementFlow.html" title="class in net.corda.core.flows">AbstractStateReplacementFlow</a></td>
<td class="colLast">
<div class="block">Abstract flow to be used for replacing one state with another, for example when changing the notary of a state.
Notably this requires a one to one replacement of states, states cannot be split, merged or issued as part of these
flows.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/CollectSignatureFlow.html" title="class in net.corda.core.flows">CollectSignatureFlow</a></td>
<td class="colLast">
<div class="block">Get and check the required signature.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/CollectSignaturesFlow.html" title="class in net.corda.core.flows">CollectSignaturesFlow</a></td>
<td class="colLast">
<div class="block">The <a href="../../../../net/corda/core/flows/CollectSignaturesFlow.html" title="class in net.corda.core.flows"><code>class CollectSignaturesFlow</code></a> is used to automate the collection of counterparty signatures for a given transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/ContractUpgradeFlow.html" title="class in net.corda.core.flows">ContractUpgradeFlow</a></td>
<td class="colLast">
<div class="block">A flow to be used for authorising and upgrading state objects of an old contract to a new contract.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/DataVendingFlow.html" title="class in net.corda.core.flows">DataVendingFlow</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/FinalityFlow.html" title="class in net.corda.core.flows">FinalityFlow</a></td>
<td class="colLast">
<div class="block">Verifies the given transaction, then sends it to the named notary. If the notary agrees that the transaction
is acceptable then it is from that point onwards committed to the ledger, and will be written through to the
vault. Additionally it will be distributed to the parties reflected in the participants list of the states.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/FlowInfo.html" title="class in net.corda.core.flows">FlowInfo</a></td>
<td class="colLast">
<div class="block">Version and name of the CorDapp hosting the other side of the flow.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/FlowInitiator.html" title="class in net.corda.core.flows">FlowInitiator</a></td>
<td class="colLast">
<div class="block">Please note that <a href="../../../../net/corda/core/flows/FlowInitiator.html" title="class in net.corda.core.flows"><code>class FlowInitiator</code></a> has been superceded by <a href="../../../../net/corda/core/context/InvocationContext.html" title="class in net.corda.core.context"><code>class InvocationContext</code></a>, which offers
more detail for the same event.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows">FlowLogic</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">A sub-class of <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a> implements a flow using direct, straight line blocking code. Thus you
can write complex flow logic in an ordinary fashion, without having to think about callbacks, restarting after
a node crash, how many instances of your flow there are running and so on.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/FlowSession.html" title="class in net.corda.core.flows">FlowSession</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../net/corda/core/flows/FlowSession.html" title="class in net.corda.core.flows"><code>class FlowSession</code></a> is a handle on a communication sequence between two paired flows, possibly running on separate nodes.
It is used to send and receive messages between the flows as well as to query information about the counter-flow.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/FlowStackSnapshot.html" title="class in net.corda.core.flows">FlowStackSnapshot</a></td>
<td class="colLast">
<div class="block">Main data object representing snapshot of the flow stack, extracted from the Quasar stack.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/NotarisationPayload.html" title="class in net.corda.core.flows">NotarisationPayload</a></td>
<td class="colLast">
<div class="block">Container for the transaction and notarisation request signature.
This is the payload that gets sent by a client to a notary service for committing the input states of the transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/NotarisationRequest.html" title="class in net.corda.core.flows">NotarisationRequest</a></td>
<td class="colLast">
<div class="block">A notarisation request specifies a list of states to consume and the id of the consuming transaction. Its primary
purpose is for notarisation traceability – a signature over the notarisation request, <a href="../../../../net/corda/core/flows/NotarisationRequestSignature.html" title="class in net.corda.core.flows"><code>class NotarisationRequestSignature</code></a>,
allows a notary to prove that a certain party requested the consumption of a particular state.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/NotarisationRequestSignature.html" title="class in net.corda.core.flows">NotarisationRequestSignature</a></td>
<td class="colLast">
<div class="block">A wrapper around a digital signature used for notarisation requests.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/NotarisationResponse.html" title="class in net.corda.core.flows">NotarisationResponse</a></td>
<td class="colLast">
<div class="block">Payload returned by the notary service flow to the client.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/NotaryChangeFlow.html" title="class in net.corda.core.flows">NotaryChangeFlow</a>&lt;T extends <a href="../../../../net/corda/core/contracts/ContractState.html" title="type parameter in ContractState">ContractState</a>&gt;</td>
<td class="colLast">
<div class="block">A flow to be used for changing a state's Notary. This is required since all input states to a transaction
must point to the same notary.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/NotaryError.html" title="class in net.corda.core.flows">NotaryError</a></td>
<td class="colLast">
<div class="block">Specifies the cause for notarisation request failure.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/NotaryFlow.html" title="class in net.corda.core.flows">NotaryFlow</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/ReceiveFinalityFlow.html" title="class in net.corda.core.flows">ReceiveFinalityFlow</a></td>
<td class="colLast">
<div class="block">The receiving counterpart to <a href="../../../../net/corda/core/flows/FinalityFlow.html" title="class in net.corda.core.flows"><code>class FinalityFlow</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/ReceiveStateAndRefFlow.html" title="class in net.corda.core.flows">ReceiveStateAndRefFlow</a>&lt;T extends <a href="../../../../net/corda/core/contracts/ContractState.html" title="type parameter in ContractState">ContractState</a>&gt;</td>
<td class="colLast">
<div class="block">The <a href="../../../../net/corda/core/flows/ReceiveStateAndRefFlow.html" title="class in net.corda.core.flows"><code>class ReceiveStateAndRefFlow</code></a> should be called in response to the <a href="../../../../net/corda/core/flows/SendStateAndRefFlow.html" title="class in net.corda.core.flows"><code>class SendStateAndRefFlow</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/ReceiveTransactionFlow.html" title="class in net.corda.core.flows">ReceiveTransactionFlow</a></td>
<td class="colLast">
<div class="block">The <a href="../../../../net/corda/core/flows/ReceiveTransactionFlow.html" title="class in net.corda.core.flows"><code>class ReceiveTransactionFlow</code></a> should be called in response to the <a href="../../../../net/corda/core/flows/SendTransactionFlow.html" title="class in net.corda.core.flows"><code>class SendTransactionFlow</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/SendStateAndRefFlow.html" title="class in net.corda.core.flows">SendStateAndRefFlow</a></td>
<td class="colLast">
<div class="block">The <a href="../../../../net/corda/core/flows/SendStateAndRefFlow.html" title="class in net.corda.core.flows"><code>class SendStateAndRefFlow</code></a> should be used to send a list of input <a href="../../../../net/corda/core/contracts/StateAndRef.html" title="class in net.corda.core.contracts"><code>class StateAndRef</code></a> to another peer that wishes to verify
the input's integrity by resolving and checking the dependencies as well. The other side should invoke <a href="../../../../net/corda/core/flows/ReceiveStateAndRefFlow.html" title="class in net.corda.core.flows"><code>class ReceiveStateAndRefFlow</code></a>
at the right point in the conversation to receive the input state and ref and perform the resolution back-and-forth
required to check the dependencies.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/SendTransactionFlow.html" title="class in net.corda.core.flows">SendTransactionFlow</a></td>
<td class="colLast">
<div class="block">The <a href="../../../../net/corda/core/flows/SendTransactionFlow.html" title="class in net.corda.core.flows"><code>class SendTransactionFlow</code></a> should be used to send a transaction to another peer that wishes to verify that transaction's
integrity by resolving and checking the dependencies as well. The other side should invoke <a href="../../../../net/corda/core/flows/ReceiveTransactionFlow.html" title="class in net.corda.core.flows"><code>class ReceiveTransactionFlow</code></a> at
the right point in the conversation to receive the sent transaction and perform the resolution back-and-forth required
to check the dependencies and download any missing attachments.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/SignTransactionFlow.html" title="class in net.corda.core.flows">SignTransactionFlow</a></td>
<td class="colLast">
<div class="block">The <a href="../../../../net/corda/core/flows/SignTransactionFlow.html" title="class in net.corda.core.flows"><code>class SignTransactionFlow</code></a> should be called in response to the <a href="../../../../net/corda/core/flows/CollectSignaturesFlow.html" title="class in net.corda.core.flows"><code>class CollectSignaturesFlow</code></a>. It automates the signing of
a transaction providing the transaction:</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/StackFrameDataToken.html" title="class in net.corda.core.flows">StackFrameDataToken</a></td>
<td class="colLast">
<div class="block">Token class, used to indicate stack presence of the corda internal data. Since this data is of no use for
a CordApp developer, it is skipped from serialisation and its presence is only marked by this token.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/StateConsumptionDetails.html" title="class in net.corda.core.flows">StateConsumptionDetails</a></td>
<td class="colLast">
<div class="block">Contains information about the consuming transaction for a particular state.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/StateMachineRunId.html" title="class in net.corda.core.flows">StateMachineRunId</a></td>
<td class="colLast">
<div class="block">A unique identifier for a single state machine run, valid across node restarts. Note that a single run always
has at least one flow, but that flow may also invoke sub-flows: they all share the same run id.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/WaitTimeUpdate.html" title="class in net.corda.core.flows">WaitTimeUpdate</a></td>
<td class="colLast">
<div class="block">Sent by the notary when the notary detects it will unlikely respond before the client retries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/WithReferencedStatesFlow.html" title="class in net.corda.core.flows">WithReferencedStatesFlow</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Given a flow which uses reference states, the <a href="../../../../net/corda/core/flows/WithReferencedStatesFlow.html" title="class in net.corda.core.flows"><code>class WithReferencedStatesFlow</code></a> will execute the flow as a subFlow.
If the flow fails due to a <a href="../../../../net/corda/core/flows/NotaryError.Conflict.html" title="class in net.corda.core.flows"><code>class NotaryError.Conflict</code></a> for a reference state, then WithReferencedStatesFlow will be suspended until the
state refs for the reference states are consumed. In this case, a consumption means that:</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Exception Summary table, listing exceptions, and an explanation">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/FlowException.html" title="class in net.corda.core.flows">FlowException</a></td>
<td class="colLast">
<div class="block">Exception which can be thrown by a <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a> at any point in its logic to unexpectedly bring it to a permanent end.
The exception will propagate to all counterparty flows and will be thrown on their end the next time they wait on a
FlowSession.receive or FlowSession.sendAndReceive. Any flow which no longer needs to do a receive, or has already
ended, will not receive the exception (if this is required then have them wait for a confirmation message).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/IllegalFlowLogicException.html" title="class in net.corda.core.flows">IllegalFlowLogicException</a></td>
<td class="colLast">
<div class="block">Thrown if the structure of a class implementing a flow is not correct. There can be several causes for this such as
not inheriting from <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a>, not having a valid constructor and so on.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/NotaryException.html" title="class in net.corda.core.flows">NotaryException</a></td>
<td class="colLast">
<div class="block">Exception thrown by the notary service if any issues are encountered while trying to commit a transaction. The
underlying error specifies the cause of failure.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/StateReplacementException.html" title="class in net.corda.core.flows">StateReplacementException</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/corda/core/flows/UnexpectedFlowEndException.html" title="class in net.corda.core.flows">UnexpectedFlowEndException</a></td>
<td class="colLast">
<div class="block">Thrown when a flow session ends unexpectedly due to a type mismatch (the other side sent an object of a type
that we were not expecting), or the other side had an internal error, or the other side terminated when we
were waiting for a response.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package net.corda.core.flows Description">Package net.corda.core.flows Description</h2>
<div class="block"><p><p>Base data types and abstract classes for implementing Corda flows. To implement a new flow start with <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a>, or
see <a href="../../../../net/corda/core/flows/CollectSignaturesFlow.html" title="class in net.corda.core.flows"><code>class CollectSignaturesFlow</code></a> for a simple example flow. Flows are started via a node's <a href="../../../../net/corda/core/node/ServiceHub.html" title="interface in net.corda.core.node"><code>interface ServiceHub</code></a>.</p></p><p><p><p>Corda flows are a tool for modelling the interactions between two or more nodes as they negotiate a workflow.
This can range from a simple case of completing a trade which has been agreed upon externally, to more complex
processes such as handling fixing of interest rate swaps.</p></p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a>, 
<a href="../../../../net/corda/core/flows/CollectSignaturesFlow.html" title="class in net.corda.core.flows"><code>class CollectSignaturesFlow</code></a>, 
<a href="../../../../net/corda/core/node/ServiceHub.html" title="interface in net.corda.core.node"><code>interface ServiceHub</code></a></dd>
</dl>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/corda/core/crypto/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../net/corda/core/identity/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/corda/core/flows/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<style>
    @import url("https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,500,600");
    #cookies-eu-banner {
        background-color: rgba(83, 88, 95, 0.9);
        border-radius: 3px;
        color: #fff;
        font-family: 'Source Sans Pro', sans-serif;
        font-size: 13px;
        font-weight: 400;
        left: 3px;
        position: fixed;
        padding: 6px;
        right: 3px;
        text-align: center;
        top: 100px;
        z-index: 1000;
    }
    
    #cookies-eu-banner h3,
    #cookies-eu-banner p {
        color: #fff;
        font-size: 18px;
        letter-spacing: 0;
    }
    
    #cookies-eu-banner h3 {
        font-size: 24px;
        font-style: normal;
        font-weight: 400;
        line-height: 1.2;
        margin: 9px 0 0;
        text-transform: uppercase;
    }
    
    #cookies-eu-banner p {
        margin-bottom: 10px;
        padding: 8px 36px 0;
        text-align: justify;
        line-height: 1.4em;
    }
    
    #cookies-eu-banner fieldset {
        min-width: 0;
        padding: 0;
        margin: 0;
        border: 0;
    }
    
    #cookies-eu-banner legend {
        color: inherit;
        display: block;
        font-size: 18px;
        line-height: inherit;
        max-width: 100%;
        margin-bottom: 16px;
        padding: 0;
        white-space: normal;
        width: 100%;
    }
    
    #cookies-eu-banner a {
        color: #62AAF1;
    }
    
    #cookies-eu-banner .cookies-button-group {
        display: flex;
        justify-content: center;
    }
    
    #cookies-eu-accept,
    #cookies-eu-accept-all {
        background-color: #ec1d24;
        border: none;
        border-radius: 6px;
        color: #fff;
        font-size: 12px;
        font-weight: 600;
        margin: 0 10px 10px;
        max-height: 40px;
        height: 40px;
        line-height: 1.1;
        text-decoration: none;
        width: 150px;
    }
    
    .cookies-checkbox {
        display: inline-block;
        margin: 5px 10px;
    }
    
    .cookies-checkbox label {
        font-size: 16px;
        margin-left: 3px;
    }
    
    @media screen and (min-width: 768px) {
        #cookies-eu-banner {
            bottom: 5px;
            top: inherit;
        }
        #cookies-eu-accept,
        #cookies-eu-accept-all {
            font-size: 14px;
        }
    }
</style>
<div id="cookies-eu-banner" style="display: none;">
    <h3 style="text-transform:none">Your privacy</h3>
    <div class='cookie-flex'>
        <p>
            We use cookies to improve your experience on our site, and to help us understand how people use our documentation. For more detailed information, see our <a href="https://www.r3.com/privacy-policy/">privacy policy</a> and <a href="#">cookie declaration</a>.
        </p>
        <form id='cookie-consent-form'>
            <fieldset>
                <legend>
                    Please select from the following options to continue to our site.
                </legend>
                <div class='cookies-button-group'>
                    <button id="cookies-eu-accept" type="button">
                      Allow cookies selected
                    </button>
                    <button id="cookies-eu-accept-all" type="button">
                      Allow all cookies
                    </button>
                    <span class='cookies-checkbox'>
                      <input
                      type="checkbox"
                      id="necessary"
                      name="necessary"
                      autocomplete="off"
                      checked
                      disabled />
                        <input
                        name="necessary"
                        type="hidden"
                        value="on"/>
                        <label for="necessary">Necessary</label>
                    </span>
                    <span class='cookies-checkbox'>
                      <input
                      type="checkbox"
                      id="preferences"
                      name="preferences"
                      autocomplete="off" />
                      <label for="preferences">Preferences</label>
                    </span>
                    <span class='cookies-checkbox'>
                      <input
                      type="checkbox"
                      id="statistics"
                      name="statistics"
                      autocomplete="off" />
                      <label for="statistics">Statistics</label>
                    </span>
                    <span class='cookies-checkbox'>
                      <input
                      type="checkbox"
                      id="marketing"
                      name="marketing"
                      autocomplete="off" />
                      <label for="marketing">Marketing</label>
                    </span>
                </div>
            </fieldset>
        </form>
    </div>
</div>
<script class='api-keys'>
    var gaKey = 'UA-87760032-1';
    var algolia_appId = "UX2KMUWFAL";
    var algolia_apiKey = "1fe3367db02689b4aeebc59efad5abaf";
    var algolia_index = "docs.corda.net";
</script>
<script class='cookies-eu-banner'>
    ! function(root, factory) {
        "use strict";
        "function" == typeof define && define.amd ? define([], factory) : "object" == typeof exports ? module.exports = factory() : root.CookiesEuBanner = factory()
    }(window, function() {
        "use strict";
        var document = window.document,
            CookiesEuBanner = function(launchFunction, waitAccept, useLocalStorage, undefined) {
                if (!(this instanceof CookiesEuBanner)) return new CookiesEuBanner(launchFunction);
                this.cookieTimeout = 33696e6, this.bots = /bot|crawler|spider|crawling/i, this.cookieName = "hasConsent", this.trackingCookiesNames = ["__utma", "__utmb", "__utmc", "__utmt", "__utmv", "__utmz", "_ga", "_gat", "_gid"], this.launchFunction = launchFunction, this.waitAccept = waitAccept || !1, this.useLocalStorage = useLocalStorage || !1, this.init()
            };
        return CookiesEuBanner.prototype = {
            init: function() {
                var isBot = this.bots.test(navigator.userAgent);
                navigator.doNotTrack || navigator.msDoNotTrack || window.doNotTrack;
                return isBot || !1 === this.hasConsent() ? (this.removeBanner(0), !1) : !0 === this.hasConsent() ? (this.launchFunction(), !0) : (this.showBanner(), void(this.waitAccept || this.setConsent(!0)))
            },
            showBanner: function() {
                var _this = this,
                    getElementById = document.getElementById.bind(document),
                    banner = getElementById("cookies-eu-banner"),
                    rejectButton = getElementById("cookies-eu-reject"),
                    acceptButton = getElementById("cookies-eu-accept"),
                    moreLink = getElementById("cookies-eu-more"),
                    waitRemove = void 0 === banner.dataset.waitRemove ? 0 : parseInt(banner.dataset.waitRemove),
                    addClickListener = this.addClickListener,
                    removeBanner = _this.removeBanner.bind(_this, waitRemove);
                banner.style.display = "block", moreLink && addClickListener(moreLink, function() {
                    _this.deleteCookie(_this.cookieName)
                }), acceptButton && addClickListener(acceptButton, function() {
                    removeBanner(), _this.setConsent(!0), _this.launchFunction()
                }), rejectButton && addClickListener(rejectButton, function() {
                    removeBanner(), _this.setConsent(!1), _this.trackingCookiesNames.map(_this.deleteCookie)
                })
            },
            setConsent: function(consent) {
                if (this.useLocalStorage) return localStorage.setItem(this.cookieName, consent);
                this.setCookie(this.cookieName, consent)
            },
            hasConsent: function() {
                function isCookieSetTo(value) {
                    return -1 < document.cookie.indexOf(cookieName + "=" + value) || localStorage.getItem(cookieName) === value
                }
                var cookieName = this.cookieName;
                return !!isCookieSetTo("true") || !isCookieSetTo("false") && null
            },
            setCookie: function(name, value) {
                var date = new Date;
                date.setTime(date.getTime() + this.cookieTimeout), document.cookie = name + "=" + value + ";SameSite=Strict;expires=" + date.toGMTString() + ";path=/"
            },
            deleteCookie: function(name) {
                var hostname = document.location.hostname.replace(/^www\./, ""),
                    commonSuffix = "; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/";
                document.cookie = name + "=; domain=." + hostname + commonSuffix, document.cookie = name + "=" + commonSuffix
            },
            addClickListener: function(DOMElement, callback) {
                if (DOMElement.attachEvent) return DOMElement.attachEvent("onclick", callback);
                DOMElement.addEventListener("click", callback)
            },
            removeBanner: function(wait) {
                setTimeout(function() {
                    var banner = document.getElementById("cookies-eu-banner");
                    banner && banner.parentNode && banner.parentNode.removeChild(banner)
                }, wait)
            }
        }, CookiesEuBanner
    });
</script>
<script class='google-analytics'>
    function googleAnalytics() {
        var i, s, o, r, a, m;
        i = window, s = document, o = "script", r = "ga", i.GoogleAnalyticsObject = r, i.ga = i.ga || function() {
            (i.ga.q = i.ga.q || []).push(arguments)
        }, i.ga.l = +new Date, a = s.createElement(o), m = s.getElementsByTagName(o)[0], a.async = 1, a.src = "//www.google-analytics.com/analytics.js", m.parentNode.insertBefore(a, m), window.ga("create", "UA-87760032-1", "auto"), window.ga("send", "pageview")
    }
</script>
<script class='docSearchInit'>
    function docSearchInit() {
        var algoliaOptions;
        document.querySelector("#search-input") && (algoliaOptions = {
            hitsPerPage: 5,
            facetFilters: facetFilters
        }, /404.html/.test(window.location.pathname) && delete algoliaOptions.facetFilters, window.docsearch({
            appId: algolia_appId,
            apiKey: algolia_apiKey,
            indexName: algolia_index,
            inputSelector: "#search-input",
            algoliaOptions: algoliaOptions
        }))
    }
</script>
<script class='corda-cookie-banner'>
    const docsearchLoad = (resolve, reject) => {
        const script = document.createElement('script');
        document.body.appendChild(script);
        script.onload = resolve;
        script.onerror = reject;
        script.async = true;
        script.src = "https://cdn.jsdelivr.net/npm/docsearch.js@2.6.3/dist/cdn/docsearch.min.js";
    };

    class DocsiteCookies {
        constructor() {
            this.name = 'corda_cookie';
            this.cookiesAccepted = {
                set: true,
                necessary: true,
                preferences: false,
                statistics: false,
                marketing: false
            };
            this.form = document.querySelector('#cookie-consent-form');
            this.handleAllCookies();

            new CookiesEuBanner(() => {
                this.cookieBanner();
            }, true);
        }

        handleAllCookies() {
            const acceptButton = document.querySelector('#cookies-eu-accept');
            const allCookiesButton = document.querySelector('#cookies-eu-accept-all');

            allCookiesButton.addEventListener('click', e => {
                e.preventDefault();
                this.allowAllCookies(this.form);
                acceptButton.click();
            });
        }

        cookieBanner() {
            if (!this.checkConsent()) {
                this.formToCookie(this.name, this.form);
                this.setAdditionalServices();
            } else {
                this.setAdditionalServices();
            }
        }

        allowAllCookies(form) {
            let cookiePreferences = form.querySelectorAll('.cookies-checkbox');
            for (let cookie of cookiePreferences) {
                cookie.querySelector('input').checked = true;
            }
        }

        formToCookie(name, form) {
            const thirteenMonthsInMils = 31104000000;

            let date = new Date();
            date.setTime(date.getTime() + thirteenMonthsInMils);

            let formData = new FormData(form);
            for (var pair of formData.entries()) {
                switch (pair[0]) {
                    case "necessary":
                        this.cookiesAccepted.necessary = (pair[1] === 'on') ?
                            true :
                            false;
                        break;
                    case "preferences":
                        this.cookiesAccepted.preferences = (pair[1] === 'on') ?
                            true :
                            false;
                        break;
                    case "statistics":
                        this.cookiesAccepted.statistics = (pair[1] === 'on') ?
                            true :
                            false;
                        break;
                    case "marketing":
                        this.cookiesAccepted.marketing = (pair[1] === 'on') ?
                            true :
                            false;
                        break;
                    default:
                        break;
                }
            }
            let cookieValue = JSON.stringify(this.cookiesAccepted);

            document.cookie = `${name}=${cookieValue};SameSite=Strict;expires=${date.toGMTString()};path=/`;
        }

        checkConsent() {
            let cookieName = this.name;
            let cookieValue = this.getCookie(cookieName);

            if (cookieValue) {
                if (cookieValue.set === true) {
                    return true;
                } else {
                    return false;
                }
            } else {
                return false;
            }
        }

        getCookie(name) {
            let value = "; " + document.cookie;
            let parts = value.split("; " + name + "=");
            let cValue = "";

            if (parts.length == 2) {
                cValue = parts.pop().split(";").shift();
            }

            if (hasJsonStructure(cValue)) {
                return JSON.parse(cValue);
            } else {
                return cValue;
            }
        }

        setAdditionalServices() {
            let cookieConsent = this.getCookie(this.name);
            for (let [key, value] of Object.entries(cookieConsent)) {
                if (key === 'necessary' && value === true) {
                    new Promise(docsearchLoad)
                        .then(() => {
                            docSearchInit();
                        })
                        .catch(err => console.log(err));
                }
                if (key === 'statistics' && value === true) {
                    googleAnalytics();
                }
            }
        }
    }

    function hasJsonStructure(str) {
        if (typeof str !== 'string') return false;
        try {
            const result = JSON.parse(str);
            const type = Object.prototype.toString.call(result);
            return type === '[object Object]' ||
                type === '[object Array]';
        } catch (err) {
            return false;
        }
    }
</script>
<script class='initialise'>
    new DocsiteCookies();
</script>
</body>
</html>
