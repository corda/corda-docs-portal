<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>initiateFlow</title>
    <link href="../../../images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "../../../";</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
const savedDarkMode = storage ? JSON.parse(storage) : false
if(savedDarkMode === true){
    document.getElementsByTagName("html")[0].classList.add("theme-dark")
}</script>
<script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async="async"></script>
<link href="../../../styles/style.css" rel="Stylesheet">
<link href="../../../styles/jetbrains-mono.css" rel="Stylesheet">
<link href="../../../styles/main.css" rel="Stylesheet">
<link href="../../../styles/prism.css" rel="Stylesheet">
<link href="../../../styles/logo-styles.css" rel="Stylesheet">
<script type="text/javascript" src="../../../scripts/clipboard.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/navigation-loader.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/platform-content-handler.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/main.js" defer="defer"></script>
<script type="text/javascript" src="../../../scripts/prism.js" async="async"></script>
</head>
<body>
<div class="navigation-wrapper" id="navigation-wrapper">
    <div id="leftToggler"><span class="icon-toggler"></span></div>
    <div class="library-name">
            <a href="../../../index.html">
                    <span>application</span>
            </a>
    </div>
    <div>
5.0.0.190-DevPreview-2    </div>
    <div class="pull-right d-flex">
        <button id="theme-toggle-button"><span id="theme-toggle"></span></button>
        <div id="searchBar"></div>
    </div>
</div>
<div id="container">
    <div id="leftColumn">
        <div id="sideMenu"></div>
    </div>
    <div id="main">
<div class="main-content" id="content" pageIds="application::net.corda.v5.application.messaging/FlowMessaging/initiateFlow/#net.corda.v5.base.types.MemberX500Name/PointingToDeclaration//-213742171">
  <div class="breadcrumbs"><a href="../../../index.html">application</a><span class="delimiter">/</span><a href="../index.html">net.corda.v5.application.messaging</a><span class="delimiter">/</span><a href="index.html">FlowMessaging</a><span class="delimiter">/</span><a href="initiate-flow.html">initiateFlow</a></div>
  <div class="cover ">
    <h1 class="cover"><span>initiate</span><wbr></wbr><span><span>Flow</span></span></h1>
  </div>
  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":application:dokkaHtml/main"><div class="symbol monospace"><div class="block"><div class="block"><span class="token annotation">@</span><span data-unresolved-link="net.corda.v5.base.annotations/Suspendable///PointingToDeclaration/"><span class="token annotation">Suspendable</span></span></div></div><span class="token keyword">abstract </span><span class="token keyword"></span><span class="token keyword">fun </span><a href="initiate-flow.html"><span class="token function">initiateFlow</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">x500Name<span class="token operator">: </span><span data-unresolved-link="net.corda.v5.base.types/MemberX500Name///PointingToDeclaration/">MemberX500Name</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../-flow-session/index.html">FlowSession</a><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Creates a communication session with a counterparty's <a href="../../net.corda.v5.application.flows/-responder-flow/index.html">ResponderFlow</a>. Subsequently, you may send/receive using this session object. Note that this function does not communicate in itself. The counter-flow will be kicked off by the first send/receive.</p><p class="paragraph">Initiated flows are initiated with context based on the context of the initiating flow at the point in time this method is called. The context of the initiating flow is snapshotted by the returned session. Altering the flow context has no effect on the context of the session after this point, and therefore it has no effect on the context of the initiated flow either.</p><h4 class="">Return</h4><p class="paragraph">The session.</p><h2 class="">Parameters</h2><div data-togglable="Parameters"><div class="table" data-togglable="Parameters"><div class="table-row" data-filterable-current=":application:dokkaHtml/main" data-filterable-set=":application:dokkaHtml/main"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><span><span>x500Name</span></span></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">The X500 name of the member to communicate with.</p></div></div></div></div></div></div></div><br><div class="symbol monospace"><div class="block"><div class="block"><span class="token annotation">@</span><span data-unresolved-link="net.corda.v5.base.annotations/Suspendable///PointingToDeclaration/"><span class="token annotation">Suspendable</span></span></div></div><span class="token keyword">abstract </span><span class="token keyword"></span><span class="token keyword">fun </span><a href="initiate-flow.html"><span class="token function">initiateFlow</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">x500Name<span class="token operator">: </span><span data-unresolved-link="net.corda.v5.base.types/MemberX500Name///PointingToDeclaration/">MemberX500Name</span><span class="token punctuation">, </span></span><span class="parameter ">flowContextPropertiesBuilder<span class="token operator">: </span><a href="../-flow-context-properties-builder/index.html">FlowContextPropertiesBuilder</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../-flow-session/index.html">FlowSession</a><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Creates a communication session with another member. Subsequently you may send/receive using this session object. Note that this function does not communicate in itself. The counter-flow will be kicked off by the first send/receive.</p><p class="paragraph">This overload takes a builder of context properties. Any properties set or modified against the context passed to this builder will be propagated to initiated flows and all that flow's initiated flows and sub flows down the stack. The properties passed to the builder are pre-populated with the current flow context properties, see <a href="../../net.corda.v5.application.flows/-flow-context-properties/index.html">FlowContextProperties</a>. Altering the current flow context has no effect on the context of the session after the builder is applied and the session returned by this method, and therefore it has no effect on the context of the initiated flow either.</p><p class="paragraph">Example of use in Kotlin.</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">val flowSession = flowMessaging.initiateFlow(virtualNodeName) { flowContextProperties -&gt;<br>     flowContextProperties[&quot;key&quot;] = &quot;value&quot;<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Example of use in Java.</p><div class="sample-container"><pre><code class="block lang-java" theme="idea">FlowSession flowSession = flowMessaging.initiateFlow(virtualNodeName, (flowContextProperties) -&gt; {<br>     flowContextProperties.put(&quot;key&quot;, &quot;value&quot;);<br>});</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h4 class="">Return</h4><p class="paragraph">The session.</p><h2 class="">Parameters</h2><div data-togglable="Parameters"><div class="table" data-togglable="Parameters"><div class="table-row" data-filterable-current=":application:dokkaHtml/main" data-filterable-set=":application:dokkaHtml/main"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><span><span>x500Name</span></span></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">The X500 name of the member to communicate with.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":application:dokkaHtml/main" data-filterable-set=":application:dokkaHtml/main"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><div><span>flow</span><wbr></wbr><span>Context</span><wbr></wbr><span>Properties</span><wbr></wbr><span><span>Builder</span></span></div></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">A builder of context properties.</p></div></div></div></div></div></div></div><h2 class="">Throws</h2><div class="table"><div class="table-row" data-filterable-current=":application:dokkaHtml/main" data-filterable-set=":application:dokkaHtml/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-illegal-argument-exception/index.html"><span>kotlin.</span><wbr></wbr><span>Illegal</span><wbr></wbr><span>Argument</span><wbr></wbr><span><span>Exception</span></span></a></div></span></div><div><div class="title"><p class="paragraph">if the builder tries to set a property for which a platform property already exists or if the key is prefixed by <a href="../../net.corda.v5.application.flows/-flow-context-properties/-companion/-c-o-r-d-a_-r-e-s-e-r-v-e-d_-p-r-e-f-i-x.html">CORDA_RESERVED_PREFIX</a>. See also <a href="../../net.corda.v5.application.flows/-flow-context-properties/index.html">FlowContextProperties</a>. Any other exception thrown by the builder will also be thrown through here and should be avoided in the provided implementation, see <a href="../-flow-context-properties-builder/index.html">FlowContextPropertiesBuilder</a>.</p></div></div></div></div></div></div></div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>© 2022 Copyright</span><span
                class="pull-right"><span>Generated by </span><a
                href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
    </div>
</div>
</body>
</html>
